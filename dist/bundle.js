/*! For license information please see bundle.js.LICENSE */
!function(t){var n={};function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(e,i,function(n){return t[n]}.bind(null,i));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=140)}([function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n,r){var e=r(3),i=r(29).f,o=r(9),u=r(11),s=r(42),a=r(68),c=r(47);t.exports=function(t,n){var r,f,l,h,p,y=t.target,m=t.global,d=t.stat;if(r=m?e:d?e[y]||s(y,{}):(e[y]||{}).prototype)for(f in n){if(h=n[f],l=t.noTargetGet?(p=i(r,f))&&p.value:r[f],!c(m?f:y+(d?".":"#")+f,t.forced)&&void 0!==l){if(typeof h==typeof l)continue;a(h,l)}(t.sham||l&&l.sham)&&o(h,"sham",!0),u(r,f,h,t)}}},function(t,n,r){var e=r(3),i=r(43),o=r(4),u=r(44),s=r(48),a=r(73),c=i("wks"),f=e.Symbol,l=a?f:f&&f.withoutSetter||u;t.exports=function(t){return o(c,t)||(s&&o(f,t)?c[t]=f[t]:c[t]=l("Symbol."+t)),c[t]}},function(t,n,r){(function(n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n&&n)||Function("return this")()}).call(this,r(62))},function(t,n){var r={}.hasOwnProperty;t.exports=function(t,n){return r.call(t,n)}},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,r){var e=r(7),i=r(64),o=r(8),u=r(19),s=Object.defineProperty;n.f=e?s:function(t,n,r){if(o(t),n=u(n,!0),o(r),i)try{return s(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[n]=r.value),t}},function(t,n,r){var e=r(0);t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,n,r){var e=r(5);t.exports=function(t){if(!e(t))throw TypeError(String(t)+" is not an object");return t}},function(t,n,r){var e=r(7),i=r(6),o=r(18);t.exports=e?function(t,n,r){return i.f(t,n,o(1,r))}:function(t,n,r){return t[n]=r,t}},function(t,n,r){var e=r(30),i=r(17);t.exports=function(t){return e(i(t))}},function(t,n,r){var e=r(3),i=r(9),o=r(4),u=r(42),s=r(66),a=r(20),c=a.get,f=a.enforce,l=String(String).split("String");(t.exports=function(t,n,r,s){var a=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof n||o(r,"name")||i(r,"name",n),f(r).source=l.join("string"==typeof n?n:"")),t!==e?(a?!h&&t[n]&&(c=!0):delete t[n],c?t[n]=r:i(t,n,r)):c?t[n]=r:u(n,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,n,r){var e=r(23),i=Math.min;t.exports=function(t){return t>0?i(e(t),9007199254740991):0}},function(t,n,r){var e=r(17);t.exports=function(t){return Object(e(t))}},function(t,n,r){"use strict";r.r(n),r.d(n,"Point2D",(function(){return e})),r.d(n,"Vector2D",(function(){return o})),r.d(n,"Matrix2D",(function(){return s}));var e=class{constructor(t=0,n=0){this.x=t,this.y=n}clone(){return new this.constructor(this.x,this.y)}add(t){return new this.constructor(this.x+t.x,this.y+t.y)}subtract(t){return new this.constructor(this.x-t.x,this.y-t.y)}multiply(t){return new this.constructor(this.x*t,this.y*t)}divide(t){return new this.constructor(this.x/t,this.y/t)}equals(t){return this.x===t.x&&this.y===t.y}precisionEquals(t,n){return Math.abs(this.x-t.x)<n&&Math.abs(this.y-t.y)<n}lerp(t,n){const r=1-n;return new this.constructor(this.x*r+t.x*n,this.y*r+t.y*n)}distanceFrom(t){const n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)}min(t){return new this.constructor(Math.min(this.x,t.x),Math.min(this.y,t.y))}max(t){return new this.constructor(Math.max(this.x,t.x),Math.max(this.y,t.y))}transform(t){return new this.constructor(t.a*this.x+t.c*this.y+t.e,t.b*this.x+t.d*this.y+t.f)}toString(){return`point(${this.x},${this.y})`}};class i{constructor(t=0,n=0){this.x=t,this.y=n}static fromPoints(t,n){return new i(n.x-t.x,n.y-t.y)}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}magnitude(){return this.x*this.x+this.y*this.y}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}determinant(t){return this.x*t.y-this.y*t.x}unit(){return this.divide(this.length())}add(t){return new this.constructor(this.x+t.x,this.y+t.y)}subtract(t){return new this.constructor(this.x-t.x,this.y-t.y)}multiply(t){return new this.constructor(this.x*t,this.y*t)}divide(t){return new this.constructor(this.x/t,this.y/t)}angleBetween(t){let n=this.dot(t)/(this.length()*t.length());n=Math.max(-1,Math.min(n,1));const r=Math.acos(n);return this.cross(t)<0?-r:r}perp(){return new this.constructor(-this.y,this.x)}perpendicular(t){return this.subtract(this.project(t))}project(t){const n=this.dot(t)/t.dot(t);return t.multiply(n)}transform(t){return new this.constructor(t.a*this.x+t.c*this.y,t.b*this.x+t.d*this.y)}equals(t){return this.x===t.x&&this.y===t.y}precisionEquals(t,n){return Math.abs(this.x-t.x)<n&&Math.abs(this.y-t.y)<n}toString(){return`vector(${this.x},${this.y})`}}var o=i;class u{constructor(t=1,n=0,r=0,e=1,i=0,o=0){this.a=t,this.b=n,this.c=r,this.d=e,this.e=i,this.f=o}static translation(t,n){return new u(1,0,0,1,t,n)}static scaling(t){return new u(t,0,0,t,0,0)}static scalingAt(t,n){return new u(t,0,0,t,n.x-n.x*t,n.y-n.y*t)}static nonUniformScaling(t,n){return new u(t,0,0,n,0,0)}static nonUniformScalingAt(t,n,r){return new u(t,0,0,n,r.x-r.x*t,r.y-r.y*n)}static rotation(t){const n=Math.cos(t),r=Math.sin(t);return new u(n,r,-r,n,0,0)}static rotationAt(t,n){const r=Math.cos(t),e=Math.sin(t);return new u(r,e,-e,r,n.x-n.x*r+n.y*e,n.y-n.y*r-n.x*e)}static rotationFromVector(t){const n=t.unit(),r=n.x,e=n.y;return new u(r,e,-e,r,0,0)}static xFlip(){return new u(-1,0,0,1,0,0)}static yFlip(){return new u(1,0,0,-1,0,0)}static xSkew(t){const n=Math.tan(t);return new u(1,0,n,1,0,0)}static ySkew(t){const n=Math.tan(t);return new u(1,n,0,1,0,0)}multiply(t){return this.isIdentity()?t:t.isIdentity()?this:new this.constructor(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}inverse(){if(this.isIdentity())return this;const t=this.a*this.d-this.b*this.c;if(0===t)throw new Error("Matrix is not invertible");const n=1/t,r=this.f*this.c-this.e*this.d,e=this.e*this.b-this.f*this.a;return new this.constructor(this.d*n,-this.b*n,-this.c*n,this.a*n,r*n,e*n)}translate(t,n){return new this.constructor(this.a,this.b,this.c,this.d,this.a*t+this.c*n+this.e,this.b*t+this.d*n+this.f)}scale(t){return new this.constructor(this.a*t,this.b*t,this.c*t,this.d*t,this.e,this.f)}scaleAt(t,n){const r=n.x-t*n.x,e=n.y-t*n.y;return new this.constructor(this.a*t,this.b*t,this.c*t,this.d*t,this.a*r+this.c*e+this.e,this.b*r+this.d*e+this.f)}scaleNonUniform(t,n){return new this.constructor(this.a*t,this.b*t,this.c*n,this.d*n,this.e,this.f)}scaleNonUniformAt(t,n,r){const e=r.x-t*r.x,i=r.y-n*r.y;return new this.constructor(this.a*t,this.b*t,this.c*n,this.d*n,this.a*e+this.c*i+this.e,this.b*e+this.d*i+this.f)}rotate(t){const n=Math.cos(t),r=Math.sin(t);return new this.constructor(this.a*n+this.c*r,this.b*n+this.d*r,this.a*-r+this.c*n,this.b*-r+this.d*n,this.e,this.f)}rotateAt(t,n){const r=Math.cos(t),e=Math.sin(t),i=n.x,o=n.y,u=this.a*r+this.c*e,s=this.b*r+this.d*e,a=this.c*r-this.a*e,c=this.d*r-this.b*e;return new this.constructor(u,s,a,c,(this.a-u)*i+(this.c-a)*o+this.e,(this.b-s)*i+(this.d-c)*o+this.f)}rotateFromVector(t){const n=t.unit(),r=n.x,e=n.y;return new this.constructor(this.a*r+this.c*e,this.b*r+this.d*e,this.a*-e+this.c*r,this.b*-e+this.d*r,this.e,this.f)}flipX(){return new this.constructor(-this.a,-this.b,this.c,this.d,this.e,this.f)}flipY(){return new this.constructor(this.a,this.b,-this.c,-this.d,this.e,this.f)}skewX(t){const n=Math.tan(t);return new this.constructor(this.a,this.b,this.c+this.a*n,this.d+this.b*n,this.e,this.f)}skewY(t){const n=Math.tan(t);return new this.constructor(this.a+this.c*n,this.b+this.d*n,this.c,this.d,this.e,this.f)}isIdentity(){return 1===this.a&&0===this.b&&0===this.c&&1===this.d&&0===this.e&&0===this.f}isInvertible(){return this.a*this.d-this.b*this.c!=0}getScale(){return{scaleX:Math.sqrt(this.a*this.a+this.c*this.c),scaleY:Math.sqrt(this.b*this.b+this.d*this.d)}}getDecomposition(){const t=.5*(this.a+this.d),n=.5*(this.a-this.d),r=.5*(this.b+this.c),e=.5*(this.b-this.c),i=Math.sqrt(t*t+e*e),o=Math.sqrt(n*n+r*r),u=i+o,s=i-o,a=Math.atan2(r,n),c=Math.atan2(e,t),f=.5*(c-a),l=.5*(c+a);return{translation:this.constructor.translation(this.e,this.f),rotation:this.constructor.rotation(l),scale:this.constructor.nonUniformScaling(u,s),rotation0:this.constructor.rotation(f)}}equals(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f}precisionEquals(t,n){return Math.abs(this.a-t.a)<n&&Math.abs(this.b-t.b)<n&&Math.abs(this.c-t.c)<n&&Math.abs(this.d-t.d)<n&&Math.abs(this.e-t.e)<n&&Math.abs(this.f-t.f)<n}toString(){return`matrix(${this.a},${this.b},${this.c},${this.d},${this.e},${this.f})`}}u.IDENTITY=new u,u.IDENTITY.isIdentity=()=>!0;var s=u},function(t,n,r){var e=r(7),i=r(0),o=r(4),u=Object.defineProperty,s={},a=function(t){throw t};t.exports=function(t,n){if(o(s,t))return s[t];n||(n={});var r=[][t],c=!!o(n,"ACCESSORS")&&n.ACCESSORS,f=o(n,0)?n[0]:a,l=o(n,1)?n[1]:void 0;return s[t]=!!r&&!i((function(){if(c&&!e)return!0;var t={length:-1};c?u(t,1,{enumerable:!0,get:a}):t[1]=1,r.call(t,f,l)}))}},function(t,n){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,n){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,r){var e=r(5);t.exports=function(t,n){if(!e(t))return t;var r,i;if(n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!e(i=r.call(t)))return i;if(!n&&"function"==typeof(r=t.toString)&&!e(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,n,r){var e,i,o,u=r(111),s=r(3),a=r(5),c=r(9),f=r(4),l=r(31),h=r(33),p=s.WeakMap;if(u){var y=new p,m=y.get,d=y.has,x=y.set;e=function(t,n){return x.call(y,t,n),n},i=function(t){return m.call(y,t)||{}},o=function(t){return d.call(y,t)}}else{var v=l("state");h[v]=!0,e=function(t,n){return c(t,v,n),n},i=function(t){return f(t,v)?t[v]:{}},o=function(t){return f(t,v)}}t.exports={set:e,get:i,has:o,enforce:function(t){return o(t)?i(t):e(t,{})},getterFor:function(t){return function(n){var r;if(!a(n)||(r=i(n)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},function(t,n,r){var e=r(69),i=r(3),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,n){return arguments.length<2?o(e[t])||o(i[t]):e[t]&&e[t][n]||i[t]&&i[t][n]}},function(t,n,r){var e=r(70),i=r(46).concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},function(t,n){var r=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:r)(t)}},function(t,n,r){var e=r(16);t.exports=Array.isArray||function(t){return"Array"==e(t)}},function(t,n,r){var e=r(0),i=r(2),o=r(77),u=i("species");t.exports=function(t){return o>=51||!e((function(){var n=[];return(n.constructor={})[u]=function(){return{foo:1}},1!==n[t](Boolean).foo}))}},function(t,n,r){"use strict";var e=r(0);t.exports=function(t,n){var r=[][t];return!!r&&e((function(){r.call(null,n||function(){throw 1},1)}))}},function(t,n,r){"use strict";var e=r(1),i=r(35).map,o=r(25),u=r(15),s=o("map"),a=u("map");e({target:"Array",proto:!0,forced:!s||!a},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";var e=r(1),i=r(39);e({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,n,r){var e=r(7),i=r(63),o=r(18),u=r(10),s=r(19),a=r(4),c=r(64),f=Object.getOwnPropertyDescriptor;n.f=e?f:function(t,n){if(t=u(t),n=s(n,!0),c)try{return f(t,n)}catch(t){}if(a(t,n))return o(!i.f.call(t,n),t[n])}},function(t,n,r){var e=r(0),i=r(16),o="".split;t.exports=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,n,r){var e=r(43),i=r(44),o=e("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,n){t.exports=!1},function(t,n){t.exports={}},function(t,n,r){var e,i=r(8),o=r(113),u=r(46),s=r(33),a=r(114),c=r(65),f=r(31),l=f("IE_PROTO"),h=function(){},p=function(t){return"<script>"+t+"<\/script>"},y=function(){try{e=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,n;y=e?function(t){t.write(p("")),t.close();var n=t.parentWindow.Object;return t=null,n}(e):((n=c("iframe")).style.display="none",a.appendChild(n),n.src=String("javascript:"),(t=n.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var r=u.length;r--;)delete y.prototype[u[r]];return y()};s[l]=!0,t.exports=Object.create||function(t,n){var r;return null!==t?(h.prototype=i(t),r=new h,h.prototype=null,r[l]=t):r=y(),void 0===n?r:o(r,n)}},function(t,n,r){var e=r(116),i=r(30),o=r(13),u=r(12),s=r(50),a=[].push,c=function(t){var n=1==t,r=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l;return function(p,y,m,d){for(var x,v,g=o(p),b=i(g),w=e(y,m,3),M=u(b.length),S=0,A=d||s,P=n?A(p,M):r?A(p,0):void 0;M>S;S++)if((h||S in b)&&(v=w(x=b[S],S,g),t))if(n)P[S]=v;else if(v)switch(t){case 3:return!0;case 5:return x;case 6:return S;case 2:a.call(P,x)}else if(f)return!1;return l?-1:c||f?f:P}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,n,r){"use strict";var e=r(1),i=r(0),o=r(24),u=r(5),s=r(13),a=r(12),c=r(51),f=r(50),l=r(25),h=r(2),p=r(77),y=h("isConcatSpreadable"),m=p>=51||!i((function(){var t=[];return t[y]=!1,t.concat()[0]!==t})),d=l("concat"),x=function(t){if(!u(t))return!1;var n=t[y];return void 0!==n?!!n:o(t)};e({target:"Array",proto:!0,forced:!m||!d},{concat:function(t){var n,r,e,i,o,u=s(this),l=f(u,0),h=0;for(n=-1,e=arguments.length;n<e;n++)if(o=-1===n?u:arguments[n],x(o)){if(h+(i=a(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<i;r++,h++)r in o&&c(l,h,o[r])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(l,h++,o)}return l.length=h,l}})},function(t,n,r){"use strict";var e=r(1),i=r(30),o=r(10),u=r(26),s=[].join,a=i!=Object,c=u("join",",");e({target:"Array",proto:!0,forced:a||!c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,n,r){"use strict";var e,i,o=r(57),u=r(87),s=RegExp.prototype.exec,a=String.prototype.replace,c=s,f=(e=/a/,i=/b*/g,s.call(e,"a"),s.call(i,"a"),0!==e.lastIndex||0!==i.lastIndex),l=u.UNSUPPORTED_Y||u.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];(f||h||l)&&(c=function(t){var n,r,e,i,u=this,c=l&&u.sticky,p=o.call(u),y=u.source,m=0,d=t;return c&&(-1===(p=p.replace("y","")).indexOf("g")&&(p+="g"),d=String(t).slice(u.lastIndex),u.lastIndex>0&&(!u.multiline||u.multiline&&"\n"!==t[u.lastIndex-1])&&(y="(?: "+y+")",d=" "+d,m++),r=new RegExp("^(?:"+y+")",p)),h&&(r=new RegExp("^"+y+"$(?!\\s)",p)),f&&(n=u.lastIndex),e=s.call(c?r:u,d),c?e?(e.input=e.input.slice(m),e[0]=e[0].slice(m),e.index=u.lastIndex,u.lastIndex+=e[0].length):u.lastIndex=0:f&&e&&(u.lastIndex=u.global?e.index+e[0].length:n),h&&e&&e.length>1&&a.call(e[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(e[i]=void 0)})),e}),t.exports=c},function(t,n,r){"use strict";var e=r(89),i=r(90),o=r(8),u=r(17),s=r(130),a=r(91),c=r(12),f=r(92),l=r(39),h=r(0),p=[].push,y=Math.min,m=!h((function(){return!RegExp(4294967295,"y")}));e("split",2,(function(t,n,r){var e;return e="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var e=String(u(this)),o=void 0===r?4294967295:r>>>0;if(0===o)return[];if(void 0===t)return[e];if(!i(t))return n.call(e,t,o);for(var s,a,c,f=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),y=0,m=new RegExp(t.source,h+"g");(s=l.call(m,e))&&!((a=m.lastIndex)>y&&(f.push(e.slice(y,s.index)),s.length>1&&s.index<e.length&&p.apply(f,s.slice(1)),c=s[0].length,y=a,f.length>=o));)m.lastIndex===s.index&&m.lastIndex++;return y===e.length?!c&&m.test("")||f.push(""):f.push(e.slice(y)),f.length>o?f.slice(0,o):f}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:n.call(this,t,r)}:n,[function(n,r){var i=u(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,i){var u=r(e,t,this,i,e!==n);if(u.done)return u.value;var l=o(t),h=String(this),p=s(l,RegExp),d=l.unicode,x=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(m?"y":"g"),v=new p(m?l:"^(?:"+l.source+")",x),g=void 0===i?4294967295:i>>>0;if(0===g)return[];if(0===h.length)return null===f(v,h)?[h]:[];for(var b=0,w=0,M=[];w<h.length;){v.lastIndex=m?w:0;var S,A=f(v,m?h:h.slice(w));if(null===A||(S=y(c(v.lastIndex+(m?0:w)),h.length))===b)w=a(h,w,d);else{if(M.push(h.slice(b,w)),M.length===g)return M;for(var P=1;P<=A.length-1;P++)if(M.push(A[P]),M.length===g)return M;w=b=S}}return M.push(h.slice(b)),M}]}),!m)},function(t,n,r){function e(t,n){this.init(t,n)}e.prototype.init=function(t,n){this.name=t,this.args=n},t.exports=e},function(t,n,r){var e=r(3),i=r(9);t.exports=function(t,n){try{i(e,t,n)}catch(r){e[t]=n}return n}},function(t,n,r){var e=r(32),i=r(67);(t.exports=function(t,n){return i[t]||(i[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.6.5",mode:e?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,n){var r=0,e=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++r+e).toString(36)}},function(t,n,r){var e=r(23),i=Math.max,o=Math.min;t.exports=function(t,n){var r=e(t);return r<0?i(r+n,0):o(r,n)}},function(t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,n,r){var e=r(0),i=/#|\.prototype\./,o=function(t,n){var r=s[u(t)];return r==c||r!=a&&("function"==typeof n?e(n):!!n)},u=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},a=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,n,r){var e=r(0);t.exports=!!Object.getOwnPropertySymbols&&!e((function(){return!String(Symbol())}))},function(t,n,r){var e=r(6).f,i=r(4),o=r(2)("toStringTag");t.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},function(t,n,r){var e=r(5),i=r(24),o=r(2)("species");t.exports=function(t,n){var r;return i(t)&&("function"!=typeof(r=t.constructor)||r!==Array&&!i(r.prototype)?e(r)&&null===(r=r[o])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===n?0:n)}},function(t,n,r){"use strict";var e=r(19),i=r(6),o=r(18);t.exports=function(t,n,r){var u=e(n);u in t?i.f(t,u,o(0,r)):t[u]=r}},function(t,n,r){"use strict";var e=r(1),i=r(35).filter,o=r(25),u=r(15),s=o("filter"),a=u("filter");e({target:"Array",proto:!0,forced:!s||!a},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";var e=r(1),i=r(78);e({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,n){t.exports={}},function(t,n,r){"use strict";var e=r(1),i=r(5),o=r(24),u=r(45),s=r(12),a=r(10),c=r(51),f=r(2),l=r(25),h=r(15),p=l("slice"),y=h("slice",{ACCESSORS:!0,0:0,1:2}),m=f("species"),d=[].slice,x=Math.max;e({target:"Array",proto:!0,forced:!p||!y},{slice:function(t,n){var r,e,f,l=a(this),h=s(l.length),p=u(t,h),y=u(void 0===n?h:n,h);if(o(l)&&("function"!=typeof(r=l.constructor)||r!==Array&&!o(r.prototype)?i(r)&&null===(r=r[m])&&(r=void 0):r=void 0,r===Array||void 0===r))return d.call(l,p,y);for(e=new(void 0===r?Array:r)(x(y-p,0)),f=0;p<y;p++,f++)p in l&&c(e,f,l[p]);return e.length=f,e}})},function(t,n,r){var e={};e[r(2)("toStringTag")]="z",t.exports="[object z]"===String(e)},function(t,n,r){"use strict";var e=r(8);t.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},function(t,n,r){"use strict";var e=r(11),i=r(8),o=r(0),u=r(57),s=RegExp.prototype,a=s.toString,c=o((function(){return"/a/b"!=a.call({source:"a",flags:"b"})})),f="toString"!=a.name;(c||f)&&e(RegExp.prototype,"toString",(function(){var t=i(this),n=String(t.source),r=t.flags;return"/"+n+"/"+String(void 0===r&&t instanceof RegExp&&!("flags"in s)?u.call(t):r)}),{unsafe:!0})},function(t,n,r){var e=r(3),i=r(93),o=r(78),u=r(9);for(var s in i){var a=e[s],c=a&&a.prototype;if(c&&c.forEach!==o)try{u(c,"forEach",o)}catch(t){c.forEach=o}}},function(t,n,r){n.Intersection=r(104),n.IntersectionArgs=r(41),n.Shapes=r(107),n.AffineShapes=r(108),n.IntersectionQuery=r(109),n.Point2D=r(14).Point2D,n.Vector2D=r(14).Vector2D,n.Matrix2D=r(14).Matrix2D},function(t,n,r){function e(){this.init(arguments)}e.TOLERANCE=1e-6,e.ACCURACY=15,e.interpolate=function(t,n,r,e,i){if(t.constructor!==Array||n.constructor!==Array)throw new Error("Polynomial.interpolate: xs and ys must be arrays");if(isNaN(r)||isNaN(e)||isNaN(i))throw new Error("Polynomial.interpolate: n, offset, and x must be numbers");for(var o=0,u=0,s=new Array(r),a=new Array(r),c=0,f=Math.abs(i-t[e]),l=0;l<r;l++){var h=Math.abs(i-t[e+l]);h<f&&(c=l,f=h),s[l]=a[l]=n[e+l]}o=n[e+c],c--;for(var p=1;p<r;p++){for(l=0;l<r-p;l++){var y=t[e+l]-i,m=t[e+l+p]-i,d=s[l+1]-a[l],x=y-m;if(0==x)throw new Error("Unable to interpolate polynomial. Two numbers in n were identical (to within roundoff)");x=d/x,a[l]=m*x,s[l]=y*x}o+=u=2*(c+1)<r-p?s[c+1]:a[c--]}return{y:o,dy:u}},e.prototype.init=function(t){this.coefs=new Array;for(var n=t.length-1;n>=0;n--)this.coefs.push(t[n]);this._variable="t",this._s=0},e.prototype.eval=function(t){if(isNaN(t))throw new Error("Polynomial.eval: parameter must be a number");for(var n=0,r=this.coefs.length-1;r>=0;r--)n=n*t+this.coefs[r];return n},e.prototype.add=function(t){for(var n=new e,r=this.getDegree(),i=t.getDegree(),o=Math.max(r,i),u=0;u<=o;u++){var s=u<=r?this.coefs[u]:0,a=u<=i?t.coefs[u]:0;n.coefs[u]=s+a}return n},e.prototype.multiply=function(t){for(var n=new e,r=0;r<=this.getDegree()+t.getDegree();r++)n.coefs.push(0);for(r=0;r<=this.getDegree();r++)for(var i=0;i<=t.getDegree();i++)n.coefs[r+i]+=this.coefs[r]*t.coefs[i];return n},e.prototype.divide_scalar=function(t){for(var n=0;n<this.coefs.length;n++)this.coefs[n]/=t},e.prototype.simplify=function(t){void 0===t&&(t=1e-12);for(var n=this.getDegree();n>=0&&Math.abs(this.coefs[n])<=t;n--)this.coefs.pop()},e.prototype.bisection=function(t,n){var r,i=this.eval(t),o=this.eval(n);if(Math.abs(i)<=e.TOLERANCE)r=t;else if(Math.abs(o)<=e.TOLERANCE)r=n;else if(i*o<=0)for(var u=Math.log(n-t),s=Math.LN10*e.ACCURACY,a=Math.ceil((u+s)/Math.LN2),c=0;c<a;c++){r=.5*(t+n);var f=this.eval(r);if(Math.abs(f)<=e.TOLERANCE)break;f*i<0?(n=r,o=f):(t=r,i=f)}return r},e.prototype.toString=function(){for(var t=new Array,n=new Array,r=this.coefs.length-1;r>=0;r--){var e=Math.round(1e3*this.coefs[r])/1e3;if(0!=e){var i=e<0?" - ":" + ";e=Math.abs(e),r>0&&(1==e?e=this._variable:e+=this._variable),r>1&&(e+="^"+r),n.push(i),t.push(e)}}n[0]=" + "==n[0]?"":"-";var o="";for(r=0;r<t.length;r++)o+=n[r]+t[r];return o},e.prototype.trapezoid=function(t,n,r){if(isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Polynomial.trapezoid: parameters must be numbers");var e=n-t;if(1==r){var i=this.eval(t),o=this.eval(n);this._s=.5*e*(i+o)}else{for(var u=1<<r-2,s=e/u,a=t+.5*s,c=0,f=0;f<u;f++)c+=this.eval(a),a+=s;this._s=.5*(this._s+e*c/u)}if(isNaN(this._s))throw new Error("Polynomial.trapezoid: this._s is NaN");return this._s},e.prototype.simpson=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Polynomial.simpson: parameters must be numbers");for(var r=n-t,e=.5*r*(this.eval(t)+this.eval(n)),i=e,o=4*e/3,u=o,s=e,a=1,c=2;c<=20;c++){for(var f=r/a,l=t+.5*f,h=0,p=1;p<=a;p++)h+=this.eval(l),l+=f;if(o=(4*(e=i=.5*(i+r*h/a))-s)/3,Math.abs(o-u)<1e-7*Math.abs(u))break;u=o,s=e,a<<=1}return o},e.prototype.romberg=function(t,n){if(isNaN(t)||isNaN(n))throw new Error("Polynomial.romberg: parameters must be numbers");var r=new Array(21),i=new Array(21),o={y:0,dy:0};i[0]=1;for(var u=1;u<=20&&(r[u-1]=this.trapezoid(t,n,u),!(u>=3&&(o=e.interpolate(i,r,3,u-3,0),Math.abs(o.dy)<=1e-6*o.y)));u++)r[u]=r[u-1],i[u]=.25*i[u-1];return o.y},e.prototype.getDegree=function(){return this.coefs.length-1},e.prototype.getDerivative=function(){for(var t=new e,n=1;n<this.coefs.length;n++)t.coefs.push(n*this.coefs[n]);return t},e.prototype.getRoots=function(){var t;switch(this.simplify(),this.getDegree()){case 0:t=[];break;case 1:t=this.getLinearRoot();break;case 2:t=this.getQuadraticRoots();break;case 3:t=this.getCubicRoots();break;case 4:t=this.getQuarticRoots();break;default:t=[]}return t},e.prototype.getRootsInInterval=function(t,n){var r,e=new Array;if(1==this.getDegree())null!=(r=this.bisection(t,n))&&e.push(r);else{var o=this.getDerivative().getRootsInInterval(t,n);if(o.length>0){for(null!=(r=this.bisection(t,o[0]))&&e.push(r),i=0;i<=o.length-2;i++)null!=(r=this.bisection(o[i],o[i+1]))&&e.push(r);null!=(r=this.bisection(o[o.length-1],n))&&e.push(r)}else null!=(r=this.bisection(t,n))&&e.push(r)}return e},e.prototype.getLinearRoot=function(){var t=[],n=this.coefs[1];return 0!=n&&t.push(-this.coefs[0]/n),t},e.prototype.getQuadraticRoots=function(){var t=[];if(2==this.getDegree()){var n=this.coefs[2],r=this.coefs[1]/n,e=r*r-4*(this.coefs[0]/n);if(e>0){var i=Math.sqrt(e);t.push(.5*(-r+i)),t.push(.5*(-r-i))}else 0==e&&t.push(.5*-r)}return t},e.prototype.getCubicRoots=function(){var t=[];if(3==this.getDegree()){var n=this.coefs[3],r=this.coefs[2]/n,e=this.coefs[1]/n,i=(3*e-r*r)/3,o=(2*r*r*r-9*e*r+27*(this.coefs[0]/n))/27,u=r/3,s=o*o/4+i*i*i/27,a=o/2,c=this.zeroErrorEstimate();if(Math.abs(s)<=c&&(s=0),s>0){var f,l=Math.sqrt(s);f=(x=-a+l)>=0?Math.pow(x,1/3):-Math.pow(-x,1/3),(x=-a-l)>=0?f+=Math.pow(x,1/3):f-=Math.pow(-x,1/3),t.push(f-u)}else if(s<0){var h=Math.sqrt(-i/3),p=Math.atan2(Math.sqrt(-s),-a)/3,y=Math.cos(p),m=Math.sin(p),d=Math.sqrt(3);t.push(2*h*y-u),t.push(-h*(y+d*m)-u),t.push(-h*(y-d*m)-u)}else{var x;x=a>=0?-Math.pow(a,1/3):Math.pow(-a,1/3),t.push(2*x-u),t.push(-x-u)}}return t};var o=function(t){return"number"==typeof t?t?t<0?-1:1:t==t?t:NaN:NaN};e.prototype.getQuarticRoots=function(){var t=[],n=this.getDegree();if(4==n){var r=new e;r.coefs=this.coefs.slice(),r.divide_scalar(r.coefs[n]);Math.abs(r.coefs[0])<10*1e-15*Math.abs(r.coefs[3])&&(r.coefs[0]=0);var i,u=r.getDerivative(),s=u.getRoots().sort((function(t,n){return t-n})),a=[],c=s.length-1,f=this.bounds();maxabsX=Math.max(Math.abs(f.minX),Math.abs(f.maxX));var l=this.zeroErrorEstimate(maxabsX);for(i=0;i<=c;i++)a.push(r.eval(s[i]));for(i=0;i<=c;i++)Math.abs(a[i])<l&&(a[i]=0);i=0;var h=Math.max(.1*(f.maxX-f.minX)/n,1e-15),p=[],y=[];if(c>-1){for(0!=a[0]?o(a[0])!=o(r.eval(s[0]-h)-a[0])&&(p.push(s[0]-h),y.push([f.minX,s[0]])):(t.push(s[0],s[0]),i++);i<c;i++)0==a[i+1]?(t.push(s[i+1],s[i+1]),i++):o(a[i])!=o(a[i+1])&&(p.push((s[i]+s[i+1])/2),y.push([s[i],s[i+1]]));0!=a[c]&&o(a[c])!=o(r.eval(s[c]+h)-a[c])&&(p.push(s[c]+h),y.push([s[c],f.maxX]))}var m=function(t){return r.eval(t)},d=function(t){return u.eval(t)};if(p.length>0)for(i=0;i<p.length;i++)p[i]=e.newton_secant_bisection(p[i],m,d,32,y[i][0],y[i][1]);t=t.concat(p)}return t},e.prototype.zeroErrorEstimate=function(t){if(void 0===t){var n=this.bounds();t=Math.max(Math.abs(n.minX),Math.abs(n.maxX))}if(t<.001)return 2*Math.abs(this.eval(1e-15));var r=this.coefs.length-1,e=this.coefs[r];return 10*1e-15*this.coefs.reduce((function(n,r,i){var o=r/e*Math.pow(t,i);return o>n?o:n}),0)},e.prototype.bounds_UpperReal_Fujiwara=function(){var t=this.coefs,n=t.length-1,r=t[n];1!=r&&(t=this.coefs.map((function(t){return t/r})));var e,i=t.map((function(t,r){return r<n?Math.pow(Math.abs(0==r?t/2:t),1/(n-r)):t})),o=function(t,n,r){return e(r)&&(t.max<n?(t.nearmax=t.max,t.max=n):t.nearmax<n&&(t.nearmax=n)),t};e=function(r){return r<n&&t[r]<0};var u=i.reduce(o,{max:0,nearmax:0});return e=function(r){return r<n&&(n%2==r%2?t[r]<0:t[r]>0)},{negX:-2*i.reduce(o,{max:0,nearmax:0}).max,posX:2*u.max}},e.prototype.bounds_LowerReal_Fujiwara=function(){var t=new e;t.coefs=this.coefs.slice().reverse();var n=t.bounds_UpperReal_Fujiwara();return n.negX=1/n.negX,n.posX=1/n.posX,n},e.prototype.bounds=function(){var t=this.bounds_UpperReal_Fujiwara(),n={minX:t.negX,maxX:t.posX};return 0===t.negX&&0===t.posX||(0===t.negX?n.minX=this.bounds_LowerReal_Fujiwara().posX:0===t.posX&&(n.maxX=this.bounds_LowerReal_Fujiwara().negX),n.minX>n.maxX&&(n.minX=n.maxX=0)),n},e.newton_secant_bisection=function(t,n,r,e,i,u){var s,a,c,f,l,h,p=0,m=0;s=t;var d=Math.pow(10,-14),x="number"==typeof i&&"number"==typeof u;if(x){if(i>u)throw new Error("newton root finding: min must be greater than max");if(l=n(i),h=n(u),o(l)==o(h))throw new Error("newton root finding: y values of bounds must be of opposite sign")}var v,g=function(){return Math.abs(c)<=d*Math.abs(s)||m==s-c-s};for(v=0;v<e;v++){if(0==(a=r(s))){if(0==p)throw new Error("newton root finding: df(x) is zero");a=p}if(p=a,y=n(s),c=y/a,f=s-c,g())break;if(x){if(o(y)==o(h))u=s,h=y;else{if(o(y)!=o(l)){s=f;break}i=s,l=y}if(f<i||f>u){if(o(l)==o(h))break;var b=h-l,w=u-i;if(c=0==b?s-(i+.5*w):Math.abs(b/Math.min(l,h))>50?s-(i+w*(.5+(Math.abs(l)<Math.abs(h)?-.25:.25))):s-(i-l/b*w),f=s-c,g())break}}m=s-f,s=f}return s},t.exports=e},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,n,r){"use strict";var e={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!e.call({1:2},1);n.f=o?function(t){var n=i(this,t);return!!n&&n.enumerable}:e},function(t,n,r){var e=r(7),i=r(0),o=r(65);t.exports=!e&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(t,n,r){var e=r(3),i=r(5),o=e.document,u=i(o)&&i(o.createElement);t.exports=function(t){return u?o.createElement(t):{}}},function(t,n,r){var e=r(67),i=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(t){return i.call(t)}),t.exports=e.inspectSource},function(t,n,r){var e=r(3),i=r(42),o=e["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=o},function(t,n,r){var e=r(4),i=r(112),o=r(29),u=r(6);t.exports=function(t,n){for(var r=i(n),s=u.f,a=o.f,c=0;c<r.length;c++){var f=r[c];e(t,f)||s(t,f,a(n,f))}}},function(t,n,r){var e=r(3);t.exports=e},function(t,n,r){var e=r(4),i=r(10),o=r(71).indexOf,u=r(33);t.exports=function(t,n){var r,s=i(t),a=0,c=[];for(r in s)!e(u,r)&&e(s,r)&&c.push(r);for(;n.length>a;)e(s,r=n[a++])&&(~o(c,r)||c.push(r));return c}},function(t,n,r){var e=r(10),i=r(12),o=r(45),u=function(t){return function(n,r,u){var s,a=e(n),c=i(a.length),f=o(u,c);if(t&&r!=r){for(;c>f;)if((s=a[f++])!=s)return!0}else for(;c>f;f++)if((t||f in a)&&a[f]===r)return t||f||0;return!t&&-1}};t.exports={includes:u(!0),indexOf:u(!1)}},function(t,n){n.f=Object.getOwnPropertySymbols},function(t,n,r){var e=r(48);t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,n,r){var e=r(70),i=r(46);t.exports=Object.keys||function(t){return e(t,i)}},function(t,n,r){var e=r(2);n.f=e},function(t,n,r){var e=r(69),i=r(4),o=r(75),u=r(6).f;t.exports=function(t){var n=e.Symbol||(e.Symbol={});i(n,t)||u(n,t,{value:o.f(t)})}},function(t,n,r){var e,i,o=r(3),u=r(119),s=o.process,a=s&&s.versions,c=a&&a.v8;c?i=(e=c.split("."))[0]+e[1]:u&&(!(e=u.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=u.match(/Chrome\/(\d+)/))&&(i=e[1]),t.exports=i&&+i},function(t,n,r){"use strict";var e=r(35).forEach,i=r(26),o=r(15),u=i("forEach"),s=o("forEach");t.exports=u&&s?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,n,r){"use strict";var e=r(1),i=r(71).indexOf,o=r(26),u=r(15),s=[].indexOf,a=!!s&&1/[1].indexOf(1,-0)<0,c=o("indexOf"),f=u("indexOf",{ACCESSORS:!0,1:0});e({target:"Array",proto:!0,forced:a||!c||!f},{indexOf:function(t){return a?s.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){"use strict";var e=r(10),i=r(120),o=r(54),u=r(20),s=r(81),a=u.set,c=u.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,n){a(this,{type:"Array Iterator",target:e(t),index:0,kind:n})}),(function(){var t=c(this),n=t.target,r=t.kind,e=t.index++;return!n||e>=n.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:e,done:!1}:"values"==r?{value:n[e],done:!1}:{value:[e,n[e]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,n,r){"use strict";var e=r(1),i=r(121),o=r(83),u=r(84),s=r(49),a=r(9),c=r(11),f=r(2),l=r(32),h=r(54),p=r(82),y=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,d=f("iterator"),x=function(){return this};t.exports=function(t,n,r,f,p,v,g){i(r,n,f);var b,w,M,S=function(t){if(t===p&&_)return _;if(!m&&t in L)return L[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},A=n+" Iterator",P=!1,L=t.prototype,E=L[d]||L["@@iterator"]||p&&L[p],_=!m&&E||S(p),k="Array"==n&&L.entries||E;if(k&&(b=o(k.call(new t)),y!==Object.prototype&&b.next&&(l||o(b)===y||(u?u(b,y):"function"!=typeof b[d]&&a(b,d,x)),s(b,A,!0,!0),l&&(h[A]=x))),"values"==p&&E&&"values"!==E.name&&(P=!0,_=function(){return E.call(this)}),l&&!g||L[d]===_||a(L,d,_),h[n]=_,p)if(w={values:S("values"),keys:v?_:S("keys"),entries:S("entries")},g)for(M in w)(m||P||!(M in L))&&c(L,M,w[M]);else e({target:n,proto:!0,forced:m||P},w);return w}},function(t,n,r){"use strict";var e,i,o,u=r(83),s=r(9),a=r(4),c=r(2),f=r(32),l=c("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=u(u(o)))!==Object.prototype&&(e=i):h=!0),null==e&&(e={}),f||a(e,l)||s(e,l,(function(){return this})),t.exports={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:h}},function(t,n,r){var e=r(4),i=r(13),o=r(31),u=r(122),s=o("IE_PROTO"),a=Object.prototype;t.exports=u?Object.getPrototypeOf:function(t){return t=i(t),e(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,n,r){var e=r(8),i=r(123);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,n=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),n=r instanceof Array}catch(t){}return function(r,o){return e(r),i(o),n?t.call(r,o):r.__proto__=o,r}}():void 0)},function(t,n,r){"use strict";var e=r(1),i=r(124).left,o=r(26),u=r(15),s=o("reduce"),a=u("reduce",{1:0});e({target:"Array",proto:!0,forced:!s||!a},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,n,r){var e=r(56),i=r(11),o=r(127);e||i(Object.prototype,"toString",o,{unsafe:!0})},function(t,n,r){"use strict";var e=r(0);function i(t,n){return RegExp(t,n)}n.UNSUPPORTED_Y=e((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),n.BROKEN_CARET=e((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,n,r){var e=r(23),i=r(17),o=function(t){return function(n,r){var o,u,s=String(i(n)),a=e(r),c=s.length;return a<0||a>=c?t?"":void 0:(o=s.charCodeAt(a))<55296||o>56319||a+1===c||(u=s.charCodeAt(a+1))<56320||u>57343?t?s.charAt(a):o:t?s.slice(a,a+2):u-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,n,r){"use strict";r(28);var e=r(11),i=r(0),o=r(2),u=r(39),s=r(9),a=o("species"),c=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),f="$0"==="a".replace(/./,"$0"),l=o("replace"),h=!!/./[l]&&""===/./[l]("a","$0"),p=!i((function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,n,r,l){var y=o(t),m=!i((function(){var n={};return n[y]=function(){return 7},7!=""[t](n)})),d=m&&!i((function(){var n=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[a]=function(){return r},r.flags="",r[y]=/./[y]),r.exec=function(){return n=!0,null},r[y](""),!n}));if(!m||!d||"replace"===t&&(!c||!f||h)||"split"===t&&!p){var x=/./[y],v=r(y,""[t],(function(t,n,r,e,i){return n.exec===u?m&&!i?{done:!0,value:x.call(n,r,e)}:{done:!0,value:t.call(r,n,e)}:{done:!1}}),{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),g=v[0],b=v[1];e(String.prototype,t,g),e(RegExp.prototype,y,2==n?function(t,n){return b.call(t,this,n)}:function(t){return b.call(t,this)})}l&&s(RegExp.prototype[y],"sham",!0)}},function(t,n,r){var e=r(5),i=r(16),o=r(2)("match");t.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},function(t,n,r){"use strict";var e=r(88).charAt;t.exports=function(t,n,r){return n+(r?e(t,n).length:1)}},function(t,n,r){var e=r(16),i=r(39);t.exports=function(t,n){var r=t.exec;if("function"==typeof r){var o=r.call(t,n);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==e(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,n)}},function(t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,n,r){"use strict";var e=r(1),i=r(45),o=r(23),u=r(12),s=r(13),a=r(50),c=r(51),f=r(25),l=r(15),h=f("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),y=Math.max,m=Math.min;e({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,n){var r,e,f,l,h,p,d=s(this),x=u(d.length),v=i(t,x),g=arguments.length;if(0===g?r=e=0:1===g?(r=0,e=x-v):(r=g-2,e=m(y(o(n),0),x-v)),x+r-e>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(f=a(d,e),l=0;l<e;l++)(h=v+l)in d&&c(f,l,d[h]);if(f.length=e,r<e){for(l=v;l<x-e;l++)p=l+r,(h=l+e)in d?d[p]=d[h]:delete d[p];for(l=x;l>x-e+r;l--)delete d[l-1]}else if(r>e)for(l=x-e;l>v;l--)p=l+r-1,(h=l+e-1)in d?d[p]=d[h]:delete d[p];for(l=0;l<r;l++)d[l+v]=arguments[l+2];return d.length=x-e+r,f}})},function(t,n,r){var e=r(5),i=r(84);t.exports=function(t,n,r){var o,u;return i&&"function"==typeof(o=n.constructor)&&o!==r&&e(u=o.prototype)&&u!==r.prototype&&i(t,u),t}},function(t,n,r){var e=r(17),i="["+r(97)+"]",o=RegExp("^"+i+i+"*"),u=RegExp(i+i+"*$"),s=function(t){return function(n){var r=String(e(n));return 1&t&&(r=r.replace(o,"")),2&t&&(r=r.replace(u,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,n){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(module,exports,__webpack_require__){"use strict";(function(global){var numeric=exports;void 0!==global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(t,n){var r,e,i;for(void 0===n&&(n=15),e=.5,r=new Date;;){for(i=e*=2;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;if(new Date-r>n)break}for(i=e;i>3;i-=4)t(),t(),t(),t();for(;i>0;)t(),i--;return 1e3*(3*e-1)/(new Date-r)},numeric._myIndexOf=function(t){var n,r=this.length;for(n=0;n<r;++n)if(this[n]===t)return n;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(t){var n=[];return function t(r){var e;if(void 0===r)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof r)return n.push('"'+r+'"'),!1;if("boolean"==typeof r)return n.push(r.toString()),!1;if("number"==typeof r){var i=function t(n){if(0===n)return"0";if(isNaN(n))return"NaN";if(n<0)return"-"+t(-n);if(isFinite(n)){var r=Math.floor(Math.log(n)/Math.log(10)),e=n/Math.pow(10,r),i=e.toPrecision(numeric.precision);return 10===parseFloat(i)&&(r++,i=(e=1).toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+r.toString()}return"Infinity"}(r),o=r.toPrecision(numeric.precision),u=parseFloat(r.toString()).toString(),s=[i,o,u,parseFloat(o).toString(),parseFloat(u).toString()];for(e=1;e<s.length;e++)s[e].length<i.length&&(i=s[e]);return n.push(Array(numeric.precision+8-i.length).join(" ")+i),!1}if(null===r)return n.push("null"),!1;if("function"==typeof r){n.push(r.toString());var a=!1;for(e in r)r.hasOwnProperty(e)&&(a?n.push(",\n"):n.push("\n{"),a=!0,n.push(e),n.push(": \n"),t(r[e]));return a&&n.push("}\n"),!0}if(r instanceof Array){if(r.length>numeric.largeArray)return n.push("...Large Array..."),!0;a=!1;for(n.push("["),e=0;e<r.length;e++)e>0&&(n.push(","),a&&n.push("\n ")),a=t(r[e]);return n.push("]"),!0}for(e in n.push("{"),a=!1,r)r.hasOwnProperty(e)&&(a&&n.push(",\n"),a=!0,n.push(e),n.push(": \n"),t(r[e]));return n.push("}"),!0}(t),n.join("")},numeric.parseDate=function(t){return function t(n){if("string"==typeof n)return Date.parse(n.replace(/-/g,"/"));if(!(n instanceof Array))throw new Error("parseDate: parameter must be arrays of strings");var r,e=[];for(r=0;r<n.length;r++)e[r]=t(n[r]);return e}(t)},numeric.parseFloat=function(t){return function t(n){if("string"==typeof n)return parseFloat(n);if(!(n instanceof Array))throw new Error("parseFloat: parameter must be arrays of strings");var r,e=[];for(r=0;r<n.length;r++)e[r]=t(n[r]);return e}(t)},numeric.parseCSV=function(t){var n,r,e=t.split("\n"),i=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,s=function(t){return t.substr(0,t.length-1)},a=0;for(r=0;r<e.length;r++){var c,f=(e[r]+",").match(o);if(f.length>0){for(i[a]=[],n=0;n<f.length;n++)c=s(f[n]),u.test(c)?i[a][n]=parseFloat(c):i[a][n]=c;a++}}return i},numeric.toCSV=function(t){var n,r,e,i,o,u=numeric.dim(t);for(e=u[0],u[1],o=[],n=0;n<e;n++){for(i=[],r=0;r<e;r++)i[r]=t[n][r].toString();o[n]=i.join(", ")}return o.join("\n")+"\n"},numeric.getURL=function(t){var n=new XMLHttpRequest;return n.open("GET",t,!1),n.send(),n},numeric.imageURL=function(t){function n(t,n,r){void 0===n&&(n=0),void 0===r&&(r=t.length);var e,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1;t.length;for(e=n;e<r;e++)o=o>>>8^i[255&(o^t[e])];return-1^o}var r,e,i,o,u,s,a,c,f,l,h=t[0].length,p=t[0][0].length,y=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,p>>24&255,p>>16&255,p>>8&255,255&p,h>>24&255,h>>16&255,h>>8&255,255&h,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(l=n(y,12,29),y[29]=l>>24&255,y[30]=l>>16&255,y[31]=l>>8&255,y[32]=255&l,r=1,e=0,a=0;a<h;a++){for(a<h-1?y.push(0):y.push(1),u=3*p+1+(0===a)&255,s=3*p+1+(0===a)>>8&255,y.push(u),y.push(s),y.push(255&~u),y.push(255&~s),0===a&&y.push(0),c=0;c<p;c++)for(i=0;i<3;i++)e=(e+(r=(r+(u=(u=t[i][a][c])>255?255:u<0?0:Math.round(u)))%65521))%65521,y.push(u);y.push(0)}return f=(e<<16)+r,y.push(f>>24&255),y.push(f>>16&255),y.push(f>>8&255),y.push(255&f),o=y.length-41,y[33]=o>>24&255,y[34]=o>>16&255,y[35]=o>>8&255,y[36]=255&o,l=n(y,37),y.push(l>>24&255),y.push(l>>16&255),y.push(l>>8&255),y.push(255&l),y.push(0),y.push(0),y.push(0),y.push(0),y.push(73),y.push(69),y.push(78),y.push(68),y.push(174),y.push(66),y.push(96),y.push(130),"data:image/png;base64,"+function(t){var n,r,e,i,o,u,s,a=t.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f="";for(n=0;n<a;n+=3)o=((3&(r=t[n]))<<4)+((e=t[n+1])>>4),u=((15&e)<<2)+((i=t[n+2])>>6),s=63&i,n+1>=a?u=s=64:n+2>=a&&(s=64),f+=c.charAt(r>>2)+c.charAt(o)+c.charAt(u)+c.charAt(s);return f}(y)},numeric._dim=function(t){for(var n=[];"object"==typeof t;)n.push(t.length),t=t[0];return n},numeric.dim=function(t){var n;return"object"==typeof t?"object"==typeof(n=t[0])?"object"==typeof n[0]?numeric._dim(t):[t.length,n.length]:[t.length]:[]},numeric.mapreduce=function(t,n){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+n+';\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+t+";\n    xi = x[i-1];\n    "+t+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+t+"\n}\nreturn accum;")},numeric.mapreduce2=function(t,n){return Function("x","var n = x.length;\nvar i,xi;\n"+n+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+t+";\n}\nreturn accum;")},numeric.same=function t(n,r){var e,i;if(!(n instanceof Array&&r instanceof Array))return!1;if((i=n.length)!==r.length)return!1;for(e=0;e<i;e++)if(n[e]!==r[e]){if("object"!=typeof n[e])return!1;if(!t(n[e],r[e]))return!1}return!0},numeric.rep=function(t,n,r){void 0===r&&(r=0);var e,i=t[r],o=Array(i);if(r===t.length-1){for(e=i-2;e>=0;e-=2)o[e+1]=n,o[e]=n;return-1===e&&(o[0]=n),o}for(e=i-1;e>=0;e--)o[e]=numeric.rep(t,n,r+1);return o},numeric.dotMMsmall=function(t,n){var r,e,i,o,u,s,a,c,f,l,h;for(o=t.length,u=n.length,s=n[0].length,a=Array(o),r=o-1;r>=0;r--){for(c=Array(s),f=t[r],i=s-1;i>=0;i--){for(l=f[u-1]*n[u-1][i],e=u-2;e>=1;e-=2)h=e-1,l+=f[e]*n[e][i]+f[h]*n[h][i];0===e&&(l+=f[0]*n[0][i]),c[i]=l}a[r]=c}return a},numeric._getCol=function(t,n,r){var e;for(e=t.length-1;e>0;--e)r[e]=t[e][n],r[--e]=t[e][n];0===e&&(r[0]=t[0][n])},numeric.dotMMbig=function(t,n){var r,e,i,o=numeric._getCol,u=n.length,s=Array(u),a=t.length,c=n[0].length,f=new Array(a),l=numeric.dotVV;for(--u,e=--a;-1!==e;--e)f[e]=Array(c);for(e=--c;-1!==e;--e)for(o(n,e,s),i=a;-1!==i;--i)0,r=t[i],f[i][e]=l(r,s);return f},numeric.dotMV=function(t,n){var r,e=t.length,i=(n.length,Array(e)),o=numeric.dotVV;for(r=e-1;r>=0;r--)i[r]=o(t[r],n);return i},numeric.dotVM=function(t,n){var r,e,i,o,u,s,a;for(i=t.length,o=n[0].length,u=Array(o),e=o-1;e>=0;e--){for(s=t[i-1]*n[i-1][e],r=i-2;r>=1;r-=2)a=r-1,s+=t[r]*n[r][e]+t[a]*n[a][e];0===r&&(s+=t[0]*n[0][e]),u[e]=s}return u},numeric.dotVV=function(t,n){var r,e,i=t.length,o=t[i-1]*n[i-1];for(r=i-2;r>=1;r-=2)e=r-1,o+=t[r]*n[r]+t[e]*n[e];return 0===r&&(o+=t[0]*n[0]),o},numeric.dot=function(t,n){var r=numeric.dim;switch(1e3*r(t).length+r(n).length){case 2002:return n.length<10?numeric.dotMMsmall(t,n):numeric.dotMMbig(t,n);case 2001:return numeric.dotMV(t,n);case 1002:return numeric.dotVM(t,n);case 1001:return numeric.dotVV(t,n);case 1e3:return numeric.mulVS(t,n);case 1:return numeric.mulSV(t,n);case 0:return t*n;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(t){var n,r,e,i,o=t.length,u=Array(o);for(n=o-1;n>=0;n--){for(i=Array(o),r=n+2,e=o-1;e>=r;e-=2)i[e]=0,i[e-1]=0;for(e>n&&(i[e]=0),i[n]=t[n],e=n-1;e>=1;e-=2)i[e]=0,i[e-1]=0;0===e&&(i[0]=0),u[n]=i}return u},numeric.getDiag=function(t){var n,r=Math.min(t.length,t[0].length),e=Array(r);for(n=r-1;n>=1;--n)e[n]=t[n][n],e[--n]=t[n][n];return 0===n&&(e[0]=t[0][0]),e},numeric.identity=function(t){return numeric.diag(numeric.rep([t],1))},numeric.pointwise=function(t,n,r){void 0===r&&(r="");var e,i,o=[],u=/\[i\]$/,s="",a=!1;for(e=0;e<t.length;e++)u.test(t[e])?s=i=t[e].substring(0,t[e].length-3):i=t[e],"ret"===i&&(a=!0),o.push(i);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+s+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(a?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\n    return ret;\n}\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n    "+n+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(t,n,r){void 0===r&&(r="");var e,i,o=[],u=/\[i\]$/,s="",a=!1;for(e=0;e<t.length;e++)u.test(t[e])?s=i=t[e].substring(0,t[e].length-3):i=t[e],"ret"===i&&(a=!0),o.push(i);return o[t.length]="var _n = "+s+".length;\nvar i"+(a?"":", ret = Array(_n)")+";\n"+r+"\nfor(i=_n-1;i!==-1;--i) {\n"+n+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function t(n,r,e,i,o){var u;if(i!==e.length-1)for(u=e[i]-1;u>=0;u--)t("object"==typeof n?n[u]:n,"object"==typeof r?r[u]:r,e,i+1,o);else o(n,r)},numeric._biforeach2=function t(n,r,e,i,o){if(i===e.length-1)return o(n,r);var u,s=e[i],a=Array(s);for(u=s-1;u>=0;--u)a[u]=t("object"==typeof n?n[u]:n,"object"==typeof r?r[u]:r,e,i+1,o);return a},numeric._foreach=function t(n,r,e,i){var o;if(e!==r.length-1)for(o=r[e]-1;o>=0;o--)t(n[o],r,e+1,i);else i(n)},numeric._foreach2=function t(n,r,e,i){if(e===r.length-1)return i(n);var o,u=r[e],s=Array(u);for(o=u-1;o>=0;o--)s[o]=t(n[o],r,e+1,i);return s},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,n;for(t=0;t<numeric.mathfuns2.length;++t)n=numeric.mathfuns2[t],numeric.ops2[n]=n;for(t in numeric.ops2)if(numeric.ops2.hasOwnProperty(t)){n=numeric.ops2[t];var r,e,i="";-1!==numeric.myIndexOf.call(numeric.mathfuns2,t)?(i="var "+n+" = Math."+n+";\n",r=function(t,r,e){return t+" = "+n+"("+r+","+e+")"},e=function(t,r){return t+" = "+n+"("+t+","+r+")"}):(r=function(t,r,e){return t+" = "+r+" "+n+" "+e},e=numeric.opseq.hasOwnProperty(t+"eq")?function(t,r){return t+" "+n+"= "+r}:function(t,r){return t+" = "+t+" "+n+" "+r}),numeric[t+"VV"]=numeric.pointwise2(["x[i]","y[i]"],r("ret[i]","x[i]","y[i]"),i),numeric[t+"SV"]=numeric.pointwise2(["x","y[i]"],r("ret[i]","x","y[i]"),i),numeric[t+"VS"]=numeric.pointwise2(["x[i]","y"],r("ret[i]","x[i]","y"),i),numeric[t]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+e("x","y")+"\n}\nreturn x;\n"),numeric[n]=numeric[t],numeric[t+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],e("ret[i]","x[i]"),i),numeric[t+"eqS"]=numeric.pointwise2(["ret[i]","x"],e("ret[i]","x"),i),numeric[t+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(t=0;t<numeric.mathfuns2.length;++t)n=numeric.mathfuns2[t],delete numeric.ops2[n];for(t=0;t<numeric.mathfuns.length;++t)n=numeric.mathfuns[t],numeric.ops1[n]=n;for(t in numeric.ops1)numeric.ops1.hasOwnProperty(t)&&(i="",n=numeric.ops1[t],-1!==numeric.myIndexOf.call(numeric.mathfuns,t)&&Math.hasOwnProperty(n)&&(i="var "+n+" = Math."+n+";\n"),numeric[t+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+n+"(ret[i]);",i),numeric[t+"eq"]=Function("x",'if(typeof x !== "object") return '+n+"x\nvar i;\nvar V = numeric."+t+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[t+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+n+"(x[i]);",i),numeric[t]=Function("x",'if(typeof x !== "object") return '+n+"(x)\nvar i;\nvar V = numeric."+t+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(t=0;t<numeric.mathfuns.length;++t)n=numeric.mathfuns[t],delete numeric.ops1[n];for(t in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(t)&&(n=numeric.mapreducers[t],numeric[t+"V"]=numeric.mapreduce2(n[0],n[1]),numeric[t]=Function("x","s","k",n[1]+'if(typeof x !== "object") {    xi = x;\n'+n[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+t+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+n[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(t,n){return"object"==typeof t?"object"==typeof n?numeric.truncVV(t,n):numeric.truncVS(t,n):"object"==typeof n?numeric.truncSV(t,n):Math.round(t/n)*n},numeric.inv=function(t){var n,r,e,i,o,u,s,a=numeric.dim(t),c=Math.abs,f=a[0],l=a[1],h=numeric.clone(t),p=numeric.identity(f);for(u=0;u<l;++u){var y=-1,m=-1;for(o=u;o!==f;++o)(s=c(h[o][u]))>m&&(y=o,m=s);for(r=h[y],h[y]=h[u],h[u]=r,i=p[y],p[y]=p[u],p[u]=i,t=r[u],s=u;s!==l;++s)r[s]/=t;for(s=l-1;-1!==s;--s)i[s]/=t;for(o=f-1;-1!==o;--o)if(o!==u){for(n=h[o],e=p[o],t=n[u],s=u+1;s!==l;++s)n[s]-=r[s]*t;for(s=l-1;s>0;--s)e[s]-=i[s]*t,e[--s]-=i[s]*t;0===s&&(e[0]-=i[0]*t)}}return p},numeric.det=function(t){var n=numeric.dim(t);if(2!==n.length||n[0]!==n[1])throw new Error("numeric: det() only works on square matrices");var r,e,i,o,u,s,a,c,f=n[0],l=1,h=numeric.clone(t);for(e=0;e<f-1;e++){for(i=e,r=e+1;r<f;r++)Math.abs(h[r][e])>Math.abs(h[i][e])&&(i=r);for(i!==e&&(a=h[i],h[i]=h[e],h[e]=a,l*=-1),o=h[e],r=e+1;r<f;r++){for(s=(u=h[r])[e]/o[e],i=e+1;i<f-1;i+=2)c=i+1,u[i]-=o[i]*s,u[c]-=o[c]*s;i!==f&&(u[i]-=o[i]*s)}if(0===o[e])return 0;l*=o[e]}return l*h[e][e]},numeric.transpose=function(t){var n,r,e,i,o,u=t.length,s=t[0].length,a=Array(s);for(r=0;r<s;r++)a[r]=Array(u);for(n=u-1;n>=1;n-=2){for(i=t[n],e=t[n-1],r=s-1;r>=1;--r)(o=a[r])[n]=i[r],o[n-1]=e[r],(o=a[--r])[n]=i[r],o[n-1]=e[r];0===r&&((o=a[0])[n]=i[0],o[n-1]=e[0])}if(0===n){for(e=t[0],r=s-1;r>=1;--r)a[r][0]=e[r],a[--r][0]=e[r];0===r&&(a[0][0]=e[0])}return a},numeric.negtranspose=function(t){var n,r,e,i,o,u=t.length,s=t[0].length,a=Array(s);for(r=0;r<s;r++)a[r]=Array(u);for(n=u-1;n>=1;n-=2){for(i=t[n],e=t[n-1],r=s-1;r>=1;--r)(o=a[r])[n]=-i[r],o[n-1]=-e[r],(o=a[--r])[n]=-i[r],o[n-1]=-e[r];0===r&&((o=a[0])[n]=-i[0],o[n-1]=-e[0])}if(0===n){for(e=t[0],r=s-1;r>=1;--r)a[r][0]=-e[r],a[--r][0]=-e[r];0===r&&(a[0][0]=-e[0])}return a},numeric._random=function t(n,r){var e,i,o=n[r],u=Array(o);if(r===n.length-1){for(i=Math.random,e=o-1;e>=1;e-=2)u[e]=i(),u[e-1]=i();return 0===e&&(u[0]=i()),u}for(e=o-1;e>=0;e--)u[e]=t(n,r+1);return u},numeric.random=function(t){return numeric._random(t,0)},numeric.norm2=function(t){return Math.sqrt(numeric.norm2Squared(t))},numeric.linspace=function(t,n,r){if(void 0===r&&(r=Math.max(Math.round(n-t)+1,1)),r<2)return 1===r?[t]:[];var e,i=Array(r);for(e=--r;e>=0;e--)i[e]=(e*n+(r-e)*t)/r;return i},numeric.getBlock=function(t,n,r){var e=numeric.dim(t);return function t(i,o){var u,s=n[o],a=r[o]-s,c=Array(a);if(o===e.length-1){for(u=a;u>=0;u--)c[u]=i[u+s];return c}for(u=a;u>=0;u--)c[u]=t(i[u+s],o+1);return c}(t,0)},numeric.setBlock=function(t,n,r,e){var i=numeric.dim(t);return function t(e,o,u){var s,a=n[u],c=r[u]-a;if(u===i.length-1)for(s=c;s>=0;s--)e[s+a]=o[s];for(s=c;s>=0;s--)t(e[s+a],o[s],u+1)}(t,e,0),t},numeric.getRange=function(t,n,r){var e,i,o,u,s=n.length,a=r.length,c=Array(s);for(e=s-1;-1!==e;--e)for(c[e]=Array(a),o=c[e],u=t[n[e]],i=a-1;-1!==i;--i)o[i]=u[r[i]];return c},numeric.blockMatrix=function(t){var n=numeric.dim(t);if(n.length<4)return numeric.blockMatrix([t]);var r,e,i,o,u,s=n[0],a=n[1];for(r=0,e=0,i=0;i<s;++i)r+=t[i][0].length;for(o=0;o<a;++o)e+=t[0][o][0].length;var c=Array(r);for(i=0;i<r;++i)c[i]=Array(e);var f,l,h,p,y,m=0;for(i=0;i<s;++i){for(f=e,o=a-1;-1!==o;--o)for(f-=(u=t[i][o])[0].length,h=u.length-1;-1!==h;--h)for(y=u[h],l=c[m+h],p=y.length-1;-1!==p;--p)l[f+p]=y[p];m+=t[i][0].length}return c},numeric.tensor=function(t,n){if("number"==typeof t||"number"==typeof n)return numeric.mul(t,n);var r=numeric.dim(t),e=numeric.dim(n);if(1!==r.length||1!==e.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,u,s,a=r[0],c=e[0],f=Array(a);for(o=a-1;o>=0;o--){for(i=Array(c),s=t[o],u=c-1;u>=3;--u)i[u]=s*n[u],i[--u]=s*n[u],i[--u]=s*n[u],i[--u]=s*n[u];for(;u>=0;)i[u]=s*n[u],--u;f[o]=i}return f},numeric.T=function(t,n){this.x=t,this.y=n},numeric.t=function(t,n){return new numeric.T(t,n)},numeric.Tbinop=function(t,n,r,e,i){var o;numeric.indexOf;if("string"!=typeof i)for(o in i="",numeric)numeric.hasOwnProperty(o)&&(t.indexOf(o)>=0||n.indexOf(o)>=0||r.indexOf(o)>=0||e.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n");return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+e+");\n  }\n  return new numeric.T("+r+");\n}\nif(y.y) {\n  return new numeric.T("+n+");\n}\nreturn new numeric.T("+t+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var t=numeric.mul,n=numeric.div;if(this.y){var r=numeric.add(t(this.x,this.x),t(this.y,this.y));return new numeric.T(n(this.x,r),n(numeric.neg(this.y),r))}return new T(n(1,this.x))},numeric.T.prototype.div=function(t){if(t instanceof numeric.T||(t=new numeric.T(t)),t.y)return this.mul(t.reciprocal());var n=numeric.div;return this.y?new numeric.T(n(this.x,t.x),n(this.y,t.x)):new numeric.T(n(this.x,t.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var t=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(t(n),t(r)):new numeric.T(t(n))},numeric.T.prototype.transjugate=function(){var t=numeric.transpose,n=this.x,r=this.y;return r?new numeric.T(t(n),numeric.negtranspose(r)):new numeric.T(t(n))},numeric.Tunop=function(t,n,r){return"string"!=typeof r&&(r=""),Function("var x = this;\n"+r+"\nif(x.y) {  "+n+";\n}\n"+t+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var t=this;if(void 0===t.y)return new numeric.T(numeric.inv(t.x));var n,r,e,i,o,u,s,a,c,f,l,h,p,y,m,d,x,v,g=t.x.length,b=numeric.identity(g),w=numeric.rep([g,g],0),M=numeric.clone(t.x),S=numeric.clone(t.y);for(c=0;c<g;c++){for(h=(y=M[c][c])*y+(m=S[c][c])*m,l=c,f=c+1;f<g;f++)(p=(y=M[f][c])*y+(m=S[f][c])*m)>h&&(l=f,h=p);for(l!==c&&(v=M[c],M[c]=M[l],M[l]=v,v=S[c],S[c]=S[l],S[l]=v,v=b[c],b[c]=b[l],b[l]=v,v=w[c],w[c]=w[l],w[l]=v),n=M[c],r=S[c],o=b[c],u=w[c],y=n[c],m=r[c],f=c+1;f<g;f++)d=n[f],x=r[f],n[f]=(d*y+x*m)/h,r[f]=(x*y-d*m)/h;for(f=0;f<g;f++)d=o[f],x=u[f],o[f]=(d*y+x*m)/h,u[f]=(x*y-d*m)/h;for(f=c+1;f<g;f++){for(e=M[f],i=S[f],s=b[f],a=w[f],y=e[c],m=i[c],l=c+1;l<g;l++)d=n[l],x=r[l],e[l]-=d*y-x*m,i[l]-=x*y+d*m;for(l=0;l<g;l++)d=o[l],x=u[l],s[l]-=d*y-x*m,a[l]-=x*y+d*m}}for(c=g-1;c>0;c--)for(o=b[c],u=w[c],f=c-1;f>=0;f--)for(s=b[f],a=w[f],y=M[f][c],m=S[f][c],l=g-1;l>=0;l--)d=o[l],x=u[l],s[l]-=y*d-m*x,a[l]-=y*x+m*d;return new numeric.T(b,w)},numeric.T.prototype.get=function(t){var n,r=this.x,e=this.y,i=0,o=t.length;if(e){for(;i<o;)r=r[n=t[i]],e=e[n],i++;return new numeric.T(r,e)}for(;i<o;)r=r[n=t[i]],i++;return new numeric.T(r)},numeric.T.prototype.set=function(t,n){var r,e=this.x,i=this.y,o=0,u=t.length,s=n.x,a=n.y;if(0===u)return a?this.y=a:i&&(this.y=void 0),this.x=e,this;if(a){for(i||(i=numeric.rep(numeric.dim(e),0),this.y=i);o<u-1;)e=e[r=t[o]],i=i[r],o++;return e[r=t[o]]=s,i[r]=a,this}if(i){for(;o<u-1;)e=e[r=t[o]],i=i[r],o++;return e[r=t[o]]=s,i[r]=s instanceof Array?numeric.rep(numeric.dim(s),0):0,this}for(;o<u-1;)e=e[r=t[o]],o++;return e[r=t[o]]=s,this},numeric.T.prototype.getRows=function(t,n){var r,e,i=n-t+1,o=Array(i),u=this.x,s=this.y;for(r=t;r<=n;r++)o[r-t]=u[r];if(s){for(e=Array(i),r=t;r<=n;r++)e[r-t]=s[r];return new numeric.T(o,e)}return new numeric.T(o)},numeric.T.prototype.setRows=function(t,n,r){var e,i=this.x,o=this.y,u=r.x,s=r.y;for(e=t;e<=n;e++)i[e]=u[e-t];if(s)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),e=t;e<=n;e++)o[e]=s[e-t];else if(o)for(e=t;e<=n;e++)o[e]=numeric.rep([u[e-t].length],0);return this},numeric.T.prototype.getRow=function(t){var n=this.x,r=this.y;return r?new numeric.T(n[t],r[t]):new numeric.T(n[t])},numeric.T.prototype.setRow=function(t,n){var r=this.x,e=this.y,i=n.x,o=n.y;return r[t]=i,o?(e||(e=numeric.rep(numeric.dim(r),0),this.y=e),e[t]=o):e&&(e=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(t,n){var r=this.x,e=this.y,i=numeric.getBlock;return e?new numeric.T(i(r,t,n),i(e,t,n)):new numeric.T(i(r,t,n))},numeric.T.prototype.setBlock=function(t,n,r){r instanceof numeric.T||(r=new numeric.T(r));var e=this.x,i=this.y,o=numeric.setBlock,u=r.x,s=r.y;if(s)return i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(e,t,n,u),o(i,t,n,s),this;o(e,t,n,u),i&&o(i,t,n,numeric.rep(numeric.dim(u),0))},numeric.T.rep=function(t,n){var r=numeric.T;n instanceof r||(n=new r(n));var e=n.x,i=n.y,o=numeric.rep;return i?new r(o(t,e),o(t,i)):new r(o(t,e))},numeric.T.diag=function(t){t instanceof numeric.T||(t=new numeric.T(t));var n=t.x,r=t.y,e=numeric.diag;return r?new numeric.T(e(n),e(r)):new numeric.T(e(n))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(t){return new numeric.T(numeric.identity(t))},numeric.T.prototype.getDiag=function(){var t=numeric,n=this.x,r=this.y;return r?new t.T(t.getDiag(n),t.getDiag(r)):new t.T(t.getDiag(n))},numeric.house=function(t){var n=numeric.clone(t),r=(t[0]>=0?1:-1)*numeric.norm2(t);n[0]+=r;var e=numeric.norm2(n);if(0===e)throw new Error("eig: internal error");return numeric.div(n,e)},numeric.toUpperHessenberg=function(t){var n=numeric.dim(t);if(2!==n.length||n[0]!==n[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var r,e,i,o,u,s,a,c,f,l,h=n[0],p=numeric.clone(t),y=numeric.identity(h);for(e=0;e<h-2;e++){for(o=Array(h-e-1),r=e+1;r<h;r++)o[r-e-1]=p[r][e];if(numeric.norm2(o)>0){for(u=numeric.house(o),s=numeric.getBlock(p,[e+1,e],[h-1,h-1]),a=numeric.tensor(u,numeric.dot(u,s)),r=e+1;r<h;r++)for(c=p[r],f=a[r-e-1],i=e;i<h;i++)c[i]-=2*f[i-e];for(s=numeric.getBlock(p,[0,e+1],[h-1,h-1]),a=numeric.tensor(numeric.dot(s,u),u),r=0;r<h;r++)for(c=p[r],f=a[r],i=e+1;i<h;i++)c[i]-=2*f[i-e-1];for(s=Array(h-e-1),r=e+1;r<h;r++)s[r-e-1]=y[r];for(a=numeric.tensor(u,numeric.dot(u,s)),r=e+1;r<h;r++)for(l=y[r],f=a[r-e-1],i=0;i<h;i++)l[i]-=2*f[i]}}return{H:p,Q:y}},numeric.epsilon=2220446049250313e-31,numeric.QRFrancis=function(t,n){void 0===n&&(n=1e4),t=numeric.clone(t);numeric.clone(t);var r,e,i,o,u,s,a,c,f,l,h,p,y,m,d,x,v,g,b=numeric.dim(t)[0],w=numeric.identity(b);if(b<3)return{Q:w,B:[[0,b-1]]};var M=numeric.epsilon;for(g=0;g<n;g++){for(x=0;x<b-1;x++)if(Math.abs(t[x+1][x])<M*(Math.abs(t[x][x])+Math.abs(t[x+1][x+1]))){var S=numeric.QRFrancis(numeric.getBlock(t,[0,0],[x,x]),n),A=numeric.QRFrancis(numeric.getBlock(t,[x+1,x+1],[b-1,b-1]),n);for(p=Array(x+1),d=0;d<=x;d++)p[d]=w[d];for(y=numeric.dot(S.Q,p),d=0;d<=x;d++)w[d]=y[d];for(p=Array(b-x-1),d=x+1;d<b;d++)p[d-x-1]=w[d];for(y=numeric.dot(A.Q,p),d=x+1;d<b;d++)w[d]=y[d-x-1];return{Q:w,B:S.B.concat(numeric.add(A.B,x+1))}}var P,L,E;if(i=t[b-2][b-2],o=t[b-2][b-1],u=t[b-1][b-2],c=i+(s=t[b-1][b-1]),a=i*s-o*u,f=numeric.getBlock(t,[0,0],[2,2]),c*c>=4*a)P=.5*(c+Math.sqrt(c*c-4*a)),L=.5*(c-Math.sqrt(c*c-4*a)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,P+L)),numeric.diag(numeric.rep([3],P*L)));else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,c)),numeric.diag(numeric.rep([3],a)));for(r=[f[0][0],f[1][0],f[2][0]],e=numeric.house(r),p=[t[0],t[1],t[2]],y=numeric.tensor(e,numeric.dot(e,p)),d=0;d<3;d++)for(h=t[d],m=y[d],v=0;v<b;v++)h[v]-=2*m[v];for(p=numeric.getBlock(t,[0,0],[b-1,2]),y=numeric.tensor(numeric.dot(p,e),e),d=0;d<b;d++)for(h=t[d],m=y[d],v=0;v<3;v++)h[v]-=2*m[v];for(p=[w[0],w[1],w[2]],y=numeric.tensor(e,numeric.dot(e,p)),d=0;d<3;d++)for(l=w[d],m=y[d],v=0;v<b;v++)l[v]-=2*m[v];for(x=0;x<b-2;x++){for(v=x;v<=x+1;v++)if(Math.abs(t[v+1][v])<M*(Math.abs(t[v][v])+Math.abs(t[v+1][v+1]))){S=numeric.QRFrancis(numeric.getBlock(t,[0,0],[v,v]),n),A=numeric.QRFrancis(numeric.getBlock(t,[v+1,v+1],[b-1,b-1]),n);for(p=Array(v+1),d=0;d<=v;d++)p[d]=w[d];for(y=numeric.dot(S.Q,p),d=0;d<=v;d++)w[d]=y[d];for(p=Array(b-v-1),d=v+1;d<b;d++)p[d-v-1]=w[d];for(y=numeric.dot(A.Q,p),d=v+1;d<b;d++)w[d]=y[d-v-1];return{Q:w,B:S.B.concat(numeric.add(A.B,v+1))}}for(E=Math.min(b-1,x+3),r=Array(E-x),d=x+1;d<=E;d++)r[d-x-1]=t[d][x];for(e=numeric.house(r),p=numeric.getBlock(t,[x+1,x],[E,b-1]),y=numeric.tensor(e,numeric.dot(e,p)),d=x+1;d<=E;d++)for(h=t[d],m=y[d-x-1],v=x;v<b;v++)h[v]-=2*m[v-x];for(p=numeric.getBlock(t,[0,x+1],[b-1,E]),y=numeric.tensor(numeric.dot(p,e),e),d=0;d<b;d++)for(h=t[d],m=y[d],v=x+1;v<=E;v++)h[v]-=2*m[v-x-1];for(p=Array(E-x),d=x+1;d<=E;d++)p[d-x-1]=w[d];for(y=numeric.tensor(e,numeric.dot(e,p)),d=x+1;d<=E;d++)for(l=w[d],m=y[d-x-1],v=0;v<b;v++)l[v]-=2*m[v]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(t,n){var r,e,i,o,u,s,a,c,f,l,h,p,y,m,d,x,v=numeric.toUpperHessenberg(t),g=numeric.QRFrancis(v.H,n),b=numeric.T,w=t.length,M=g.B,S=numeric.dot(g.Q,numeric.dot(v.H,numeric.transpose(g.Q))),A=new b(numeric.dot(g.Q,v.Q)),P=M.length,L=Math.sqrt;for(e=0;e<P;e++)if((r=M[e][0])===M[e][1]);else{if(o=r+1,u=S[r][r],s=S[r][o],a=S[o][r],c=S[o][o],0===s&&0===a)continue;(l=(f=-u-c)*f-4*(u*c-s*a))>=0?((d=(u-(h=f<0?-.5*(f-L(l)):-.5*(f+L(l))))*(u-h)+s*s)>(x=a*a+(c-h)*(c-h))?(y=(u-h)/(d=L(d)),m=s/d):(y=a/(x=L(x)),m=(c-h)/x),i=new b([[m,-y],[y,m]]),A.setRows(r,o,i.dot(A.getRows(r,o)))):(h=-.5*f,p=.5*L(-l),(d=(u-h)*(u-h)+s*s)>(x=a*a+(c-h)*(c-h))?(y=(u-h)/(d=L(d+p*p)),m=s/d,h=0,p/=d):(y=a/(x=L(x+p*p)),m=(c-h)/x,h=p/x,p=0),i=new b([[m,-y],[y,m]],[[h,p],[p,-h]]),A.setRows(r,o,i.dot(A.getRows(r,o))))}var E=A.dot(t).dot(A.transjugate()),_=(w=t.length,numeric.T.identity(w));for(o=0;o<w;o++)if(o>0)for(e=o-1;e>=0;e--){var k=E.get([e,e]),R=E.get([o,o]);numeric.neq(k.x,R.x)||numeric.neq(k.y,R.y)?(h=E.getRow(e).getBlock([e],[o-1]),p=_.getRow(o).getBlock([e],[o-1]),_.set([o,e],E.get([e,o]).neg().sub(h.dot(p)).div(k.sub(R)))):_.setRow(o,_.getRow(e))}for(o=0;o<w;o++)h=_.getRow(o),_.setRow(o,h.div(h.norm2()));return _=_.transpose(),_=A.transjugate().dot(_),{lambda:E.getDiag(),E:_}},numeric.ccsSparse=function(t){var n,r,e,i=t.length,o=[];for(r=i-1;-1!==r;--r)for(e in n=t[r]){for(e=parseInt(e);e>=o.length;)o[o.length]=0;0!==n[e]&&o[e]++}var u=o.length,s=Array(u+1);for(s[0]=0,r=0;r<u;++r)s[r+1]=s[r]+o[r];var a=Array(s[u]),c=Array(s[u]);for(r=i-1;-1!==r;--r)for(e in n=t[r])0!==n[e]&&(o[e]--,a[s[e]+o[e]]=r,c[s[e]+o[e]]=n[e]);return[s,a,c]},numeric.ccsFull=function(t){var n,r,e,i,o=t[0],u=t[1],s=t[2],a=numeric.ccsDim(t),c=a[0],f=a[1],l=numeric.rep([c,f],0);for(n=0;n<f;n++)for(e=o[n],i=o[n+1],r=e;r<i;++r)l[u[r]][n]=s[r];return l},numeric.ccsTSolve=function(t,n,r,e,i){var o,u,s,a,c,f,l,h=t[0],p=t[1],y=t[2],m=h.length-1,d=Math.max,x=0;function v(t){var n;if(0===r[t]){for(r[t]=1,n=h[t];n<h[t+1];++n)v(p[n]);i[x]=t,++x}}for(void 0===e&&(r=numeric.rep([m],0)),void 0===e&&(e=numeric.linspace(0,r.length-1)),void 0===i&&(i=[]),o=e.length-1;-1!==o;--o)v(e[o]);for(i.length=x,o=i.length-1;-1!==o;--o)r[i[o]]=0;for(o=e.length-1;-1!==o;--o)u=e[o],r[u]=n[u];for(o=i.length-1;-1!==o;--o){for(u=i[o],s=h[u],a=d(h[u+1],s),c=s;c!==a;++c)if(p[c]===u){r[u]/=y[c];break}for(l=r[u],c=s;c!==a;++c)(f=p[c])!==u&&(r[f]-=l*y[c])}return r},numeric.ccsDFS=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS.prototype.dfs=function(t,n,r,e,i,o){var u,s,a,c=0,f=i.length,l=this.k,h=this.k1,p=this.j;if(0===e[t])for(e[t]=1,p[0]=t,l[0]=s=n[t],h[0]=a=n[t+1];;)if(s>=a){if(i[f]=p[c],0===c)return;++f,s=l[--c],a=h[c]}else 0===e[u=o[r[s]]]?(e[u]=1,l[c]=s,p[++c]=u,s=n[u],h[c]=a=n[u+1]):++s},numeric.ccsLPSolve=function(t,n,r,e,i,o,u){var s,a,c,f,l,h,p,y,m,d=t[0],x=t[1],v=t[2],g=(d.length,n[0]),b=n[1],w=n[2];for(a=g[i],c=g[i+1],e.length=0,s=a;s<c;++s)u.dfs(o[b[s]],d,x,r,e,o);for(s=e.length-1;-1!==s;--s)r[e[s]]=0;for(s=a;s!==c;++s)r[f=o[b[s]]]=w[s];for(s=e.length-1;-1!==s;--s){for(l=d[f=e[s]],h=d[f+1],p=l;p<h;++p)if(o[x[p]]===f){r[f]/=v[p];break}for(m=r[f],p=l;p<h;++p)(y=o[x[p]])!==f&&(r[y]-=m*v[p])}return r},numeric.ccsLUP1=function(t,n){var r,e,i,o,u,s,a,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],h=f[0],p=f[1],y=f[2],m=l[0],d=l[1],x=l[2],v=numeric.rep([c],0),g=numeric.rep([c],0),b=numeric.ccsLPSolve,w=(Math.max,Math.abs),M=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),A=new numeric.ccsDFS(c);for(void 0===n&&(n=1),r=0;r<c;++r){for(b(f,t,v,g,r,S,A),o=-1,u=-1,e=g.length-1;-1!==e;--e)(i=g[e])<=r||(s=w(v[i]))>o&&(u=i,o=s);for(w(v[r])<n*o&&(e=M[r],o=M[u],M[r]=o,S[o]=r,M[u]=e,S[e]=u,o=v[r],v[r]=v[u],v[u]=o),o=h[r],u=m[r],a=v[r],p[o]=M[r],y[o]=1,++o,e=g.length-1;-1!==e;--e)s=v[i=g[e]],g[e]=0,v[i]=0,i<=r?(d[u]=i,x[u]=s,++u):(p[o]=M[i],y[o]=s/a,++o);h[r+1]=o,m[r+1]=u}for(e=p.length-1;-1!==e;--e)p[e]=S[p[e]];return{L:f,U:l,P:M,Pinv:S}},numeric.ccsDFS0=function(t){this.k=Array(t),this.k1=Array(t),this.j=Array(t)},numeric.ccsDFS0.prototype.dfs=function(t,n,r,e,i,o,u){var s,a,c,f=0,l=i.length,h=this.k,p=this.k1,y=this.j;if(0===e[t])for(e[t]=1,y[0]=t,h[0]=a=n[o[t]],p[0]=c=n[o[t]+1];;){if(isNaN(a))throw new Error("Ow!");if(a>=c){if(i[l]=o[y[f]],0===f)return;++l,a=h[--f],c=p[f]}else 0===e[s=r[a]]?(e[s]=1,h[f]=a,y[++f]=s,a=n[s=o[s]],p[f]=c=n[s+1]):++a}},numeric.ccsLPSolve0=function(t,n,r,e,i,o,u,s){var a,c,f,l,h,p,y,m,d,x=t[0],v=t[1],g=t[2],b=(x.length,n[0]),w=n[1],M=n[2];for(c=b[i],f=b[i+1],e.length=0,a=c;a<f;++a)s.dfs(w[a],x,v,r,e,o,u);for(a=e.length-1;-1!==a;--a)r[u[l=e[a]]]=0;for(a=c;a!==f;++a)r[l=w[a]]=M[a];for(a=e.length-1;-1!==a;--a){for(m=u[l=e[a]],h=x[l],p=x[l+1],y=h;y<p;++y)if(v[y]===m){r[m]/=g[y];break}for(d=r[m],y=h;y<p;++y)r[v[y]]-=d*g[y];r[m]=d}},numeric.ccsLUP0=function(t,n){var r,e,i,o,u,s,a,c=t[0].length-1,f=[numeric.rep([c+1],0),[],[]],l=[numeric.rep([c+1],0),[],[]],h=f[0],p=f[1],y=f[2],m=l[0],d=l[1],x=l[2],v=numeric.rep([c],0),g=numeric.rep([c],0),b=numeric.ccsLPSolve0,w=(Math.max,Math.abs),M=numeric.linspace(0,c-1),S=numeric.linspace(0,c-1),A=new numeric.ccsDFS0(c);for(void 0===n&&(n=1),r=0;r<c;++r){for(b(f,t,v,g,r,S,M,A),o=-1,u=-1,e=g.length-1;-1!==e;--e)(i=g[e])<=r||(s=w(v[M[i]]))>o&&(u=i,o=s);for(w(v[M[r]])<n*o&&(e=M[r],o=M[u],M[r]=o,S[o]=r,M[u]=e,S[e]=u),o=h[r],u=m[r],a=v[M[r]],p[o]=M[r],y[o]=1,++o,e=g.length-1;-1!==e;--e)s=v[M[i=g[e]]],g[e]=0,v[M[i]]=0,i<=r?(d[u]=i,x[u]=s,++u):(p[o]=M[i],y[o]=s/a,++o);h[r+1]=o,m[r+1]=u}for(e=p.length-1;-1!==e;--e)p[e]=S[p[e]];return{L:f,U:l,P:M,Pinv:S}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(t){return[numeric.sup(t[1])+1,t[0].length-1]},numeric.ccsGetBlock=function(t,n,r){var e=numeric.ccsDim(t),i=e[0],o=e[1];void 0===n?n=numeric.linspace(0,i-1):"number"==typeof n&&(n=[n]),void 0===r?r=numeric.linspace(0,o-1):"number"==typeof r&&(r=[r]);var u,s,a,c,f=n.length,l=r.length,h=numeric.rep([o],0),p=[],y=[],m=[h,p,y],d=t[0],x=t[1],v=t[2],g=numeric.rep([i],0),b=0,w=numeric.rep([i],0);for(s=0;s<l;++s){var M=d[c=r[s]],S=d[c+1];for(u=M;u<S;++u)w[a=x[u]]=1,g[a]=v[u];for(u=0;u<f;++u)w[n[u]]&&(p[b]=u,y[b]=g[n[u]],++b);for(u=M;u<S;++u)w[a=x[u]]=0;h[s+1]=b}return m},numeric.ccsDot=function(t,n){var r,e,i,o,u,s,a,c,f,l,h,p=t[0],y=t[1],m=t[2],d=n[0],x=n[1],v=n[2],g=numeric.ccsDim(t),b=numeric.ccsDim(n),w=g[0],M=(g[1],b[1]),S=numeric.rep([w],0),A=numeric.rep([w],0),P=Array(w),L=numeric.rep([M],0),E=[],_=[],k=[L,E,_];for(i=0;i!==M;++i){for(o=d[i],u=d[i+1],f=0,e=o;e<u;++e)for(l=x[e],h=v[e],s=p[l],a=p[l+1],r=s;r<a;++r)0===A[c=y[r]]&&(P[f]=c,A[c]=1,f+=1),S[c]=S[c]+m[r]*h;for(u=(o=L[i])+f,L[i+1]=u,e=f-1;-1!==e;--e)h=o+e,r=P[e],E[h]=r,_[h]=S[r],A[r]=0,S[r]=0;L[i+1]=L[i]+f}return k},numeric.ccsLUPSolve=function(t,n){var r=t.L,e=t.U,i=(t.P,n[0]),o=!1;"object"!=typeof i&&(i=(n=[[0,n.length],numeric.linspace(0,n.length-1),n])[0],o=!0);var u,s,a,c,f,l,h=n[1],p=n[2],y=r[0].length-1,m=i.length-1,d=numeric.rep([y],0),x=Array(y),v=numeric.rep([y],0),g=Array(y),b=numeric.rep([m+1],0),w=[],M=[],S=numeric.ccsTSolve,A=0;for(u=0;u<m;++u){for(f=0,a=i[u],c=i[u+1],s=a;s<c;++s)l=t.Pinv[h[s]],g[f]=l,v[l]=p[s],++f;for(g.length=f,S(r,v,d,g,x),s=g.length-1;-1!==s;--s)v[g[s]]=0;if(S(e,d,v,x,g),o)return v;for(s=x.length-1;-1!==s;--s)d[x[s]]=0;for(s=g.length-1;-1!==s;--s)l=g[s],w[A]=l,M[A]=v[l],v[l]=0,++A;b[u+1]=A}return[b,w,M]},numeric.ccsbinop=function(t,n){return void 0===n&&(n=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+n+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+t+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(t){var n,r=t[0],e=t[1],i=t[2],o=numeric.sup(e)+1,u=r.length,s=numeric.rep([o],0),a=Array(u),c=Array(u),f=numeric.rep([o],0);for(n=0;n<u;++n)f[e[n]]++;for(n=0;n<o;++n)s[n+1]=s[n]+f[n];var l,h,p=s.slice(0);for(n=0;n<u;++n)a[l=p[h=e[n]]]=r[n],c[l]=i[n],p[h]=p[h]+1;return[s,a,c]},numeric.ccsGather=function(t){var n,r,e,i,o,u=t[0],s=t[1],a=t[2],c=u.length-1,f=s.length,l=Array(f),h=Array(f),p=Array(f);for(o=0,n=0;n<c;++n)for(e=u[n],i=u[n+1],r=e;r!==i;++r)h[o]=n,l[o]=s[r],p[o]=a[r],++o;return[l,h,p]},numeric.sdim=function t(n,r,e){if(void 0===r&&(r=[]),"object"!=typeof n)return r;var i;for(i in void 0===e&&(e=0),e in r||(r[e]=0),n.length>r[e]&&(r[e]=n.length),n)n.hasOwnProperty(i)&&t(n[i],r,e+1);return r},numeric.sclone=function t(n,r,e){void 0===r&&(r=0),void 0===e&&(e=numeric.sdim(n).length);var i,o=Array(n.length);if(r===e-1){for(i in n)n.hasOwnProperty(i)&&(o[i]=n[i]);return o}for(i in n)n.hasOwnProperty(i)&&(o[i]=t(n[i],r+1,e));return o},numeric.sdiag=function(t){var n,r,e=t.length,i=Array(e);for(n=e-1;n>=1;n-=2)r=n-1,i[n]=[],i[n][n]=t[n],i[r]=[],i[r][r]=t[r];return 0===n&&(i[0]=[],i[0][0]=t[n]),i},numeric.sidentity=function(t){return numeric.sdiag(numeric.rep([t],1))},numeric.stranspose=function(t){var n,r,e,i=[];t.length;for(n in t)if(t.hasOwnProperty(n))for(r in e=t[n])e.hasOwnProperty(r)&&("object"!=typeof i[r]&&(i[r]=[]),i[r][n]=e[r]);return i},numeric.sLUP=function(t,n){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(t,n){var r,e,i,o,u,s,a,c=t.length,f=(n.length,numeric.stranspose(n)),l=f.length,h=Array(c);for(i=c-1;i>=0;i--){for(a=[],r=t[i],u=l-1;u>=0;u--){for(o in s=0,e=f[u],r)r.hasOwnProperty(o)&&o in e&&(s+=r[o]*e[o]);s&&(a[u]=s)}h[i]=a}return h},numeric.sdotMV=function(t,n){var r,e,i,o,u=t.length,s=Array(u);for(e=u-1;e>=0;e--){for(i in o=0,r=t[e])r.hasOwnProperty(i)&&n[i]&&(o+=r[i]*n[i]);o&&(s[e]=o)}return s},numeric.sdotVM=function(t,n){var r,e,i,o,u=[];for(r in t)if(t.hasOwnProperty(r))for(e in i=n[r],o=t[r],i)i.hasOwnProperty(e)&&(u[e]||(u[e]=0),u[e]+=o*i[e]);return u},numeric.sdotVV=function(t,n){var r,e=0;for(r in t)t[r]&&n[r]&&(e+=t[r]*n[r]);return e},numeric.sdot=function(t,n){var r=numeric.sdim(t).length,e=numeric.sdim(n).length;switch(1e3*r+e){case 0:return t*n;case 1001:return numeric.sdotVV(t,n);case 2001:return numeric.sdotMV(t,n);case 1002:return numeric.sdotVM(t,n);case 2002:return numeric.sdotMM(t,n);default:throw new Error("numeric.sdot not implemented for tensors of order "+r+" and "+e)}},numeric.sscatter=function(t){var n,r,e,i,o=t[0].length,u=t.length,s=[];for(r=o-1;r>=0;--r)if(t[u-1][r]){for(i=s,e=0;e<u-2;e++)i[n=t[e][r]]||(i[n]=[]),i=i[n];i[t[e][r]]=t[e+1][r]}return s},numeric.sgather=function t(n,r,e){var i,o,u;for(o in void 0===r&&(r=[]),void 0===e&&(e=[]),i=e.length,n)if(n.hasOwnProperty(o))if(e[i]=parseInt(o),"number"==typeof(u=n[o])){if(u){if(0===r.length)for(o=i+1;o>=0;--o)r[o]=[];for(o=i;o>=0;--o)r[o].push(e[o]);r[i+1].push(u)}}else t(u,r,e);return e.length>i&&e.pop(),r},numeric.cLU=function(t){var n,r,e,i,o,u,s=t[0],a=t[1],c=t[2],f=s.length,l=0;for(n=0;n<f;n++)s[n]>l&&(l=s[n]);l++;var h,p=Array(l),y=Array(l),m=numeric.rep([l],1/0),d=numeric.rep([l],-1/0);for(e=0;e<f;e++)n=s[e],(r=a[e])<m[n]&&(m[n]=r),r>d[n]&&(d[n]=r);for(n=0;n<l-1;n++)d[n]>d[n+1]&&(d[n+1]=d[n]);for(n=l-1;n>=1;n--)m[n]<m[n-1]&&(m[n-1]=m[n]);for(n=0;n<l;n++)y[n]=numeric.rep([d[n]-m[n]+1],0),p[n]=numeric.rep([n-m[n]],0),n-m[n]+1,d[n]-n+1;for(e=0;e<f;e++)y[n=s[e]][a[e]-m[n]]=c[e];for(n=0;n<l-1;n++)for(i=n-m[n],g=y[n],r=n+1;m[r]<=n&&r<l;r++)if(o=n-m[r],u=d[n]-n,h=(b=y[r])[o]/g[i]){for(e=1;e<=u;e++)b[e+o]-=h*g[e+i];p[r][n-m[r]]=h}var x,v,g=[],b=[],w=[],M=[],S=[],A=[];for(f=0,x=0,n=0;n<l;n++){for(i=m[n],o=d[n],v=y[n],r=n;r<=o;r++)v[r-i]&&(g[f]=n,b[f]=r,w[f]=v[r-i],f++);for(v=p[n],r=i;r<n;r++)v[r-i]&&(M[x]=n,S[x]=r,A[x]=v[r-i],x++);M[x]=n,S[x]=n,A[x]=1,x++}return{U:[g,b,w],L:[M,S,A]}},numeric.cLUsolve=function(t,n){var r,e,i=t.L,o=t.U,u=numeric.clone(n),s=i[0],a=i[1],c=i[2],f=o[0],l=o[1],h=o[2],p=f.length,y=(s.length,u.length);for(e=0,r=0;r<y;r++){for(;a[e]<r;)u[r]-=c[e]*u[a[e]],e++;e++}for(e=p-1,r=y-1;r>=0;r--){for(;l[e]>r;)u[r]-=h[e]*u[l[e]],e--;u[r]/=h[e],e--}return u},numeric.cgrid=function(t,n){"number"==typeof t&&(t=[t,t]);var r,e,i,o=numeric.rep(t,-1);if("function"!=typeof n)switch(n){case"L":n=function(n,r){return n>=t[0]/2||r<t[1]/2};break;default:n=function(t,n){return!0}}for(i=0,r=1;r<t[0]-1;r++)for(e=1;e<t[1]-1;e++)n(r,e)&&(o[r][e]=i,i++);return o},numeric.cdelsq=function(t){var n,r,e,i,o,u=[[-1,0],[0,-1],[0,1],[1,0]],s=numeric.dim(t),a=s[0],c=s[1],f=[],l=[],h=[];for(n=1;n<a-1;n++)for(r=1;r<c-1;r++)if(!(t[n][r]<0)){for(e=0;e<4;e++)i=n+u[e][0],o=r+u[e][1],t[i][o]<0||(f.push(t[n][r]),l.push(t[i][o]),h.push(-1));f.push(t[n][r]),l.push(t[n][r]),h.push(4)}return[f,l,h]},numeric.cdotMV=function(t,n){var r,e,i,o=t[0],u=t[1],s=t[2],a=o.length;for(i=0,e=0;e<a;e++)o[e]>i&&(i=o[e]);for(i++,r=numeric.rep([i],0),e=0;e<a;e++)r[o[e]]+=s[e]*n[u[e]];return r},numeric.Spline=function(t,n,r,e,i){this.x=t,this.yl=n,this.yr=r,this.kl=e,this.kr=i},numeric.Spline.prototype._at=function(t,n){var r,e,i,o=this.x,u=this.yl,s=this.yr,a=this.kl,c=this.kr,f=numeric.add,l=numeric.sub,h=numeric.mul;r=l(h(a[n],o[n+1]-o[n]),l(s[n+1],u[n])),e=f(h(c[n+1],o[n]-o[n+1]),l(s[n+1],u[n]));var p=(i=(t-o[n])/(o[n+1]-o[n]))*(1-i);return f(f(f(h(1-i,u[n]),h(i,s[n+1])),h(r,p*(1-i))),h(e,p*i))},numeric.Spline.prototype.at=function(t){if("number"==typeof t){var n,r,e,i=this.x,o=i.length,u=Math.floor;for(n=0,r=o-1;r-n>1;)i[e=u((n+r)/2)]<=t?n=e:r=e;return this._at(t,n)}o=t.length;var s,a=Array(o);for(s=o-1;-1!==s;--s)a[s]=this.at(t[s]);return a},numeric.Spline.prototype.diff=function(){var t,n,r,e=this.x,i=this.yl,o=this.yr,u=this.kl,s=this.kr,a=i.length,c=u,f=s,l=Array(a),h=Array(a),p=numeric.add,y=numeric.mul,m=numeric.div,d=numeric.sub;for(t=a-1;-1!==t;--t)n=e[t+1]-e[t],r=d(o[t+1],i[t]),l[t]=m(p(y(r,6),y(u[t],-4*n),y(s[t+1],-2*n)),n*n),h[t+1]=m(p(y(r,-6),y(u[t],2*n),y(s[t+1],4*n)),n*n);return new numeric.Spline(e,c,f,l,h)},numeric.Spline.prototype.roots=function(){function t(t){return t*t}var n=[],r=this.x,e=this.yl,i=this.yr,o=this.kl,u=this.kr;"number"==typeof e[0]&&(e=[e],i=[i],o=[o],u=[u]);var s,a,c,f,l,h,p,y,m,d,x,v,g,b,w,M,S,A,P,L,E,_,k,R=e.length,I=r.length-1,T=(n=Array(R),Math.sqrt);for(s=0;s!==R;++s){for(f=e[s],l=i[s],h=o[s],p=u[s],y=[],a=0;a!==I;a++){for(a>0&&l[a]*f[a]<0&&y.push(r[a]),M=r[a+1]-r[a],r[a],x=f[a],v=l[a+1],m=h[a]/M,g=(d=p[a+1]/M)+3*x+2*m-3*v,b=3*(d+m+2*(x-v)),(w=t(m-d+3*(x-v))+12*d*x)<=0?S=(A=g/b)>r[a]&&A<r[a+1]?[r[a],A,r[a+1]]:[r[a],r[a+1]]:(A=(g-T(w))/b,P=(g+T(w))/b,S=[r[a]],A>r[a]&&A<r[a+1]&&S.push(A),P>r[a]&&P<r[a+1]&&S.push(P),S.push(r[a+1])),E=S[0],A=this._at(E,a),c=0;c<S.length-1;c++)if(_=S[c+1],P=this._at(_,a),0!==A)if(0===P||A*P>0)E=_,A=P;else{for(var O=0;!((k=(A*_-P*E)/(A-P))<=E||k>=_);)if((L=this._at(k,a))*P>0)_=k,P=L,-1===O&&(A*=.5),O=-1;else{if(!(L*A>0))break;E=k,A=L,1===O&&(P*=.5),O=1}y.push(k),E=S[c+1],A=this._at(E,a)}else y.push(E),E=_,A=P;0===P&&y.push(_)}n[s]=y}return"number"==typeof this.yl[0]?n[0]:n},numeric.spline=function(t,n,r,e){var i,o=t.length,u=[],s=[],a=[],c=numeric.sub,f=numeric.mul,l=numeric.add;for(i=o-2;i>=0;i--)s[i]=t[i+1]-t[i],a[i]=c(n[i+1],n[i]);"string"!=typeof r&&"string"!=typeof e||(r=e="periodic");var h=[[],[],[]];switch(typeof r){case"undefined":u[0]=f(3/(s[0]*s[0]),a[0]),h[0].push(0,0),h[1].push(0,1),h[2].push(2/s[0],1/s[0]);break;case"string":u[0]=l(f(3/(s[o-2]*s[o-2]),a[o-2]),f(3/(s[0]*s[0]),a[0])),h[0].push(0,0,0),h[1].push(o-2,0,1),h[2].push(1/s[o-2],2/s[o-2]+2/s[0],1/s[0]);break;default:u[0]=r,h[0].push(0),h[1].push(0),h[2].push(1)}for(i=1;i<o-1;i++)u[i]=l(f(3/(s[i-1]*s[i-1]),a[i-1]),f(3/(s[i]*s[i]),a[i])),h[0].push(i,i,i),h[1].push(i-1,i,i+1),h[2].push(1/s[i-1],2/s[i-1]+2/s[i],1/s[i]);switch(typeof e){case"undefined":u[o-1]=f(3/(s[o-2]*s[o-2]),a[o-2]),h[0].push(o-1,o-1),h[1].push(o-2,o-1),h[2].push(1/s[o-2],2/s[o-2]);break;case"string":h[1][h[1].length-1]=0;break;default:u[o-1]=e,h[0].push(o-1),h[1].push(o-1),h[2].push(1)}u="number"!=typeof u[0]?numeric.transpose(u):[u];var p=Array(u.length);if("string"==typeof r)for(i=p.length-1;-1!==i;--i)p[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(h)),u[i]),p[i][o-1]=p[i][0];else for(i=p.length-1;-1!==i;--i)p[i]=numeric.cLUsolve(numeric.cLU(h),u[i]);return p="number"==typeof n[0]?p[0]:numeric.transpose(p),new numeric.Spline(t,n,n,p,p)},numeric.fftpow2=function t(n,r){var e=n.length;if(1!==e){var i,o,u=Math.cos,s=Math.sin,a=Array(e/2),c=Array(e/2),f=Array(e/2),l=Array(e/2);for(o=e/2,i=e-1;-1!==i;--i)f[--o]=n[i],l[o]=r[i],--i,a[o]=n[i],c[o]=r[i];t(a,c),t(f,l),o=e/2;var h,p,y,m=-6.283185307179586/e;for(i=e-1;-1!==i;--i)-1===--o&&(o=e/2-1),p=u(h=m*i),y=s(h),n[i]=a[o]+p*f[o]-y*l[o],r[i]=c[o]+p*l[o]+y*f[o]}},numeric._ifftpow2=function t(n,r){var e=n.length;if(1!==e){var i,o,u=Math.cos,s=Math.sin,a=Array(e/2),c=Array(e/2),f=Array(e/2),l=Array(e/2);for(o=e/2,i=e-1;-1!==i;--i)f[--o]=n[i],l[o]=r[i],--i,a[o]=n[i],c[o]=r[i];t(a,c),t(f,l),o=e/2;var h,p,y,m=6.283185307179586/e;for(i=e-1;-1!==i;--i)-1===--o&&(o=e/2-1),p=u(h=m*i),y=s(h),n[i]=a[o]+p*f[o]-y*l[o],r[i]=c[o]+p*l[o]+y*f[o]}},numeric.ifftpow2=function(t,n){numeric._ifftpow2(t,n),numeric.diveq(t,t.length),numeric.diveq(n,n.length)},numeric.convpow2=function(t,n,r,e){var i,o,u,s,a;for(numeric.fftpow2(t,n),numeric.fftpow2(r,e),i=t.length-1;-1!==i;--i)o=t[i],s=n[i],u=r[i],a=e[i],t[i]=o*u-s*a,n[i]=o*a+s*u;numeric.ifftpow2(t,n)},numeric.T.prototype.fft=function(){var t,n,r=this.x,e=this.y,i=r.length,o=Math.log,u=o(2),s=Math.ceil(o(2*i-1)/u),a=Math.pow(2,s),c=numeric.rep([a],0),f=numeric.rep([a],0),l=Math.cos,h=Math.sin,p=-3.141592653589793/i,y=numeric.rep([a],0),m=numeric.rep([a],0);Math.floor(i/2);for(t=0;t<i;t++)y[t]=r[t];if(void 0!==e)for(t=0;t<i;t++)m[t]=e[t];for(c[0]=1,t=1;t<=a/2;t++)n=p*t*t,c[t]=l(n),f[t]=h(n),c[a-t]=l(n),f[a-t]=h(n);var d=new numeric.T(y,m),x=new numeric.T(c,f);return d=d.mul(x),numeric.convpow2(d.x,d.y,numeric.clone(x.x),numeric.neg(x.y)),(d=d.mul(x)).x.length=i,d.y.length=i,d},numeric.T.prototype.ifft=function(){var t,n,r=this.x,e=this.y,i=r.length,o=Math.log,u=o(2),s=Math.ceil(o(2*i-1)/u),a=Math.pow(2,s),c=numeric.rep([a],0),f=numeric.rep([a],0),l=Math.cos,h=Math.sin,p=3.141592653589793/i,y=numeric.rep([a],0),m=numeric.rep([a],0);Math.floor(i/2);for(t=0;t<i;t++)y[t]=r[t];if(void 0!==e)for(t=0;t<i;t++)m[t]=e[t];for(c[0]=1,t=1;t<=a/2;t++)n=p*t*t,c[t]=l(n),f[t]=h(n),c[a-t]=l(n),f[a-t]=h(n);var d=new numeric.T(y,m),x=new numeric.T(c,f);return d=d.mul(x),numeric.convpow2(d.x,d.y,numeric.clone(x.x),numeric.neg(x.y)),(d=d.mul(x)).x.length=i,d.y.length=i,d.div(i)},numeric.gradient=function(t,n){var r=n.length,e=t(n);if(isNaN(e))throw new Error("gradient: f(x) is a NaN!");var i,o,u,s,a,c,f,l,h,p=Math.max,y=numeric.clone(n),m=Array(r),d=(numeric.div,numeric.sub,p=Math.max,Math.abs),x=Math.min,v=0;for(i=0;i<r;i++)for(var g=p(1e-6*e,1e-8);;){if(++v>20)throw new Error("Numerical gradient fails");if(y[i]=n[i]+g,o=t(y),y[i]=n[i]-g,u=t(y),y[i]=n[i],isNaN(o)||isNaN(u))g/=16;else{if(m[i]=(o-u)/(2*g),s=n[i]-g,a=n[i],c=n[i]+g,f=(o-e)/g,l=(e-u)/g,h=p(d(m[i]),d(e),d(o),d(u),d(s),d(a),d(c),1e-8),!(x(p(d(f-m[i]),d(l-m[i]),d(f-l))/h,g/h)>.001))break;g/=16}}return m},numeric.uncmin=function(t,n,r,e,i,o,u){var s=numeric.gradient;void 0===u&&(u={}),void 0===r&&(r=1e-8),void 0===e&&(e=function(n){return s(t,n)}),void 0===i&&(i=1e3);var a,c,f=(n=numeric.clone(n)).length,l=t(n);if(isNaN(l))throw new Error("uncmin: f(x0) is a NaN!");var h=Math.max,p=numeric.norm2;r=h(r,numeric.epsilon);var y,m,d,x,v,g,b,w,M,S,A=u.Hinv||numeric.identity(f),P=numeric.dot,L=(numeric.inv,numeric.sub),E=numeric.add,_=numeric.tensor,k=numeric.div,R=numeric.mul,I=numeric.all,T=numeric.isFinite,O=numeric.neg,j=0,N="";for(m=e(n);j<i;){if("function"==typeof o&&o(j,n,l,m,A)){N="Callback returned true";break}if(!I(T(m))){N="Gradient has Infinity or NaN";break}if(!I(T(y=O(P(A,m))))){N="Search direction has Infinity or NaN";break}if((S=p(y))<r){N="Newton step smaller than tol";break}for(M=1,c=P(m,y),v=n;j<i&&!(M*S<r)&&(v=E(n,x=R(y,M)),(a=t(v))-l>=.1*M*c||isNaN(a));)M*=.5,++j;if(M*S<r){N="Line search step size smaller than tol";break}if(j===i){N="maxit reached during line search";break}w=P(g=L(d=e(v),m),x),b=P(A,g),A=L(E(A,R((w+P(g,b))/(w*w),_(x,x))),k(E(_(b,x),_(x,b)),w)),n=v,l=a,m=d,++j}return{solution:n,f:l,gradient:m,invHessian:A,iterations:j,message:N}},numeric.Dopri=function(t,n,r,e,i,o,u){this.x=t,this.y=n,this.f=r,this.ymid=e,this.iterations=i,this.events=u,this.message=o},numeric.Dopri.prototype._at=function(t,n){function r(t){return t*t}var e,i,o,u,s,a,c,f,l,h=this.x,p=this.y,y=this.f,m=this.ymid,d=(h.length,Math.floor,numeric.add),x=numeric.mul,v=numeric.sub;return e=h[n],i=h[n+1],u=p[n],s=p[n+1],o=e+.5*(i-e),a=m[n],c=v(y[n],x(u,1/(e-o)+2/(e-i))),f=v(y[n+1],x(s,1/(i-o)+2/(i-e))),d(d(d(d(x(u,(l=[r(t-i)*(t-o)/r(e-i)/(e-o),r(t-e)*r(t-i)/r(e-o)/r(i-o),r(t-e)*(t-o)/r(i-e)/(i-o),(t-e)*r(t-i)*(t-o)/r(e-i)/(e-o),(t-i)*r(t-e)*(t-o)/r(e-i)/(i-o)])[0]),x(a,l[1])),x(s,l[2])),x(c,l[3])),x(f,l[4]))},numeric.Dopri.prototype.at=function(t){var n,r,e,i=Math.floor;if("number"!=typeof t){var o=t.length,u=Array(o);for(n=o-1;-1!==n;--n)u[n]=this.at(t[n]);return u}var s=this.x;for(n=0,r=s.length-1;r-n>1;)s[e=i(.5*(n+r))]<=t?n=e:r=e;return this._at(t,n)},numeric.dopri=function(t,n,r,e,i,o,u){void 0===i&&(i=1e-6),void 0===o&&(o=1e3);var s,a,c,f,l,h,p,y,m,d,x,v,g,b=[t],w=[r],M=[e(t,r)],S=[],A=[3/40,9/40],P=[44/45,-56/15,32/9],L=[19372/6561,-25360/2187,64448/6561,-212/729],E=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],_=[35/384,0,500/1113,125/192,-2187/6784,11/84],k=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,5618549.5/235043384],R=[.2,.3,.8,8/9,1,1],I=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,1/40],T=0,O=(n-t)/10,j=0,N=numeric.add,z=numeric.mul,C=(Math.max,Math.min),F=Math.abs,B=numeric.norminf,q=Math.pow,U=numeric.any,D=numeric.lt,V=numeric.and,X=(numeric.sub,new numeric.Dopri(b,w,M,S,-1,""));for("function"==typeof u&&(x=u(t,r));t<n&&j<o;)if(++j,t+O>n&&(O=n-t),s=e(t+R[0]*O,N(r,z(.2*O,M[T]))),a=e(t+R[1]*O,N(N(r,z(A[0]*O,M[T])),z(A[1]*O,s))),c=e(t+R[2]*O,N(N(N(r,z(P[0]*O,M[T])),z(P[1]*O,s)),z(P[2]*O,a))),f=e(t+R[3]*O,N(N(N(N(r,z(L[0]*O,M[T])),z(L[1]*O,s)),z(L[2]*O,a)),z(L[3]*O,c))),l=e(t+R[4]*O,N(N(N(N(N(r,z(E[0]*O,M[T])),z(E[1]*O,s)),z(E[2]*O,a)),z(E[3]*O,c)),z(E[4]*O,f))),h=e(t+O,m=N(N(N(N(N(r,z(M[T],O*_[0])),z(a,O*_[2])),z(c,O*_[3])),z(f,O*_[4])),z(l,O*_[5]))),(d="number"==typeof(p=N(N(N(N(N(z(M[T],O*I[0]),z(a,O*I[2])),z(c,O*I[3])),z(f,O*I[4])),z(l,O*I[5])),z(h,O*I[6])))?F(p):B(p))>i){if(t+(O=.2*O*q(i/d,.25))===t){X.msg="Step size became too small";break}}else{if(S[T]=N(N(N(N(N(N(r,z(M[T],O*k[0])),z(a,O*k[2])),z(c,O*k[3])),z(f,O*k[4])),z(l,O*k[5])),z(h,O*k[6])),b[++T]=t+O,w[T]=m,M[T]=h,"function"==typeof u){var Y,W,G=t,$=t+.5*O;if(v=u($,S[T-1]),U(g=V(D(x,0),D(0,v)))||(G=$,x=v,v=u($=t+O,m),g=V(D(x,0),D(0,v))),U(g)){for(var H,Q,Z=0,K=1,J=1;;){if("number"==typeof x)W=(J*v*G-K*x*$)/(J*v-K*x);else for(W=$,y=x.length-1;-1!==y;--y)x[y]<0&&v[y]>0&&(W=C(W,(J*v[y]*G-K*x[y]*$)/(J*v[y]-K*x[y])));if(W<=G||W>=$)break;Q=u(W,Y=X._at(W,T-1)),U(H=V(D(x,0),D(0,Q)))?($=W,v=Q,g=H,J=1,-1===Z?K*=.5:K=1,Z=-1):(G=W,x=Q,K=1,1===Z?J*=.5:J=1,Z=1)}return m=X._at(.5*(t+W),T-1),X.f[T]=e(W,Y),X.x[T]=W,X.y[T]=Y,X.ymid[T-1]=m,X.events=g,X.iterations=j,X}}t+=O,r=m,x=v,O=C(.8*O*q(i/d,.25),4*O)}return X.iterations=j,X},numeric.LU=function(t,n){n=n||!1;var r,e,i,o,u,s,a,c,f,l=Math.abs,h=t.length,p=h-1,y=new Array(h);for(n||(t=numeric.clone(t)),i=0;i<h;++i){for(a=i,f=l((s=t[i])[i]),e=i+1;e<h;++e)f<(o=l(t[e][i]))&&(f=o,a=e);for(y[i]=a,a!=i&&(t[i]=t[a],t[a]=s,s=t[i]),u=s[i],r=i+1;r<h;++r)t[r][i]/=u;for(r=i+1;r<h;++r){for(c=t[r],e=i+1;e<p;++e)c[e]-=c[i]*s[e],c[++e]-=c[i]*s[e];e===p&&(c[e]-=c[i]*s[e])}}return{LU:t,P:y}},numeric.LUsolve=function(t,n){var r,e,i,o,u,s=t.LU,a=s.length,c=numeric.clone(n),f=t.P;for(r=a-1;-1!==r;--r)c[r]=n[r];for(r=0;r<a;++r)for(i=f[r],f[r]!==r&&(u=c[r],c[r]=c[i],c[i]=u),o=s[r],e=0;e<r;++e)c[r]-=c[e]*o[e];for(r=a-1;r>=0;--r){for(o=s[r],e=r+1;e<a;++e)c[r]-=c[e]*o[e];c[r]/=o[r]}return c},numeric.solve=function(t,n,r){return numeric.LUsolve(numeric.LU(t,r),n)},numeric.echelonize=function(t){var n,r,e,i,o,u,s,a,c=numeric.dim(t),f=c[0],l=c[1],h=numeric.identity(f),p=Array(f),y=Math.abs,m=numeric.diveq;for(t=numeric.clone(t),n=0;n<f;++n){for(e=0,o=t[n],u=h[n],r=1;r<l;++r)y(o[e])<y(o[r])&&(e=r);for(p[n]=e,m(u,o[e]),m(o,o[e]),r=0;r<f;++r)if(r!==n){for(a=(s=t[r])[e],i=l-1;-1!==i;--i)s[i]-=o[i]*a;for(s=h[r],i=f-1;-1!==i;--i)s[i]-=u[i]*a}}return{I:h,A:t,P:p}},numeric.__solveLP=function(t,n,r,e,i,o,u){var s,a,c,f,l=numeric.sum,h=(numeric.log,numeric.mul),p=numeric.sub,y=numeric.dot,m=numeric.div,d=numeric.add,x=t.length,v=r.length,g=!1,b=1,w=(numeric.transpose(n),numeric.svd,numeric.transpose),M=(numeric.leq,Math.sqrt),S=Math.abs,A=(numeric.muleq,numeric.norminf,numeric.any,Math.min),P=numeric.all,L=numeric.gt,E=Array(x),_=Array(v),k=(numeric.rep([v],1),numeric.solve),R=p(r,y(n,o)),I=y(t,t);for(c=0;c<i;++c){var T,O;for(T=v-1;-1!==T;--T)_[T]=m(n[T],R[T]);var j=w(_);for(T=x-1;-1!==T;--T)E[T]=l(j[T]);b=.25*S(I/y(t,E));var N=100*M(I/y(E,E));for((!isFinite(b)||b>N)&&(b=N),f=d(t,h(b,E)),a=y(j,_),T=x-1;-1!==T;--T)a[T][T]+=1;O=k(a,m(f,b),!0);var z=m(R,y(n,O)),C=1;for(T=v-1;-1!==T;--T)z[T]<0&&(C=A(C,-.999*z[T]));if(s=p(o,h(O,C)),!P(L(R=p(r,y(n,s)),0)))return{solution:o,message:"",iterations:c};if(o=s,b<e)return{solution:s,message:"",iterations:c};if(u){var F=y(t,f),B=y(n,f);for(g=!0,T=v-1;-1!==T;--T)if(F*B[T]<0){g=!1;break}}else g=!(o[x-1]>=0);if(g)return{solution:s,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(t,n,r,e,i){var o=t.length,u=r.length,s=(numeric.sum,numeric.log,numeric.mul,numeric.sub),a=numeric.dot,c=(numeric.div,numeric.add,numeric.rep([o],0).concat([1])),f=numeric.rep([u,1],-1),l=numeric.blockMatrix([[n,f]]),h=r,p=numeric.rep([o],0).concat(Math.max(0,numeric.sup(numeric.neg(r)))+1),y=numeric.__solveLP(c,l,h,e,i,p,!1),m=numeric.clone(y.solution);if(m.length=o,numeric.inf(s(r,a(n,m)))<0)return{solution:NaN,message:"Infeasible",iterations:y.iterations};var d=numeric.__solveLP(t,n,r,e,i-y.iterations,m,!0);return d.iterations+=y.iterations,d},numeric.solveLP=function(t,n,r,e,i,o,u){if(void 0===u&&(u=1e3),void 0===o&&(o=numeric.epsilon),void 0===e)return numeric._solveLP(t,n,r,o,u);var s,a=e.length,c=e[0].length,f=n.length,l=numeric.echelonize(e),h=numeric.rep([c],0),p=l.P,y=[];for(s=p.length-1;-1!==s;--s)h[p[s]]=1;for(s=c-1;-1!==s;--s)0===h[s]&&y.push(s);var m=numeric.getRange,d=numeric.linspace(0,a-1),x=numeric.linspace(0,f-1),v=m(e,d,y),g=m(n,x,p),b=m(n,x,y),w=numeric.dot,M=numeric.sub,S=w(g,l.I),A=M(b,w(S,v)),P=M(r,w(S,i)),L=Array(p.length),E=Array(y.length);for(s=p.length-1;-1!==s;--s)L[s]=t[p[s]];for(s=y.length-1;-1!==s;--s)E[s]=t[y[s]];var _=M(E,w(L,w(l.I,v))),k=numeric._solveLP(_,A,P,o,u),R=k.solution;if(R!=R)return k;var I=w(l.I,M(i,w(v,R))),T=Array(t.length);for(s=p.length-1;-1!==s;--s)T[p[s]]=I[s];for(s=y.length-1;-1!==s;--s)T[y[s]]=R[s];return{solution:T,message:k.message,iterations:k.iterations}},numeric.MPStoLP=function(t){t instanceof String&&t.split("\n");var n,r,e,i,o=0,u=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],s=t.length,a=0,c={},f=[],l=0,h={},p=0,y=[],m=[],d=[];function x(r){throw new Error("MPStoLP: "+r+"\nLine "+n+": "+t[n]+"\nCurrent state: "+u[o]+"\n")}for(n=0;n<s;++n){var v=(e=t[n]).match(/\S*/g),g=[];for(r=0;r<v.length;++r)""!==v[r]&&g.push(v[r]);if(0!==g.length){for(r=0;r<u.length&&e.substr(0,u[r].length)!==u[r];++r);if(r<u.length){if(o=r,1===r&&(i=g[1]),6===r)return{name:i,c:y,A:numeric.transpose(m),b:d,rows:c,vars:h}}else switch(o){case 0:case 1:x("Unexpected line");case 2:switch(g[0]){case"N":0===a?a=g[1]:x("Two or more N rows");break;case"L":c[g[1]]=l,f[l]=1,d[l]=0,++l;break;case"G":c[g[1]]=l,f[l]=-1,d[l]=0,++l;break;case"E":c[g[1]]=l,f[l]=0,d[l]=0,++l;break;default:x("Parse error "+numeric.prettyPrint(g))}break;case 3:h.hasOwnProperty(g[0])||(h[g[0]]=p,y[p]=0,m[p]=numeric.rep([l],0),++p);var b=h[g[0]];for(r=1;r<g.length;r+=2)if(g[r]!==a){var w=c[g[r]];m[b][w]=(f[w]<0?-1:1)*parseFloat(g[r+1])}else y[b]=parseFloat(g[r+1]);break;case 4:for(r=1;r<g.length;r+=2)d[c[g[r]]]=(f[c[g[r]]]<0?-1:1)*parseFloat(g[r+1]);break;case 5:break;case 6:x("Internal error")}}}x("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(t,n,r,e,i,o,u){function s(t){var n,r,e=this,i=t.length,o=0,u=e.i=e.j=e.m=0;for(e.S=[],e.c=[],i||(t=[i++]);o<256;)e.S[o]=o++;for(o=0;o<256;o++)u=f(u+(n=e.S[o])+t[o%i]),r=e.S[u],e.S[o]=r,e.S[u]=n;e.g=function(t){var n=e.S,r=f(e.i+1),i=n[r],o=f(e.j+i),u=n[o];n[r]=u,n[o]=i;for(var s=n[f(i+u)];--t;)r=f(r+1),u=n[o=f(o+(i=n[r]))],n[r]=u,n[o]=i,s=256*s+n[f(i+u)];return e.i=r,e.j=o,s},e.g(256)}function a(t,n,r,e,i){if(r=[],i=typeof t,n&&"object"==i)for(e in t)if(e.indexOf("S")<5)try{r.push(a(t[e],n-1))}catch(t){}return r.length?r:t+("string"!=i?"\0":"")}function c(t,n,r,e){for(t+="",r=0,e=0;e<t.length;e++)n[f(e)]=f((r^=19*n[f(e)])+t.charCodeAt(e));for(e in t="",n)t+=String.fromCharCode(n[e]);return t}function f(t){return 255&t}n.seedrandom=function(r,e){var f,l=[];return r=c(a(e?[r,t]:arguments.length?r:[(new Date).getTime(),t,window],3),l),c((f=new s(l)).S,t),n.random=function(){for(var t=f.g(6),n=u,r=0;t<i;)t=256*(t+r),n*=256,r=f.g(1);for(;t>=o;)t/=2,n/=2,r>>>=1;return(t+r)/n},r},u=n.pow(256,6),i=n.pow(2,i),o=2*i,c(n.random(),t)}([],numeric.seedrandom,0,0,52),function(t){function n(t){if("object"!=typeof t)return t;var r,e=[],i=t.length;for(r=0;r<i;r++)e[r+1]=n(t[r]);return e}function r(t){if("object"!=typeof t)return t;var n,e=[],i=t.length;for(n=1;n<i;n++)e[n-1]=r(t[n]);return e}function e(t,n,r,e,i,o,u,s,a,c,f,l,h,p,y,m){var d,x,v,g,b,w,M,S,A,P,L,E,_,k,R,I,T,O,j,N,z,C,F,B,q,U,D;_=Math.min(e,c),v=2*e+_*(_+5)/2+2*c+1,B=1e-60;do{q=1+.1*(B+=B),U=1+.2*B}while(q<=1||U<=1);for(d=1;d<=e;d+=1)y[d]=n[d];for(d=e+1;d<=v;d+=1)y[d]=0;for(d=1;d<=c;d+=1)l[d]=0;if(b=[],0===m[1]){if(function(t,n,r,e){var i,o,u,s,a,c;for(o=1;o<=r;o+=1){if(e[1]=o,c=0,(u=o-1)<1){if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}else{for(s=1;s<=u;s+=1){for(a=t[s][o],i=1;i<s;i+=1)a-=t[i][o]*t[i][s];a/=t[s][s],t[s][o]=a,c+=a*a}if((c=t[o][o]-c)<=0)break;t[o][o]=Math.sqrt(c)}e[1]=0}}(t,0,e,b),0!==b[1])return void(m[1]=2);!function(t,n,r,e){var i,o,u,s;for(o=1;o<=r;o+=1){for(s=0,i=1;i<o;i+=1)s+=t[i][o]*e[i];e[o]=(e[o]-s)/t[o][o]}for(u=1;u<=r;u+=1)for(e[o=r+1-u]=e[o]/t[o][o],s=-e[o],i=1;i<o;i+=1)e[i]=e[i]+s*t[i][o]}(t,0,e,n),function(t,n,r){var e,i,o,u,s;for(o=1;o<=r;o+=1){for(t[o][o]=1/t[o][o],s=-t[o][o],e=1;e<o;e+=1)t[e][o]=s*t[e][o];if(r<(u=o+1))break;for(i=u;i<=r;i+=1)for(s=t[o][i],t[o][i]=0,e=1;e<=o;e+=1)t[e][i]=t[e][i]+s*t[e][o]}}(t,0,e)}else{for(x=1;x<=e;x+=1)for(i[x]=0,d=1;d<=x;d+=1)i[x]=i[x]+t[d][x]*n[d];for(x=1;x<=e;x+=1)for(n[x]=0,d=x;d<=e;d+=1)n[x]=n[x]+t[x][d]*i[d]}for(o[1]=0,x=1;x<=e;x+=1)for(i[x]=n[x],o[1]=o[1]+y[x]*i[x],y[x]=0,d=x+1;d<=e;d+=1)t[d][x]=0;for(o[1]=-o[1]/2,m[1]=0,k=(P=(A=(L=(S=(M=e)+e)+_)+_+1)+_*(_+1)/2)+c,d=1;d<=c;d+=1){for(I=0,x=1;x<=e;x+=1)I+=u[x][d]*u[x][d];y[k+d]=Math.sqrt(I)}function V(){for(p[1]=p[1]+1,v=P,d=1;d<=c;d+=1){for(v+=1,I=-s[d],x=1;x<=e;x+=1)I+=u[x][d]*i[x];if(Math.abs(I)<B&&(I=0),d>f)y[v]=I;else if(y[v]=-Math.abs(I),I>0){for(x=1;x<=e;x+=1)u[x][d]=-u[x][d];s[d]=-s[d]}}for(d=1;d<=h;d+=1)y[P+l[d]]=0;for(E=0,R=0,d=1;d<=c;d+=1)y[P+d]<R*y[k+d]&&(E=d,R=y[P+d]/y[k+d]);return 0===E?999:0}function X(){for(d=1;d<=e;d+=1){for(I=0,x=1;x<=e;x+=1)I+=t[x][d]*u[x][E];y[d]=I}for(g=M,d=1;d<=e;d+=1)y[g+d]=0;for(x=h+1;x<=e;x+=1)for(d=1;d<=e;d+=1)y[g+d]=y[g+d]+t[d][x]*y[x];for(C=!0,d=h;d>=1;d-=1){for(I=y[d],g=(v=A+d*(d+3)/2)-d,x=d+1;x<=h;x+=1)I-=y[v]*y[S+x],v+=x;if(I/=y[g],y[S+d]=I,l[d]<f)break;if(I<0)break;C=!1,w=d}if(!C)for(T=y[L+w]/y[S+w],d=1;d<=h&&!(l[d]<f)&&!(y[S+d]<0);d+=1)(R=y[L+d]/y[S+d])<T&&(T=R,w=d);for(I=0,d=M+1;d<=M+e;d+=1)I+=y[d]*y[d];if(Math.abs(I)<=B){if(C)return m[1]=1,999;for(d=1;d<=h;d+=1)y[L+d]=y[L+d]-T*y[S+d];return y[L+h+1]=y[L+h+1]+T,700}for(I=0,d=1;d<=e;d+=1)I+=y[M+d]*u[d][E];for(O=-y[P+E]/I,F=!0,C||T<O&&(O=T,F=!1),d=1;d<=e;d+=1)i[d]=i[d]+O*y[M+d],Math.abs(i[d])<B&&(i[d]=0);for(o[1]=o[1]+O*I*(O/2+y[L+h+1]),d=1;d<=h;d+=1)y[L+d]=y[L+d]-O*y[S+d];if(y[L+h+1]=y[L+h+1]+O,!F){for(I=-s[E],x=1;x<=e;x+=1)I+=i[x]*u[x][E];if(E>f)y[P+E]=I;else if(y[P+E]=-Math.abs(I),I>0){for(x=1;x<=e;x+=1)u[x][E]=-u[x][E];s[E]=-s[E]}return 700}for(l[h+=1]=E,v=A+(h-1)*h/2+1,d=1;d<=h-1;d+=1)y[v]=y[d],v+=1;if(h===e)y[v]=y[e];else{for(d=e;d>=h+1&&0!==y[d]&&(j=Math.max(Math.abs(y[d-1]),Math.abs(y[d])),N=Math.min(Math.abs(y[d-1]),Math.abs(y[d])),R=y[d-1]>=0?Math.abs(j*Math.sqrt(1+N*N/(j*j))):-Math.abs(j*Math.sqrt(1+N*N/(j*j))),j=y[d-1]/R,N=y[d]/R,1!==j);d-=1)if(0===j)for(y[d-1]=N*R,x=1;x<=e;x+=1)R=t[x][d-1],t[x][d-1]=t[x][d],t[x][d]=R;else for(y[d-1]=R,z=N/(1+j),x=1;x<=e;x+=1)R=j*t[x][d-1]+N*t[x][d],t[x][d]=z*(t[x][d-1]+R)-t[x][d],t[x][d-1]=R;y[v]=y[h]}return 0}function Y(){if(0===y[g=(v=A+w*(w+1)/2+1)+w])return 798;if(j=Math.max(Math.abs(y[g-1]),Math.abs(y[g])),N=Math.min(Math.abs(y[g-1]),Math.abs(y[g])),R=y[g-1]>=0?Math.abs(j*Math.sqrt(1+N*N/(j*j))):-Math.abs(j*Math.sqrt(1+N*N/(j*j))),j=y[g-1]/R,N=y[g]/R,1===j)return 798;if(0===j){for(d=w+1;d<=h;d+=1)R=y[g-1],y[g-1]=y[g],y[g]=R,g+=d;for(d=1;d<=e;d+=1)R=t[d][w],t[d][w]=t[d][w+1],t[d][w+1]=R}else{for(z=N/(1+j),d=w+1;d<=h;d+=1)R=j*y[g-1]+N*y[g],y[g]=z*(y[g-1]+R)-y[g],y[g-1]=R,g+=d;for(d=1;d<=e;d+=1)R=j*t[d][w]+N*t[d][w+1],t[d][w+1]=z*(t[d][w]+R)-t[d][w+1],t[d][w]=R}return 0}function W(){for(g=v-w,d=1;d<=w;d+=1)y[g]=y[v],v+=1,g+=1;return y[L+w]=y[L+w+1],l[w]=l[w+1],(w+=1)<h?797:0}function G(){return y[L+h]=y[L+h+1],y[L+h+1]=0,l[h]=0,h-=1,p[2]=p[2]+1,0}for(h=0,p[1]=0,p[2]=0,D=0;;){if(999===(D=V()))return;for(;0!==(D=X());){if(999===D)return;if(700===D)if(w===h)G();else{for(;Y(),797===(D=W()););G()}}}}t.solveQP=function(t,i,o,u,s,a){t=n(t),i=n(i),o=n(o);var c,f,l,h,p,y=[],m=[],d=[],x=[],v=[];if(s=s||0,a=a?n(a):[void 0,0],u=u?n(u):[],f=t.length-1,l=o[1].length-1,!u)for(c=1;c<=l;c+=1)u[c]=0;for(c=1;c<=l;c+=1)m[c]=0;for(0,h=Math.min(f,l),c=1;c<=f;c+=1)d[c]=0;for(y[1]=0,c=1;c<=2*f+h*(h+5)/2+2*l+1;c+=1)x[c]=0;for(c=1;c<=2;c+=1)v[c]=0;return e(t,i,0,f,d,y,o,u,0,l,s,m,0,v,x,a),p="",1===a[1]&&(p="constraints are inconsistent, no solution!"),2===a[1]&&(p="matrix D in quadratic function is not positive definite!"),{solution:r(d),value:r(y),unconstrained_solution:r(i),iterations:r(v),iact:r(m),message:p}}}(numeric),numeric.svd=function(t){var n,r=numeric.epsilon,e=1e-64/r,i=0,o=0,u=0,s=0,a=0,c=numeric.clone(t),f=c.length,l=c[0].length;if(f<l)throw"Need more rows than columns";var h=new Array(l),p=new Array(l);for(o=0;o<l;o++)h[o]=p[o]=0;var y=numeric.rep([l,l],0);function m(t,n){return(t=Math.abs(t))>(n=Math.abs(n))?t*Math.sqrt(1+n*n/t/t):0==n?t:n*Math.sqrt(1+t*t/n/n)}var d=0,x=0,v=0,g=0,b=0,w=0,M=0;for(o=0;o<l;o++){for(h[o]=x,M=0,a=o+1,u=o;u<f;u++)M+=c[u][o]*c[u][o];if(M<=e)x=0;else for(d=c[o][o],x=Math.sqrt(M),d>=0&&(x=-x),v=d*x-M,c[o][o]=d-x,u=a;u<l;u++){for(M=0,s=o;s<f;s++)M+=c[s][o]*c[s][u];for(d=M/v,s=o;s<f;s++)c[s][u]+=d*c[s][o]}for(p[o]=x,M=0,u=a;u<l;u++)M+=c[o][u]*c[o][u];if(M<=e)x=0;else{for(d=c[o][o+1],x=Math.sqrt(M),d>=0&&(x=-x),v=d*x-M,c[o][o+1]=d-x,u=a;u<l;u++)h[u]=c[o][u]/v;for(u=a;u<f;u++){for(M=0,s=a;s<l;s++)M+=c[u][s]*c[o][s];for(s=a;s<l;s++)c[u][s]+=M*h[s]}}(b=Math.abs(p[o])+Math.abs(h[o]))>g&&(g=b)}for(o=l-1;-1!=o;o+=-1){if(0!=x){for(v=x*c[o][o+1],u=a;u<l;u++)y[u][o]=c[o][u]/v;for(u=a;u<l;u++){for(M=0,s=a;s<l;s++)M+=c[o][s]*y[s][u];for(s=a;s<l;s++)y[s][u]+=M*y[s][o]}}for(u=a;u<l;u++)y[o][u]=0,y[u][o]=0;y[o][o]=1,x=h[o],a=o}for(o=l-1;-1!=o;o+=-1){for(a=o+1,x=p[o],u=a;u<l;u++)c[o][u]=0;if(0!=x){for(v=c[o][o]*x,u=a;u<l;u++){for(M=0,s=a;s<f;s++)M+=c[s][o]*c[s][u];for(d=M/v,s=o;s<f;s++)c[s][u]+=d*c[s][o]}for(u=o;u<f;u++)c[u][o]=c[u][o]/x}else for(u=o;u<f;u++)c[u][o]=0;c[o][o]+=1}for(r*=g,s=l-1;-1!=s;s+=-1)for(var S=0;S<50;S++){var A=!1;for(a=s;-1!=a;a+=-1){if(Math.abs(h[a])<=r){A=!0;break}if(Math.abs(p[a-1])<=r)break}if(!A){i=0,M=1;var P=a-1;for(o=a;o<s+1&&(d=M*h[o],h[o]=i*h[o],!(Math.abs(d)<=r));o++)for(v=m(d,x=p[o]),p[o]=v,i=x/v,M=-d/v,u=0;u<f;u++)b=c[u][P],w=c[u][o],c[u][P]=b*i+w*M,c[u][o]=-b*M+w*i}if(w=p[s],a==s){if(w<0)for(p[s]=-w,u=0;u<l;u++)y[u][s]=-y[u][s];break}if(S>=49)throw"Error: no convergence.";for(g=p[a],x=m(d=(((b=p[s-1])-w)*(b+w)+((x=h[s-1])-(v=h[s]))*(x+v))/(2*v*b),1),d=d<0?((g-w)*(g+w)+v*(b/(d-x)-v))/g:((g-w)*(g+w)+v*(b/(d+x)-v))/g,i=1,M=1,o=a+1;o<s+1;o++){for(x=h[o],b=p[o],v=M*x,x*=i,w=m(d,v),h[o-1]=w,d=g*(i=d/w)+x*(M=v/w),x=-g*M+x*i,v=b*M,b*=i,u=0;u<l;u++)g=y[u][o-1],w=y[u][o],y[u][o-1]=g*i+w*M,y[u][o]=-g*M+w*i;for(w=m(d,v),p[o-1]=w,d=(i=d/w)*x+(M=v/w)*b,g=-M*x+i*b,u=0;u<f;u++)b=c[u][o-1],w=c[u][o],c[u][o-1]=b*i+w*M,c[u][o]=-b*M+w*i}h[a]=0,h[s]=d,p[s]=g}for(o=0;o<p.length;o++)p[o]<r&&(p[o]=0);for(o=0;o<l;o++)for(u=o-1;u>=0;u--)if(p[u]<p[o]){for(i=p[u],p[u]=p[o],p[o]=i,s=0;s<c.length;s++)n=c[s][o],c[s][o]=c[s][u],c[s][u]=n;for(s=0;s<y.length;s++)n=y[s][o],y[s][o]=y[s][u],y[s][u]=n;o=u}return{U:c,S:p,V:y}}}).call(this,__webpack_require__(62))},function(t,n,r){var e=r(100);"string"==typeof e&&(e=[[t.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};r(102)(e,i);e.locals&&(t.exports=e.locals)},function(t,n,r){(t.exports=r(101)(!1)).push([t.i,"/*#########*/\n/*# RESET #*/\n/*#########*/\n\nhtml {\n  box-sizing: border-box;\n  font-size: 0;\n}\n\n*,\n*:before,\n*:after {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n  font-weight: normal;\n}\n\nbody {\n  color: #eee;\n  background-color: #aaa;\n  display: flex;\n}\n\n/*##########*/\n/*# BASICS #*/\n/*##########*/\n\n#wrapper,\n#webgl-wrapper {\n  flex: 1;\n  height: 90vh;\n  position: relative;\n  top: 5vh;\n  margin: 0 auto;\n  overflow: hidden;\n}\n\n#webgl-surface {\n  height: 100%;\n  width: 100%;\n  position: absolute;\n  border: 2px solid pink;\n}\n\nfooter {\n  height: 30px;\n  position: absolute;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  bottom: 0;\n  width: 100%;\n}\n\nbutton {\n  font-size: 10px;\n}\n\n#frame-type {\n  font-size: 26px;\n}\n",""])},function(t,n,r){"use strict";t.exports=function(t){var n=[];return n.toString=function(){return this.map((function(n){var r=function(t,n){var r=t[1]||"",e=t[3];if(!e)return r;if(n&&"function"==typeof btoa){var i=(u=e,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(u))))+" */"),o=e.sources.map((function(t){return"/*# sourceURL="+e.sourceRoot+t+" */"}));return[r].concat(o).concat([i]).join("\n")}var u;return[r].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+r+"}":r})).join("")},n.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var e={},i=0;i<this.length;i++){var o=this[i][0];null!=o&&(e[o]=!0)}for(i=0;i<t.length;i++){var u=t[i];null!=u[0]&&e[u[0]]||(r&&!u[2]?u[2]=r:r&&(u[2]="("+u[2]+") and ("+r+")"),n.push(u))}},n}},function(t,n,r){var e,i,o={},u=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=e.apply(this,arguments)),i}),s=function(t,n){return n?n.querySelector(t):document.querySelector(t)},a=function(t){var n={};return function(t,r){if("function"==typeof t)return t();if(void 0===n[t]){var e=s.call(this,t,r);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}}(),c=null,f=0,l=[],h=r(103);function p(t,n){for(var r=0;r<t.length;r++){var e=t[r],i=o[e.id];if(i){i.refs++;for(var u=0;u<i.parts.length;u++)i.parts[u](e.parts[u]);for(;u<e.parts.length;u++)i.parts.push(g(e.parts[u],n))}else{var s=[];for(u=0;u<e.parts.length;u++)s.push(g(e.parts[u],n));o[e.id]={id:e.id,refs:1,parts:s}}}}function y(t,n){for(var r=[],e={},i=0;i<t.length;i++){var o=t[i],u=n.base?o[0]+n.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};e[u]?e[u].parts.push(s):r.push(e[u]={id:u,parts:[s]})}return r}function m(t,n){var r=a(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=l[l.length-1];if("top"===t.insertAt)e?e.nextSibling?r.insertBefore(n,e.nextSibling):r.appendChild(n):r.insertBefore(n,r.firstChild),l.push(n);else if("bottom"===t.insertAt)r.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=a(t.insertAt.before,r);r.insertBefore(n,i)}}function d(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=l.indexOf(t);n>=0&&l.splice(n,1)}function x(t){var n=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var e=function(){0;return r.nc}();e&&(t.attrs.nonce=e)}return v(n,t.attrs),m(t,n),n}function v(t,n){Object.keys(n).forEach((function(r){t.setAttribute(r,n[r])}))}function g(t,n){var r,e,i,o;if(n.transform&&t.css){if(!(o="function"==typeof n.transform?n.transform(t.css):n.transform.default(t.css)))return function(){};t.css=o}if(n.singleton){var u=f++;r=c||(c=x(n)),e=M.bind(null,r,u,!1),i=M.bind(null,r,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(n,t.attrs),m(t,n),n}(n),e=A.bind(null,r,n),i=function(){d(r),r.href&&URL.revokeObjectURL(r.href)}):(r=x(n),e=S.bind(null,r),i=function(){d(r)});return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=u()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var r=y(t,n);return p(r,n),function(t){for(var e=[],i=0;i<r.length;i++){var u=r[i];(s=o[u.id]).refs--,e.push(s)}t&&p(y(t,n),n);for(i=0;i<e.length;i++){var s;if(0===(s=e[i]).refs){for(var a=0;a<s.parts.length;a++)s.parts[a]();delete o[s.id]}}}};var b,w=(b=[],function(t,n){return b[t]=n,b.filter(Boolean).join("\n")});function M(t,n,r,e){var i=r?"":e.css;if(t.styleSheet)t.styleSheet.cssText=w(n,i);else{var o=document.createTextNode(i),u=t.childNodes;u[n]&&t.removeChild(u[n]),u.length?t.insertBefore(o,u[n]):t.appendChild(o)}}function S(t,n){var r=n.css,e=n.media;if(e&&t.setAttribute("media",e),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function A(t,n,r){var e=r.css,i=r.sourceMap,o=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||o)&&(e=h(e)),i&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var u=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(u),s&&URL.revokeObjectURL(s)}},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=n.protocol+"//"+n.host,e=r+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,n){var i,o=n.trim().replace(/^"(.*)"$/,(function(t,n){return n})).replace(/^'(.*)'$/,(function(t,n){return n}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,n,r){var e=r(14).Point2D,i=r(14).Vector2D,o=r(105).Polynomial;function u(t){var n=t.slice();return n.push(t[0]),n}function s(t){this.init(t)}s.prototype.init=function(t){this.status=t,this.points=new Array},s.prototype.appendPoint=function(t){this.points.push(t)},s.prototype.appendPoints=function(t){this.points=this.points.concat(t)},s.intersect=function(t,n){var r;if(null!=t&&null!=n)if("Path"==t.name)r=s.intersectPathShape(t,n);else if("Path"==n.name)r=s.intersectPathShape(n,t);else{var e,i;if(t.name<n.name?(e="intersect"+t.name+n.name,i=t.args.concat(n.args)):(e="intersect"+n.name+t.name,i=n.args.concat(t.args)),!(e in s))throw new Error("Intersection not available: "+e);r=s[e].apply(null,i)}else r=new s("No Intersection");return r},s.intersectPathShape=function(t,n){for(var r=new s("No Intersection"),e=t.args.length,i=0;i<e;i++){var o=t.args[i],u=s.intersect(o,n);r.appendPoints(u.points)}return r.points.length>0&&(r.status="Intersection"),r},s.intersectBezier2Bezier2=function(t,n,r,i,u,a){var c,f,l,h,p,y,m=new s("No Intersection");d=n.multiply(-2),c=t.add(d.add(r)),d=t.multiply(-2),x=n.multiply(2),f=d.add(x),l=new e(t.x,t.y),d=u.multiply(-2),h=i.add(d.add(a)),d=i.multiply(-2),x=u.multiply(2),p=d.add(x),y=new e(i.x,i.y);for(var d=c.x*f.y-f.x*c.y,x=h.x*f.y-f.x*h.y,v=p.x*f.y-f.x*p.y,g=f.x*(l.y-y.y)+f.y*(-l.x+y.x),b=h.x*c.y-c.x*h.y,w=p.x*c.y-c.x*p.y,M=c.x*(l.y-y.y)+c.y*(-l.x+y.x),S=new o(-b*b,-2*b*w,d*x-w*w-2*b*M,d*v-2*w*M,d*g-M*M).getRoots(),A=0;A<S.length;A++){var P=S[A];if(0<=P&&P<=1){var L=new o(c.x,f.x,l.x-y.x-P*p.x-P*P*h.x);L.simplify();var E=L.getRoots(),_=new o(c.y,f.y,l.y-y.y-P*p.y-P*P*h.y);_.simplify();var k=_.getRoots();if(E.length>0&&k.length>0){t:for(var R=0;R<E.length;R++){var I=E[R];if(0<=I&&I<=1)for(var T=0;T<k.length;T++)if(Math.abs(I-k[T])<1e-4){m.points.push(h.multiply(P*P).add(p.multiply(P).add(y)));break t}}}}}return m.points.length>0&&(m.status="Intersection"),m},s.intersectBezier2Bezier3=function(t,n,r,u,a,c,f){var l,h,p,y,m,d,x,v,g,b,w,M=new s("No Intersection");l=n.multiply(-2),m=t.add(l.add(r)),l=t.multiply(-2),h=n.multiply(2),d=l.add(h),x=new e(t.x,t.y),l=u.multiply(-1),h=a.multiply(3),p=c.multiply(-3),y=l.add(h.add(p.add(f))),v=new i(y.x,y.y),l=u.multiply(3),h=a.multiply(-6),p=c.multiply(3),y=l.add(h.add(p)),g=new i(y.x,y.y),l=u.multiply(-3),h=a.multiply(3),p=l.add(h),b=new i(p.x,p.y),w=new i(u.x,u.y);for(var S=x.x*x.x,A=x.y*x.y,P=d.x*d.x,L=d.y*d.y,E=m.x*m.x,_=m.y*m.y,k=w.x*w.x,R=w.y*w.y,I=b.x*b.x,T=b.y*b.y,O=g.x*g.x,j=g.y*g.y,N=v.x*v.x,z=v.y*v.y,C=new o(-2*m.x*m.y*v.x*v.y+E*z+_*N,-2*m.x*m.y*g.x*v.y-2*m.x*m.y*g.y*v.x+2*_*g.x*v.x+2*E*g.y*v.y,-2*m.x*b.x*m.y*v.y-2*m.x*m.y*b.y*v.x-2*m.x*m.y*g.x*g.y+2*b.x*_*v.x+_*O+E*(2*b.y*v.y+j),2*x.x*m.x*m.y*v.y+2*x.y*m.x*m.y*v.x+d.x*d.y*m.x*v.y+d.x*d.y*m.y*v.x-2*w.x*m.x*m.y*v.y-2*m.x*w.y*m.y*v.x-2*m.x*b.x*m.y*g.y-2*m.x*m.y*b.y*g.x-2*x.x*_*v.x-2*x.y*E*v.y+2*w.x*_*v.x+2*b.x*_*g.x-L*m.x*v.x-P*m.y*v.y+E*(2*w.y*v.y+2*b.y*g.y),2*x.x*m.x*m.y*g.y+2*x.y*m.x*m.y*g.x+d.x*d.y*m.x*g.y+d.x*d.y*m.y*g.x-2*w.x*m.x*m.y*g.y-2*m.x*w.y*m.y*g.x-2*m.x*b.x*m.y*b.y-2*x.x*_*g.x-2*x.y*E*g.y+2*w.x*_*g.x-L*m.x*g.x-P*m.y*g.y+I*_+E*(2*w.y*g.y+T),2*x.x*m.x*m.y*b.y+2*x.y*m.x*b.x*m.y+d.x*d.y*m.x*b.y+d.x*d.y*b.x*m.y-2*w.x*m.x*m.y*b.y-2*m.x*w.y*b.x*m.y-2*x.x*b.x*_-2*x.y*E*b.y+2*w.x*b.x*_-L*m.x*b.x-P*m.y*b.y+2*E*w.y*b.y,-2*x.x*x.y*m.x*m.y-x.x*d.x*d.y*m.y-x.y*d.x*d.y*m.x+2*x.x*m.x*w.y*m.y+2*x.y*w.x*m.x*m.y+d.x*w.x*d.y*m.y+d.x*d.y*m.x*w.y-2*w.x*m.x*w.y*m.y-2*x.x*w.x*_+x.x*L*m.x+x.y*P*m.y-2*x.y*E*w.y-w.x*L*m.x-P*w.y*m.y+S*_+A*E+k*_+E*R).getRootsInInterval(0,1),F=0;F<C.length;F++){var B=C[F],q=new o(m.x,d.x,x.x-w.x-B*b.x-B*B*g.x-B*B*B*v.x).getRoots(),U=new o(m.y,d.y,x.y-w.y-B*b.y-B*B*g.y-B*B*B*v.y).getRoots();if(q.length>0&&U.length>0){t:for(var D=0;D<q.length;D++){var V=q[D];if(0<=V&&V<=1)for(var X=0;X<U.length;X++)if(Math.abs(V-U[X])<1e-4){M.points.push(v.multiply(B*B*B).add(g.multiply(B*B).add(b.multiply(B).add(w))));break t}}}}return M.points.length>0&&(M.status="Intersection"),M},s.intersectBezier2Circle=function(t,n,r,e,i){return s.intersectBezier2Ellipse(t,n,r,e,i,i)},s.intersectBezier2Ellipse=function(t,n,r,i,u,a){var c,f,l,h,p,y=new s("No Intersection");c=n.multiply(-2),l=t.add(c.add(r)),c=t.multiply(-2),f=n.multiply(2),h=c.add(f),p=new e(t.x,t.y);for(var m=u*u,d=a*a,x=new o(d*l.x*l.x+m*l.y*l.y,2*(d*l.x*h.x+m*l.y*h.y),d*(2*l.x*p.x+h.x*h.x)+m*(2*l.y*p.y+h.y*h.y)-2*(d*i.x*l.x+m*i.y*l.y),2*(d*h.x*(p.x-i.x)+m*h.y*(p.y-i.y)),d*(p.x*p.x+i.x*i.x)+m*(p.y*p.y+i.y*i.y)-2*(d*i.x*p.x+m*i.y*p.y)-m*d).getRoots(),v=0;v<x.length;v++){var g=x[v];0<=g&&g<=1&&y.points.push(l.multiply(g*g).add(h.multiply(g).add(p)))}return y.points.length>0&&(y.status="Intersection"),y},s.intersectBezier2Line=function(t,n,r,u,a){var c,f,l,h,p,y,m,d=u.min(a),x=u.max(a),v=new s("No Intersection");c=n.multiply(-2),l=t.add(c.add(r)),c=t.multiply(-2),f=n.multiply(2),h=c.add(f),p=new e(t.x,t.y),m=new i(u.y-a.y,a.x-u.x),y=u.x*a.y-a.x*u.y,roots=new o(m.dot(l),m.dot(h),m.dot(p)+y).getRoots();for(var g=0;g<roots.length;g++){var b=roots[g];if(0<=b&&b<=1){var w=t.lerp(n,b),M=n.lerp(r,b),S=w.lerp(M,b);u.x==a.x?d.y<=S.y&&S.y<=x.y&&(v.status="Intersection",v.appendPoint(S)):u.y==a.y?d.x<=S.x&&S.x<=x.x&&(v.status="Intersection",v.appendPoint(S)):d.x<=S.x&&S.x<=x.x&&d.y<=S.y&&S.y<=x.y&&(v.status="Intersection",v.appendPoint(S))}}return v},s.intersectBezier2Polygon=function(t,n,r,e){return s.intersectBezier2Polyline(t,n,r,u(e))},s.intersectBezier2Polyline=function(t,n,r,e){for(var i=new s("No Intersection"),o=e.length,u=0;u<o-1;u++){var a=e[u],c=e[u+1],f=s.intersectBezier2Line(t,n,r,a,c);i.appendPoints(f.points)}return i.points.length>0&&(i.status="Intersection"),i},s.intersectBezier2Rectangle=function(t,n,r,i,o){var u=i.min(o),a=i.max(o),c=new e(a.x,u.y),f=new e(u.x,a.y),l=s.intersectBezier2Line(t,n,r,u,c),h=s.intersectBezier2Line(t,n,r,c,a),p=s.intersectBezier2Line(t,n,r,a,f),y=s.intersectBezier2Line(t,n,r,f,u),m=new s("No Intersection");return m.appendPoints(l.points),m.appendPoints(h.points),m.appendPoints(p.points),m.appendPoints(y.points),m.points.length>0&&(m.status="Intersection"),m},s.intersectBezier3Bezier3=function(t,n,r,e,u,a,c,f){var l,h,p,y,m,d,x,v,g,b=new s("No Intersection");w=t.multiply(-1),M=n.multiply(3),l=r.multiply(-3),E=w.add(M.add(l.add(e))),h=new i(E.x,E.y),w=t.multiply(3),M=n.multiply(-6),l=r.multiply(3),E=w.add(M.add(l)),p=new i(E.x,E.y),w=t.multiply(-3),M=n.multiply(3),l=w.add(M),y=new i(l.x,l.y),m=new i(t.x,t.y),w=u.multiply(-1),M=a.multiply(3),l=c.multiply(-3),E=w.add(M.add(l.add(f))),d=new i(E.x,E.y),w=u.multiply(3),M=a.multiply(-6),l=c.multiply(3),E=w.add(M.add(l)),x=new i(E.x,E.y),w=u.multiply(-3),M=a.multiply(3),l=w.add(M),v=new i(l.x,l.y),g=new i(u.x,u.y);var w=h.x*p.y-p.x*h.y,M=h.x*y.y-y.x*h.y,S=h.x*m.y-m.x*h.y+g.x*h.y-h.x*g.y,A=v.x*h.y-h.x*v.y,P=x.x*h.y-h.x*x.y,L=d.x*h.y-h.x*d.y,E=h.x*y.y-y.x*h.y,_=h.x*m.y+p.x*y.y-y.x*p.y-m.x*h.y+g.x*h.y-h.x*g.y,k=v.x*h.y-h.x*v.y,R=x.x*h.y-h.x*x.y,I=d.x*h.y-h.x*d.y,T=p.x*m.y-m.x*p.y+g.x*p.y-p.x*g.y,O=v.x*p.y-p.x*v.y,j=x.x*p.y-p.x*x.y,N=d.x*p.y-p.x*d.y,z=h.x*m.y-m.x*h.y+g.x*h.y-h.x*g.y,C=v.x*h.y-h.x*v.y,F=x.x*h.y-h.x*x.y,B=d.x*h.y-h.x*d.y,q=p.x*m.y-m.x*p.y+g.x*p.y-p.x*g.y,U=v.x*p.y-p.x*v.y,D=x.x*p.y-p.x*x.y,V=d.x*p.y-p.x*d.y,X=y.x*m.y-m.x*y.y+g.x*y.y-y.x*g.y,Y=v.x*y.y-y.x*v.y,W=x.x*y.y-y.x*x.y,G=d.x*y.y-y.x*d.y,$=new o(-L*I*B,-L*I*F-L*R*B-P*I*B,-L*I*C-L*R*F-P*I*F-L*k*B-P*R*B-A*I*B,-L*I*z-L*R*C-P*I*C-L*k*F-P*R*F-A*I*F-L*_*B-P*k*B-A*R*B-S*I*B+M*N*B+L*E*V-w*N*V+w*I*G,-L*R*z-P*I*z-L*k*C-P*R*C-A*I*C-L*_*F-P*k*F-A*R*F-S*I*F+M*N*F-P*_*B-A*k*B-S*R*B+M*j*B+L*E*D-w*N*D+P*E*V-w*j*V+w*I*W+w*R*G,-L*k*z-P*R*z-A*I*z-L*_*C-P*k*C-A*R*C-S*I*C+M*N*C-P*_*F-A*k*F-S*R*F+M*j*F-A*_*B-S*k*B+M*O*B+L*E*U-w*N*U+P*E*D-w*j*D+A*E*V-w*O*V+w*I*Y+w*R*W+w*k*G,-L*_*z-P*k*z-A*R*z-S*I*z+M*N*z-P*_*C-A*k*C-S*R*C+M*j*C-A*_*F-S*k*F+M*O*F-S*_*B+M*T*B+L*E*q-w*N*q+P*E*U-w*j*U+A*E*D-w*O*D+S*E*V-w*T*V+w*I*X+w*R*Y+w*k*W-M*E*G+w*_*G,-P*_*z-A*k*z-S*R*z+M*j*z-A*_*C-S*k*C+M*O*C-S*_*F+M*T*F+P*E*q-w*j*q+A*E*U-w*O*U+S*E*D-w*T*D+w*R*X+w*k*Y-M*E*W+w*_*W,-A*_*z-S*k*z+M*O*z-S*_*C+M*T*C+A*E*q-w*O*q+S*E*U-w*T*U+w*k*X-M*E*Y+w*_*Y,-S*_*z+M*T*z+S*E*q-w*T*q-M*E*X+w*_*X);$.simplify();for(var H=$.getRootsInInterval(0,1),Q=0;Q<H.length;Q++){var Z=H[Q],K=new o(h.x,p.x,y.x,m.x-g.x-Z*v.x-Z*Z*x.x-Z*Z*Z*d.x);K.simplify(),xRoots=K.getRoots();var J=new o(h.y,p.y,y.y,m.y-g.y-Z*v.y-Z*Z*x.y-Z*Z*Z*d.y);if(J.simplify(),yRoots=J.getRoots(),xRoots.length>0&&yRoots.length>0){t:for(var tt=0;tt<xRoots.length;tt++){var nt=xRoots[tt];if(0<=nt&&nt<=1)for(var rt=0;rt<yRoots.length;rt++)if(Math.abs(nt-yRoots[rt])<1e-4){b.points.push(d.multiply(Z*Z*Z).add(x.multiply(Z*Z).add(v.multiply(Z).add(g))));break t}}}}return b.points.length>0&&(b.status="Intersection"),b},s.intersectBezier3Circle=function(t,n,r,e,i,o){return s.intersectBezier3Ellipse(t,n,r,e,i,o,o)},s.intersectBezier3Ellipse=function(t,n,r,e,u,a,c){var f,l,h,p,y,m,d,x,v=new s("No Intersection");f=t.multiply(-1),l=n.multiply(3),h=r.multiply(-3),p=f.add(l.add(h.add(e))),y=new i(p.x,p.y),f=t.multiply(3),l=n.multiply(-6),h=r.multiply(3),p=f.add(l.add(h)),m=new i(p.x,p.y),f=t.multiply(-3),l=n.multiply(3),h=f.add(l),d=new i(h.x,h.y),x=new i(t.x,t.y);for(var g=a*a,b=c*c,w=new o(y.x*y.x*b+y.y*y.y*g,2*(y.x*m.x*b+y.y*m.y*g),2*(y.x*d.x*b+y.y*d.y*g)+m.x*m.x*b+m.y*m.y*g,2*y.x*b*(x.x-u.x)+2*y.y*g*(x.y-u.y)+2*(m.x*d.x*b+m.y*d.y*g),2*m.x*b*(x.x-u.x)+2*m.y*g*(x.y-u.y)+d.x*d.x*b+d.y*d.y*g,2*d.x*b*(x.x-u.x)+2*d.y*g*(x.y-u.y),x.x*x.x*b-2*x.y*u.y*g-2*x.x*u.x*b+x.y*x.y*g+u.x*u.x*b+u.y*u.y*g-g*b).getRootsInInterval(0,1),M=0;M<w.length;M++){var S=w[M];v.points.push(y.multiply(S*S*S).add(m.multiply(S*S).add(d.multiply(S).add(x))))}return v.points.length>0&&(v.status="Intersection"),v},s.intersectBezier3Line=function(t,n,r,e,u,a){var c,f,l,h,p,y,m,d,x,v,g=u.min(a),b=u.max(a),w=new s("No Intersection");c=t.multiply(-1),f=n.multiply(3),l=r.multiply(-3),h=c.add(f.add(l.add(e))),p=new i(h.x,h.y),c=t.multiply(3),f=n.multiply(-6),l=r.multiply(3),h=c.add(f.add(l)),y=new i(h.x,h.y),c=t.multiply(-3),f=n.multiply(3),l=c.add(f),m=new i(l.x,l.y),d=new i(t.x,t.y),v=new i(u.y-a.y,a.x-u.x),x=u.x*a.y-a.x*u.y,roots=new o(v.dot(p),v.dot(y),v.dot(m),v.dot(d)+x).getRoots();for(var M=0;M<roots.length;M++){var S=roots[M];if(0<=S&&S<=1){var A=t.lerp(n,S),P=n.lerp(r,S),L=r.lerp(e,S),E=A.lerp(P,S),_=P.lerp(L,S),k=E.lerp(_,S);u.x==a.x?g.y<=k.y&&k.y<=b.y&&(w.status="Intersection",w.appendPoint(k)):u.y==a.y?g.x<=k.x&&k.x<=b.x&&(w.status="Intersection",w.appendPoint(k)):g.x<=k.x&&k.x<=b.x&&g.y<=k.y&&k.y<=b.y&&(w.status="Intersection",w.appendPoint(k))}}return w},s.intersectBezier3Polygon=function(t,n,r,e,i){return this.intersectBezier3Polyline(t,n,r,e,u(i))},s.intersectBezier3Polyline=function(t,n,r,e,i){for(var o=new s("No Intersection"),u=i.length,a=0;a<u-1;a++){var c=i[a],f=i[a+1],l=s.intersectBezier3Line(t,n,r,e,c,f);o.appendPoints(l.points)}return o.points.length>0&&(o.status="Intersection"),o},s.intersectBezier3Rectangle=function(t,n,r,i,o,u){var a=o.min(u),c=o.max(u),f=new e(c.x,a.y),l=new e(a.x,c.y),h=s.intersectBezier3Line(t,n,r,i,a,f),p=s.intersectBezier3Line(t,n,r,i,f,c),y=s.intersectBezier3Line(t,n,r,i,c,l),m=s.intersectBezier3Line(t,n,r,i,l,a),d=new s("No Intersection");return d.appendPoints(h.points),d.appendPoints(p.points),d.appendPoints(y.points),d.appendPoints(m.points),d.points.length>0&&(d.status="Intersection"),d},s.intersectCircleCircle=function(t,n,r,i){var o,u=n+i,a=Math.abs(n-i),c=t.distanceFrom(r);if(c>u)o=new s("Outside");else if(c<a)o=new s("Inside");else{o=new s("Intersection");var f=(n*n-i*i+c*c)/(2*c),l=Math.sqrt(n*n-f*f),h=t.lerp(r,f/c),p=l/c;o.points.push(new e(h.x-p*(r.y-t.y),h.y+p*(r.x-t.x))),o.points.push(new e(h.x+p*(r.y-t.y),h.y-p*(r.x-t.x)))}return o},s.intersectCircleEllipse=function(t,n,r,e,i){return s.intersectEllipseEllipse(t,n,n,r,e,i)},s.intersectCircleLine=function(t,n,r,e){var i,o=(e.x-r.x)*(e.x-r.x)+(e.y-r.y)*(e.y-r.y),u=2*((e.x-r.x)*(r.x-t.x)+(e.y-r.y)*(r.y-t.y)),a=u*u-4*o*(t.x*t.x+t.y*t.y+r.x*r.x+r.y*r.y-2*(t.x*r.x+t.y*r.y)-n*n);if(a<0)i=new s("Outside");else if(0==a)i=new s("Tangent");else{var c=Math.sqrt(a),f=(-u+c)/(2*o),l=(-u-c)/(2*o);(f<0||f>1)&&(l<0||l>1)?i=new s(f<0&&l<0||f>1&&l>1?"Outside":"Inside"):(i=new s("Intersection"),0<=f&&f<=1&&i.points.push(r.lerp(e,f)),0<=l&&l<=1&&i.points.push(r.lerp(e,l)))}return i},s.intersectCirclePolygon=function(t,n,r){return this.intersectCirclePolyline(t,n,u(r))},s.intersectCirclePolyline=function(t,n,r){for(var e,i=new s("No Intersection"),o=r.length,u=0;u<o-1;u++){var a=r[u],c=r[u+1];e=s.intersectCircleLine(t,n,a,c),i.appendPoints(e.points)}return i.points.length>0?i.status="Intersection":i.status=e.status,i},s.intersectCircleRectangle=function(t,n,r,i){var o=r.min(i),u=r.max(i),a=new e(u.x,o.y),c=new e(o.x,u.y),f=s.intersectCircleLine(t,n,o,a),l=s.intersectCircleLine(t,n,a,u),h=s.intersectCircleLine(t,n,u,c),p=s.intersectCircleLine(t,n,c,o),y=new s("No Intersection");return y.appendPoints(f.points),y.appendPoints(l.points),y.appendPoints(h.points),y.appendPoints(p.points),y.points.length>0?y.status="Intersection":y.status=f.status,y},s.intersectEllipseEllipse=function(t,n,r,i,u,a){for(var c=[r*r,0,n*n,-2*r*r*t.x,-2*n*n*t.y,r*r*t.x*t.x+n*n*t.y*t.y-n*n*r*r],f=[a*a,0,u*u,-2*a*a*i.x,-2*u*u*i.y,a*a*i.x*i.x+u*u*i.y*i.y-u*u*a*a],l=s.bezout(c,f).getRoots(),h=.001*(c[0]*c[0]+2*c[1]*c[1]+c[2]*c[2]),p=.001*(f[0]*f[0]+2*f[1]*f[1]+f[2]*f[2]),y=new s("No Intersection"),m=0;m<l.length;m++)for(var d=new o(c[0],c[3]+l[m]*c[1],c[5]+l[m]*(c[4]+l[m]*c[2])).getRoots(),x=0;x<d.length;x++){var v=(c[0]*d[x]+c[1]*l[m]+c[3])*d[x]+(c[2]*l[m]+c[4])*l[m]+c[5];Math.abs(v)<h&&(v=(f[0]*d[x]+f[1]*l[m]+f[3])*d[x]+(f[2]*l[m]+f[4])*l[m]+f[5],Math.abs(v)<p&&y.appendPoint(new e(d[x],l[m])))}return y.points.length>0&&(y.status="Intersection"),y},s.intersectEllipseLine=function(t,n,r,e,o){var u,a=new i(e.x,e.y),c=i.fromPoints(e,o),f=new i(t.x,t.y),l=a.subtract(f),h=new i(c.x/(n*n),c.y/(r*r)),p=new i(l.x/(n*n),l.y/(r*r)),y=c.dot(h),m=c.dot(p),d=m*m-y*(t=l.dot(p)-1);if(d<0)u=new s("Outside");else if(d>0){var x=Math.sqrt(d),v=(-m-x)/y,g=(-m+x)/y;(v<0||1<v)&&(g<0||1<g)?u=new s(v<0&&g<0||v>1&&g>1?"Outside":"Inside"):(u=new s("Intersection"),0<=v&&v<=1&&u.appendPoint(e.lerp(o,v)),0<=g&&g<=1&&u.appendPoint(e.lerp(o,g)))}else{var b=-m/y;0<=b&&b<=1?(u=new s("Intersection")).appendPoint(e.lerp(o,b)):u=new s("Outside")}return u},s.intersectEllipsePolygon=function(t,n,r,e){return this.intersectEllipsePolyline(t,n,r,u(e))},s.intersectEllipsePolyline=function(t,n,r,e){for(var i=new s("No Intersection"),o=e.length,u=0;u<o-1;u++){var a=e[u],c=e[u+1],f=s.intersectEllipseLine(t,n,r,a,c);i.appendPoints(f.points)}return i.points.length>0&&(i.status="Intersection"),i},s.intersectEllipseRectangle=function(t,n,r,i,o){var u=i.min(o),a=i.max(o),c=new e(a.x,u.y),f=new e(u.x,a.y),l=s.intersectEllipseLine(t,n,r,u,c),h=s.intersectEllipseLine(t,n,r,c,a),p=s.intersectEllipseLine(t,n,r,a,f),y=s.intersectEllipseLine(t,n,r,f,u),m=new s("No Intersection");return m.appendPoints(l.points),m.appendPoints(h.points),m.appendPoints(p.points),m.appendPoints(y.points),m.points.length>0&&(m.status="Intersection"),m},s.intersectLineLine=function(t,n,r,i){var o,u=(i.x-r.x)*(t.y-r.y)-(i.y-r.y)*(t.x-r.x),a=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),c=(i.y-r.y)*(n.x-t.x)-(i.x-r.x)*(n.y-t.y);if(0!=c){var f=u/c,l=a/c;0<=f&&f<=1&&0<=l&&l<=1?(o=new s("Intersection")).points.push(new e(t.x+f*(n.x-t.x),t.y+f*(n.y-t.y))):o=new s("No Intersection")}else o=new s(0==u||0==a?"Coincident":"Parallel");return o},s.intersectLinePolygon=function(t,n,r){return this.intersectLinePolyline(t,n,u(r))},s.intersectLinePolyline=function(t,n,r){for(var e=new s("No Intersection"),i=r.length,o=0;o<i-1;o++){var u=r[o],a=r[o+1],c=s.intersectLineLine(t,n,u,a);e.appendPoints(c.points)}return e.points.length>0&&(e.status="Intersection"),e},s.intersectLineRectangle=function(t,n,r,i){var o=r.min(i),u=r.max(i),a=new e(u.x,o.y),c=new e(o.x,u.y),f=s.intersectLineLine(o,a,t,n),l=s.intersectLineLine(a,u,t,n),h=s.intersectLineLine(u,c,t,n),p=s.intersectLineLine(c,o,t,n),y=new s("No Intersection");return y.appendPoints(f.points),y.appendPoints(l.points),y.appendPoints(h.points),y.appendPoints(p.points),y.points.length>0&&(y.status="Intersection"),y},s.intersectPolygonPolygon=function(t,n){return this.intersectPolylinePolyline(u(t),u(n))},s.intersectPolygonPolyline=function(t,n){return this.intersectPolylinePolyline(u(t),n)},s.intersectPolygonRectangle=function(t,n,r){return this.intersectPolylineRectangle(u(t),n,r)},s.intersectPolylinePolyline=function(t,n){for(var r=new s("No Intersection"),e=t.length,i=0;i<e-1;i++){var o=t[i],u=t[i+1],a=s.intersectLinePolyline(o,u,n);r.appendPoints(a.points)}return r.points.length>0&&(r.status="Intersection"),r},s.intersectPolylineRectangle=function(t,n,r){var i=n.min(r),o=n.max(r),u=new e(o.x,i.y),a=new e(i.x,o.y),c=s.intersectLinePolyline(i,u,t),f=s.intersectLinePolyline(u,o,t),l=s.intersectLinePolyline(o,a,t),h=s.intersectLinePolyline(a,i,t),p=new s("No Intersection");return p.appendPoints(c.points),p.appendPoints(f.points),p.appendPoints(l.points),p.appendPoints(h.points),p.points.length>0&&(p.status="Intersection"),p},s.intersectRectangleRectangle=function(t,n,r,i){var o=t.min(n),u=t.max(n),a=new e(u.x,o.y),c=new e(o.x,u.y),f=s.intersectLineRectangle(o,a,r,i),l=s.intersectLineRectangle(a,u,r,i),h=s.intersectLineRectangle(u,c,r,i),p=s.intersectLineRectangle(c,o,r,i),y=new s("No Intersection");return y.appendPoints(f.points),y.appendPoints(l.points),y.appendPoints(h.points),y.appendPoints(p.points),y.points.length>0&&(y.status="Intersection"),y},s.intersectRayRay=function(t,n,r,i){var o,u=(i.x-r.x)*(t.y-r.y)-(i.y-r.y)*(t.x-r.x),a=(n.x-t.x)*(t.y-r.y)-(n.y-t.y)*(t.x-r.x),c=(i.y-r.y)*(n.x-t.x)-(i.x-r.x)*(n.y-t.y);if(0!=c){var f=u/c;(o=new s("Intersection")).points.push(new e(t.x+f*(n.x-t.x),t.y+f*(n.y-t.y)))}else o=new s(0==u||0==a?"Coincident":"Parallel");return o},s.bezout=function(t,n){var r=t[0]*n[1]-n[0]*t[1],e=t[0]*n[2]-n[0]*t[2],i=t[0]*n[3]-n[0]*t[3],u=t[0]*n[4]-n[0]*t[4],s=t[0]*n[5]-n[0]*t[5],a=t[1]*n[2]-n[1]*t[2],c=t[1]*n[4]-n[1]*t[4],f=t[1]*n[5]-n[1]*t[5],l=t[2]*n[3]-n[2]*t[3],h=t[3]*n[4]-n[3]*t[4],p=t[3]*n[5]-n[3]*t[5],y=f+h,m=c-l;return new o(r*a-e*e,r*m+i*a-2*e*u,r*y+i*m-u*u-2*e*s,r*p+i*y-2*u*s,i*p-s*s)},t.exports=s},function(t,n,r){n.Polynomial=r(61),n.SqrtPolynomial=r(106)},function(t,n,r){var e=r(61);function i(){this.init(arguments)}i.VERSION=1,i.prototype=new e,i.prototype.constructor=i,i.superclass=e.prototype,i.prototype.eval=function(t){var n=i.superclass.eval.call(this,t);if(Math.abs(n)<1e-7&&(n=0),n<0)throw new Error("SqrtPolynomial.eval: cannot take square root of negative number");return Math.sqrt(n)},i.prototype.toString=function(){return"sqrt("+i.superclass.toString.call(this)+")"},t.exports=i},function(t,n,r){var e=r(14).Point2D,i=r(41),o={quadraticBezier:function(t,n,r,o,u,s){return new i("Bezier2",[new e(t,n),new e(r,o),new e(u,s)])},cubicBezier:function(t,n,r,o,u,s,a,c){return new i("Bezier3",[new e(t,n),new e(r,o),new e(u,s),new e(a,c)])},circle:function(t,n,r){return new i("Circle",[new e(t,n),r])},ellipse:function(t,n,r,o){return new i("Ellipse",[new e(t,n),r,o])},line:function(t,n,r,o){return new i("Line",[new e(t,n),new e(r,o)])},path:function(t){return new i("Path",t)},polygon:function(t){for(var n=[],r=0;r<t.length;r+=2)n.push(new e(t[r],t[r+1]));return new i("Polygon",[n])},polyline:function(t){for(var n=[],r=0;r<t.length;r+=2)n.push(new e(t[r],t[r+1]));return new i("Polyline",[n])},rectangle:function(t,n,r,o){return new i("Rectangle",[new e(t,n),new e(t+r,n+o)])}};t.exports=o},function(t,n,r){r(14).Point2D;var e=r(41),i={quadraticBezier:function(t,n,r){return new e("Bezier2",[t,n,r])},cubicBezier:function(t,n,r,i){return new e("Bezier3",[t,n,r,i])},circle:function(t,n){return new e("Circle",[t,n])},ellipse:function(t,n,r){return new e("Ellipse",[t,n,r])},line:function(t,n){return new e("Line",[t,n])},path:function(t){return new e("Path",[t])},polygon:function(t){return new e("Polygon",[t])},polyline:function(t){return new e("Polyline",[t])},rectangle:function(t,n){return new e("Rectangle",[t,t.add(n)])}};t.exports=i},function(t,n,r){var e=r(14).Vector2D,i={pointInCircle:function(t,n,r){return e.fromPoints(n,t).length()<=r},pointInEllipse:function(t,n,r,e){var i=t.subtract(n);return i.x*i.x/(r*r)+i.y*i.y/(e*e)<=1},pointInPolyline:function(t,n){for(var r,e=n.length,i=0,o=n[0],u=1;u<=e;u++){var s=n[u%e],a=Math.min(o.y,s.y),c=Math.max(o.y,s.y),f=Math.max(o.x,s.x);o.y!=s.y&&a<t.y&&t.y<=c&&t.x<=f&&(r=(t.y-o.y)*(s.x-o.x)/(s.y-o.y)+o.x,(o.x==s.x||t.x<=r)&&i++),o=s}return i%2==1}};i.pointInPolygon=i.pointInPolyline,i.pointInRectangle=function(t,n,r){return n.x<=t.x&&t.x<r.x&&n.y<=t.y&&t.y<r.y},t.exports=i},function(t,n,r){"use strict";var e=r(1),i=r(3),o=r(21),u=r(32),s=r(7),a=r(48),c=r(73),f=r(0),l=r(4),h=r(24),p=r(5),y=r(8),m=r(13),d=r(10),x=r(19),v=r(18),g=r(34),b=r(74),w=r(22),M=r(115),S=r(72),A=r(29),P=r(6),L=r(63),E=r(9),_=r(11),k=r(43),R=r(31),I=r(33),T=r(44),O=r(2),j=r(75),N=r(76),z=r(49),C=r(20),F=r(35).forEach,B=R("hidden"),q=O("toPrimitive"),U=C.set,D=C.getterFor("Symbol"),V=Object.prototype,X=i.Symbol,Y=o("JSON","stringify"),W=A.f,G=P.f,$=M.f,H=L.f,Q=k("symbols"),Z=k("op-symbols"),K=k("string-to-symbol-registry"),J=k("symbol-to-string-registry"),tt=k("wks"),nt=i.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,et=s&&f((function(){return 7!=g(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(t,n,r){var e=W(V,n);e&&delete V[n],G(t,n,r),e&&t!==V&&G(V,n,e)}:G,it=function(t,n){var r=Q[t]=g(X.prototype);return U(r,{type:"Symbol",tag:t,description:n}),s||(r.description=n),r},ot=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof X},ut=function(t,n,r){t===V&&ut(Z,n,r),y(t);var e=x(n,!0);return y(r),l(Q,e)?(r.enumerable?(l(t,B)&&t[B][e]&&(t[B][e]=!1),r=g(r,{enumerable:v(0,!1)})):(l(t,B)||G(t,B,v(1,{})),t[B][e]=!0),et(t,e,r)):G(t,e,r)},st=function(t,n){y(t);var r=d(n),e=b(r).concat(lt(r));return F(e,(function(n){s&&!at.call(r,n)||ut(t,n,r[n])})),t},at=function(t){var n=x(t,!0),r=H.call(this,n);return!(this===V&&l(Q,n)&&!l(Z,n))&&(!(r||!l(this,n)||!l(Q,n)||l(this,B)&&this[B][n])||r)},ct=function(t,n){var r=d(t),e=x(n,!0);if(r!==V||!l(Q,e)||l(Z,e)){var i=W(r,e);return!i||!l(Q,e)||l(r,B)&&r[B][e]||(i.enumerable=!0),i}},ft=function(t){var n=$(d(t)),r=[];return F(n,(function(t){l(Q,t)||l(I,t)||r.push(t)})),r},lt=function(t){var n=t===V,r=$(n?Z:d(t)),e=[];return F(r,(function(t){!l(Q,t)||n&&!l(V,t)||e.push(Q[t])})),e};(a||(_((X=function(){if(this instanceof X)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,n=T(t),r=function(t){this===V&&r.call(Z,t),l(this,B)&&l(this[B],n)&&(this[B][n]=!1),et(this,n,v(1,t))};return s&&rt&&et(V,n,{configurable:!0,set:r}),it(n,t)}).prototype,"toString",(function(){return D(this).tag})),_(X,"withoutSetter",(function(t){return it(T(t),t)})),L.f=at,P.f=ut,A.f=ct,w.f=M.f=ft,S.f=lt,j.f=function(t){return it(O(t),t)},s&&(G(X.prototype,"description",{configurable:!0,get:function(){return D(this).description}}),u||_(V,"propertyIsEnumerable",at,{unsafe:!0}))),e({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:X}),F(b(tt),(function(t){N(t)})),e({target:"Symbol",stat:!0,forced:!a},{for:function(t){var n=String(t);if(l(K,n))return K[n];var r=X(n);return K[n]=r,J[r]=n,r},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(l(J,t))return J[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),e({target:"Object",stat:!0,forced:!a,sham:!s},{create:function(t,n){return void 0===n?g(t):st(g(t),n)},defineProperty:ut,defineProperties:st,getOwnPropertyDescriptor:ct}),e({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ft,getOwnPropertySymbols:lt}),e({target:"Object",stat:!0,forced:f((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(m(t))}}),Y)&&e({target:"JSON",stat:!0,forced:!a||f((function(){var t=X();return"[null]"!=Y([t])||"{}"!=Y({a:t})||"{}"!=Y(Object(t))}))},{stringify:function(t,n,r){for(var e,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(e=n,(p(n)||void 0!==t)&&!ot(t))return h(n)||(n=function(t,n){if("function"==typeof e&&(n=e.call(this,t,n)),!ot(n))return n}),i[1]=n,Y.apply(null,i)}});X.prototype[q]||E(X.prototype,q,X.prototype.valueOf),z(X,"Symbol"),I[B]=!0},function(t,n,r){var e=r(3),i=r(66),o=e.WeakMap;t.exports="function"==typeof o&&/native code/.test(i(o))},function(t,n,r){var e=r(21),i=r(22),o=r(72),u=r(8);t.exports=e("Reflect","ownKeys")||function(t){var n=i.f(u(t)),r=o.f;return r?n.concat(r(t)):n}},function(t,n,r){var e=r(7),i=r(6),o=r(8),u=r(74);t.exports=e?Object.defineProperties:function(t,n){o(t);for(var r,e=u(n),s=e.length,a=0;s>a;)i.f(t,r=e[a++],n[r]);return t}},function(t,n,r){var e=r(21);t.exports=e("document","documentElement")},function(t,n,r){var e=r(10),i=r(22).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(e(t))}},function(t,n,r){var e=r(36);t.exports=function(t,n,r){if(e(t),void 0===n)return t;switch(r){case 0:return function(){return t.call(n)};case 1:return function(r){return t.call(n,r)};case 2:return function(r,e){return t.call(n,r,e)};case 3:return function(r,e,i){return t.call(n,r,e,i)}}return function(){return t.apply(n,arguments)}}},function(t,n,r){"use strict";var e=r(1),i=r(7),o=r(3),u=r(4),s=r(5),a=r(6).f,c=r(68),f=o.Symbol;if(i&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof h?new f(t):void 0===t?f():f(t);return""===t&&(l[n]=!0),n};c(h,f);var p=h.prototype=f.prototype;p.constructor=h;var y=p.toString,m="Symbol(test)"==String(f("test")),d=/^Symbol\((.*)\)[^)]+$/;a(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,n=y.call(t);if(u(l,t))return"";var r=m?n.slice(7,-1):n.replace(d,"$1");return""===r?void 0:r}}),e({global:!0,forced:!0},{Symbol:h})}},function(t,n,r){r(76)("iterator")},function(t,n,r){var e=r(21);t.exports=e("navigator","userAgent")||""},function(t,n,r){var e=r(2),i=r(34),o=r(6),u=e("unscopables"),s=Array.prototype;null==s[u]&&o.f(s,u,{configurable:!0,value:i(null)}),t.exports=function(t){s[u][t]=!0}},function(t,n,r){"use strict";var e=r(82).IteratorPrototype,i=r(34),o=r(18),u=r(49),s=r(54),a=function(){return this};t.exports=function(t,n,r){var c=n+" Iterator";return t.prototype=i(e,{next:o(1,r)}),u(t,c,!1,!0),s[c]=a,t}},function(t,n,r){var e=r(0);t.exports=!e((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,n,r){var e=r(5);t.exports=function(t){if(!e(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,n,r){var e=r(36),i=r(13),o=r(30),u=r(12),s=function(t){return function(n,r,s,a){e(r);var c=i(n),f=o(c),l=u(c.length),h=t?l-1:0,p=t?-1:1;if(s<2)for(;;){if(h in f){a=f[h],h+=p;break}if(h+=p,t?h<0:l<=h)throw TypeError("Reduce of empty array with no initial value")}for(;t?h>=0:l>h;h+=p)h in f&&(a=r(a,f[h],h,c));return a}};t.exports={left:s(!1),right:s(!0)}},function(t,n,r){"use strict";var e=r(1),i=r(24),o=[].reverse,u=[1,2];e({target:"Array",proto:!0,forced:String(u)===String(u.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,n,r){"use strict";var e=r(1),i=r(36),o=r(13),u=r(0),s=r(26),a=[],c=a.sort,f=u((function(){a.sort(void 0)})),l=u((function(){a.sort(null)})),h=s("sort");e({target:"Array",proto:!0,forced:f||!l||!h},{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},function(t,n,r){"use strict";var e=r(56),i=r(128);t.exports=e?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,n,r){var e=r(56),i=r(16),o=r(2)("toStringTag"),u="Arguments"==i(function(){return arguments}());t.exports=e?i:function(t){var n,r,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:u?i(n):"Object"==(e=i(n))&&"function"==typeof n.callee?"Arguments":e}},function(t,n,r){"use strict";var e=r(88).charAt,i=r(20),o=r(81),u=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(t){u(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,n=s(this),r=n.string,i=n.index;return i>=r.length?{value:void 0,done:!0}:(t=e(r,i),n.index+=t.length,{value:t,done:!1})}))},function(t,n,r){var e=r(8),i=r(36),o=r(2)("species");t.exports=function(t,n){var r,u=e(t).constructor;return void 0===u||null==(r=e(u)[o])?n:i(r)}},function(t,n,r){var e=r(3),i=r(93),o=r(80),u=r(9),s=r(2),a=s("iterator"),c=s("toStringTag"),f=o.values;for(var l in i){var h=e[l],p=h&&h.prototype;if(p){if(p[a]!==f)try{u(p,a,f)}catch(t){p[a]=f}if(p[c]||u(p,c,l),i[l])for(var y in o)if(p[y]!==o[y])try{u(p,y,o[y])}catch(t){p[y]=o[y]}}}},function(t,n,r){"use strict";var e=r(7),i=r(3),o=r(47),u=r(11),s=r(4),a=r(16),c=r(95),f=r(19),l=r(0),h=r(34),p=r(22).f,y=r(29).f,m=r(6).f,d=r(96).trim,x=i.Number,v=x.prototype,g="Number"==a(h(v)),b=function(t){var n,r,e,i,o,u,s,a,c=f(t,!1);if("string"==typeof c&&c.length>2)if(43===(n=(c=d(c)).charCodeAt(0))||45===n){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===n){switch(c.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+c}for(u=(o=c.slice(2)).length,s=0;s<u;s++)if((a=o.charCodeAt(s))<48||a>i)return NaN;return parseInt(o,e)}return+c};if(o("Number",!x(" 0o1")||!x("0b1")||x("+0x1"))){for(var w,M=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof M&&(g?l((function(){v.valueOf.call(r)})):"Number"!=a(r))?c(new x(b(n)),r,M):b(n)},S=e?p(x):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),A=0;S.length>A;A++)s(x,w=S[A])&&!s(M,w)&&m(M,w,y(x,w));M.prototype=v,v.constructor=M,u(i,"Number",M)}},function(t,n,r){r(1)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,n,r){r(1)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,n,r){var e=r(7),i=r(3),o=r(47),u=r(95),s=r(6).f,a=r(22).f,c=r(90),f=r(57),l=r(87),h=r(11),p=r(0),y=r(20).set,m=r(136),d=r(2)("match"),x=i.RegExp,v=x.prototype,g=/a/g,b=/a/g,w=new x(g)!==g,M=l.UNSUPPORTED_Y;if(e&&o("RegExp",!w||M||p((function(){return b[d]=!1,x(g)!=g||x(b)==b||"/a/i"!=x(g,"i")})))){for(var S=function(t,n){var r,e=this instanceof S,i=c(t),o=void 0===n;if(!e&&i&&t.constructor===S&&o)return t;w?i&&!o&&(t=t.source):t instanceof S&&(o&&(n=f.call(t)),t=t.source),M&&(r=!!n&&n.indexOf("y")>-1)&&(n=n.replace(/y/g,""));var s=u(w?new x(t,n):x(t,n),e?this:v,S);return M&&r&&y(s,{sticky:r}),s},A=function(t){t in S||s(S,t,{configurable:!0,get:function(){return x[t]},set:function(n){x[t]=n}})},P=a(x),L=0;P.length>L;)A(P[L++]);v.constructor=S,S.prototype=v,h(i,"RegExp",S)}m("RegExp")},function(t,n,r){"use strict";var e=r(21),i=r(6),o=r(2),u=r(7),s=o("species");t.exports=function(t){var n=e(t),r=i.f;u&&n&&!n[s]&&r(n,s,{configurable:!0,get:function(){return this}})}},function(t,n,r){"use strict";var e=r(89),i=r(8),o=r(13),u=r(12),s=r(23),a=r(17),c=r(91),f=r(92),l=Math.max,h=Math.min,p=Math.floor,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;e("replace",2,(function(t,n,r,e){var d=e.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,x=e.REPLACE_KEEPS_$0,v=d?"$":"$0";return[function(r,e){var i=a(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,e):n.call(String(i),r,e)},function(t,e){if(!d&&x||"string"==typeof e&&-1===e.indexOf(v)){var o=r(n,t,this,e);if(o.done)return o.value}var a=i(t),p=String(this),y="function"==typeof e;y||(e=String(e));var m=a.global;if(m){var b=a.unicode;a.lastIndex=0}for(var w=[];;){var M=f(a,p);if(null===M)break;if(w.push(M),!m)break;""===String(M[0])&&(a.lastIndex=c(p,u(a.lastIndex),b))}for(var S,A="",P=0,L=0;L<w.length;L++){M=w[L];for(var E=String(M[0]),_=l(h(s(M.index),p.length),0),k=[],R=1;R<M.length;R++)k.push(void 0===(S=M[R])?S:String(S));var I=M.groups;if(y){var T=[E].concat(k,_,p);void 0!==I&&T.push(I);var O=String(e.apply(void 0,T))}else O=g(E,p,_,k,I,e);_>=P&&(A+=p.slice(P,_)+O,P=_+E.length)}return A+p.slice(P)}];function g(t,r,e,i,u,s){var a=e+t.length,c=i.length,f=m;return void 0!==u&&(u=o(u),f=y),n.call(s,f,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return r.slice(0,e);case"'":return r.slice(a);case"<":s=u[o.slice(1,-1)];break;default:var f=+o;if(0===f)return n;if(f>c){var l=p(f/10);return 0===l?n:l<=c?void 0===i[l-1]?o.charAt(1):i[l-1]+o.charAt(1):n}s=i[f-1]}return void 0===s?"":s}))}}))},function(t,n,r){"use strict";var e=r(1),i=r(96).trim;e({target:"String",proto:!0,forced:r(139)("trim")},{trim:function(){return i(this)}})},function(t,n,r){var e=r(0),i=r(97);t.exports=function(t){return e((function(){return!!i[t]()||"​᠎"!="​᠎"[t]()||i[t].name!==t}))}},function(t,r,e){"use strict";e.r(r);e(99);var i=e(60),o=e.n(i),u={resolution:10,nodeSelectionMinProximity:20,knot:{stroke:"black",strokeWidth:5,fill:"none",borderWidth:5},mask:{stroke:"white",strokeWidth:5,fill:"none"},graphRows:10,graphCols:20,squareHeight:70,targetSquareSize:100,graphLine:{stroke:"gray",strokeWidth:1,strokeOpacity:1},frame:{fill:"none",stroke:"red",strokeWidth:2,strokeOpacity:1},webgl:{circleSides:10},maxStrokeWidth:function(){return Math.max(this.graphLine.strokeWidth,this.frame.strokeWidth)},minStrokeWidth:function(){return Math.min(this.graphLine.strokeWidth,this.frame.strokeWidth)},nodeStyle:{fill:"blue",stroke:"white",strokeWidth:2,fillOpacity:1,radius:7},shiftFactor:function(t){return t.strokeWidth===this.maxStrokeWidth()?0:.5*(this.maxStrokeWidth()-this.minStrokeWidth())}},s=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,s=o.length;u<s;u++,i++)e[i]=o[u];return e};function a(t,n){for(var r,e,i,u,a=0;a<t.length-1;a++){e=t.slice(a,a+2);for(var c=0;c<n.length-1;c++)if(i=n.slice(c,c+2),(u=(r=o.a.Intersection).intersectLineLine.apply(r,s(e,i))).points.length>0)return{idxA:a,idxB:c,intersection:u.points[0]}}}function c(t,n){var r=t[0],e=t[1];return[r*Math.cos(n)-e*Math.sin(n),e*Math.cos(n)+r*Math.sin(n)]}function f(t,n){for(;t.length>0;)t.pop();for(var r=0,e=n;r<e.length;r++){var i=e[r];t.push(i)}return t}function l(t,n){return t.concat([n.x,n.y])}function h(t,n){return"L"===n?t.crossedLeft:t.crossedRight}function p(t){return h(t,"R")&&h(t,"L")}var y,m={frame:null,knot:null,userLine:null,gridLines:null,mouseTracker:null,canvasWidth:0,canvasHeight:0,columns:0,rows:0,squareSize:u.targetSquareSize};function d(t){var n=t.clientX,r=t.clientY,e=document.getElementById("webgl-surface").getBoundingClientRect();return[n-e.left,r-e.top].map((function(t){return t*window.devicePixelRatio}))}function x(t,n){var r=t[0]>=0&&t[0]<u.graphCols,e=t[1]>=0&&t[1]<u.graphRows;r&&e&&n()}function v(t){return d(t).map((function(t){var n=t-.5*u.maxStrokeWidth();return Math.floor(n/m.squareSize)}))}function g(t){return t.map((function(t){return t*m.squareSize+u.maxStrokeWidth()/2}))}function b(t,n){return JSON.stringify(t)===JSON.stringify(n)}function w(t){return function(t){var n=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2));return t.map((function(t){return t/n}))}([-t[1],t[0]])}function M(t,n){return[t[0]+n[0],t[1]+n[1]]}function S(t,n){return[t[0]*n,t[1]*n]}!function(t){t[t.square=0]="square",t[t.freeform=1]="freeform"}(y||(y={}));var A=["add-grid","add-node","add-line"];function P(t){switch(t.gridSystem){case y.square:var n=t.x,r=t.y,e=g([n,r]);return{gridX:n,gridY:r,x:e[0],y:e[1]};case y.freeform:return{x:t.x,y:t.y}}}function L(t,n){return t.x===n.x&&t.y===n.y}function E(t,n){return r=[t.x,t.y],e=[n[0],n[1]],Math.pow(Math.pow(r[0]-e[0],2)+Math.pow(r[1]-e[1],2),.5);var r,e}function _(t){return!p(t.crossingPoint)}function k(t){return[t.endX-t.startX,t.endY-t.startY]}function R(t,n){var r=k(t);return n.reverse&&(r=r.map((function(t){return-1*t}))),Math.atan2(r[1],r[0])}function I(t,n){return t.startX===n.x&&t.startY===n.y?R(t,{reverse:!1}):R(t,{reverse:!0})}function T(t,n){var r,e=k(t);return n.reverse&&(e=e.map((function(t){return-1*t}))),r="R"===n.direction?c(e,Math.PI/4):c(e,-Math.PI/4),Math.atan2(r[1],r[0])}function O(t){this.point=t.point,this.pr=t.pr,this.direction=t.direction}O.prototype={get x(){return this.point.coords[0]},get y(){return this.point.coords[1]}};var j=O,N=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,s=o.length;u<s;u++,i++)e[i]=o[u];return e};function z(t,n){return Array(n-t+1).fill(null).map((function(n,r){return t+r}))}function C(t){return t.reduce((function(n,r){return N(n,[t.map((function(t,n){return[t,n]})).filter((function(t){var n=t[0];t[1];return function(t,n){if([t.gridX,t.gridY,n.gridX,n.gridY].every((function(t){return void 0!==t})))return b([Math.abs(n.gridX-t.gridX),Math.abs(n.gridY-t.gridY)].sort(),[0,1]);throw new Error("can't determine adjacency for a non-grid node")}(r,n)})).map((function(t){t[0];return t[1]}))])}),[])}function F(t,n){return n.findIndex((function(n){return L(n,t)}))}function B(t,n){var r,e,i,o,u,s,a,c,f=(r={leftmost:Math.min(t[0],n[0]),rightmost:Math.max(t[0],n[0]),topmost:Math.min(t[1],n[1]),bottommost:Math.max(t[1],n[1])},i=r.leftmost,o=r.rightmost,u=r.topmost,s=r.bottommost,a=z(i,o+1),c=z(u,s+1),e=c,a.reduce((function(t,n){return t.concat(e.map((function(t){return[n,t]})))}),[])).map((function(t){return P({x:t[0],y:t[1],gridSystem:y.square})})),l=C(f),h=Y(f,l);return{nodes:f,adjacencyList:l,lines:h,crossingPoints:h.map((function(t){return t.crossingPoint}))}}function q(t,n){var r=function(t,n){return n.reduce((function(n,r){return E(r,t)<E(n,t)?r:n}))}(t,n),e=u.nodeSelectionMinProximity;if(E(r,t)<e)return r}function U(t,n,r){return!!r.find((function(r){return function(t,n,r){var e=L(t.startNode,n)&&L(t.endNode,r),i=L(t.startNode,r)&&L(t.endNode,n);return e||i}(r,t,n)}))}function D(t,n,r,e){return function(t,n,r){var e=N(r);return e[t]=N(e[t],[n]),e[n]=N(e[n],[t]),e}(F(t,r),F(n,r),e)}function V(t,n){return n.filter((function(n){return function(t,n){return!(!L(t.startNode,n)&&!L(t.endNode,n))}(n,t)}))}function X(t,n,r){return r.some((function(r){return function(t,n,r){var e=Math.abs(n-t.x),i=Math.abs(r-t.y);return Math.pow(Math.pow(e,2)+Math.pow(i,2),.5)<=u.nodeStyle.radius}(r,t,n)}))}function Y(t,n){return t.reduce((function(r,e,i){return r.concat(n[i].filter((function(t){return i<t})).map((function(n){return function(t,n){return function(t){var n,r,e,i,o=t.startNode,u=t.endNode,s=t.style;return{startNode:o,endNode:u,startX:o.x,startY:o.y,endX:u.x,endY:u.y,crossingPoint:(n=o.x,r=o.y,e=u.x,i=u.y,{crossedLeft:!1,crossedRight:!1,coords:[(n+e)/2,(r+i)/2]}),style:s}}({method:"node",startNode:t,endNode:n,style:u.frame})}(e,t[n])})))}),[])}var W={};function G(t){var n=[];return Q.call(n,t),n}function $(t,n){return n[(t+1)%n.length]}function H(t,n){return n[t-1]||n[n.length-1]}function Q(t){var n;for(W.frame=t,W.currentLine=t.lines.find(_),W.direction=p(n=W.currentLine.crossingPoint)?null:h(n,"L")?"R":"L",W.targetNode=W.currentLine.endNode,Z.call(this,t);W.currentLine=rt(),W.direction=K(),W.targetNode=nt(),J.call(this),!h(rt(W.frame).crossingPoint,K()););}function Z(){if(it.call(this,new j({direction:W.direction,point:W.currentLine.crossingPoint,pr:!1})),W.frame,n=Math.abs(T(W.currentLine,{direction:W.direction,reverse:et()})-(W.frame,T(rt(W.frame),{direction:K(),reverse:(W.frame,L(rt().endNode,W.targetNode))}))),Math.min(n,2*Math.PI-n)>1.6){var t=function(t,n){var r,e=[n[0]-t[0],n[1]-t[1]];"R"===W.direction?r=[-e[1],e[0]]:"L"===W.direction&&(r=[e[1],-e[0]]);return[t[0]+e[0]/2+r[0],t[1]+e[1]/2+r[1]]}(W.currentLine.crossingPoint.coords,rt(W.frame).crossingPoint.coords);it.call(this,{point:{},x:t[0],y:t[1],pr:K()})}var n;"R"===W.direction?W.currentLine.crossingPoint.crossedRight=!0:W.currentLine.crossingPoint.crossedLeft=!0}function K(){return"R"===W.direction?"L":"R"}function J(t){Z.call(this,t)}function tt(t,n){return I(t,W.targetNode)<I(n,W.targetNode)?-1:1}function nt(){return et()?W.currentLine.endNode:W.currentLine.startNode}function rt(){var t=V(W.targetNode,W.frame.lines).slice().sort(tt),n=t.indexOf(W.currentLine);if("R"===W.direction){var r=t[n-1],e=t[t.length-1];return r||e}return t.push(t[0]),t[n+1]}function et(){return L(W.currentLine.startNode,W.targetNode)}function it(t){this.push(t)}function ot(t){this.options=t,this.pr=t.pr,this.elements=t.elements}ot.prototype={draw:function(t){return[this.drawInners(t),this.drawOuters(t)]},clippedOutboundPath:function(t,n){var r=n.slice(0,t.idxA+1);return r.push(t.intersection),r},clippedInboundPath:function(t,n){var r=n.slice(t.idxB+1);return r.unshift(t.intersection),r},drawInners:function(t){var n,r,e=this.pr.pr,i=a(n="L"===e?t.underInLeft||t.overInLeft:t.underInRight||t.overInRight,r="L"===e?t.underOutLeft||t.overOutLeft:t.underOutRight||t.overOutRight);return this.outClipped=this.clippedOutboundPath(i,n),this.inClipped=this.clippedInboundPath(i,r),this.outClipped.concat(this.inClipped).reduce(l,[])},drawOuters:function(t){var n,r,e=this.pr.pr;n="L"===e?t.underInRight||t.overInRight:t.underInLeft||t.overInLeft,r="L"===e?t.underOutRight||t.overOutRight:t.underOutLeft||t.overOutLeft;var i=this.inClipped[0],o=this.options.middleInbound.points[0],u={x:2*o.x-i.x,y:2*o.y-i.y};return n.concat([u].concat(r)).reduce(l,[])}};var ut=e(98),st=e.n(ut),at=(e(110),e(117),e(118),e(37),e(52),e(53),e(79),e(80),e(38),e(27),e(85),e(125),e(55),e(126),e(86),e(28),e(58),e(129),e(40),e(59),e(131),e(94),e(132),e(133),e(134),Math.abs),ct=Math.cos,ft=Math.sin,lt=Math.acos,ht=Math.atan2,pt=Math.sqrt,yt=Math.pow,mt=function(t){return t<0?-yt(-t,1/3):yt(t,1/3)},dt=Math.PI,xt=2*dt,vt=dt/2,gt=Number.MAX_SAFE_INTEGER||9007199254740991,bt=Number.MIN_SAFE_INTEGER||-9007199254740991,wt={x:0,y:0,z:0},Mt={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(t,n){var r=n(t),e=r.x*r.x+r.y*r.y;return void 0!==r.z&&(e+=r.z*r.z),pt(e)},compute:function(t,n,r){if(0===t)return n[0];var e=n.length-1;if(1===t)return n[e];var i=n,o=1-t;if(0===e)return n[0];if(1===e)return h={x:o*i[0].x+t*i[1].x,y:o*i[0].y+t*i[1].y},r&&(h.z=o*i[0].z+t*i[1].z),h;if(e<4){var u,s,a,c=o*o,f=t*t,l=0;2===e?(i=[i[0],i[1],i[2],wt],u=c,s=o*t*2,a=f):3===e&&(u=c*o,s=c*t*3,a=o*f*3,l=t*f);var h={x:u*i[0].x+s*i[1].x+a*i[2].x+l*i[3].x,y:u*i[0].y+s*i[1].y+a*i[2].y+l*i[3].y};return r&&(h.z=u*i[0].z+s*i[1].z+a*i[2].z+l*i[3].z),h}for(var p=JSON.parse(JSON.stringify(n));p.length>1;){for(var y=0;y<p.length-1;y++)p[y]={x:p[y].x+(p[y+1].x-p[y].x)*t,y:p[y].y+(p[y+1].y-p[y].y)*t},void 0!==p[y].z&&(p[y]=p[y].z+(p[y+1].z-p[y].z)*t);p.splice(p.length-1,1)}return p[0]},derive:function(t,n){for(var r=[],e=t,i=e.length,o=i-1;i>1;i--,o--){for(var u,s=[],a=0;a<o;a++)u={x:o*(e[a+1].x-e[a].x),y:o*(e[a+1].y-e[a].y)},n&&(u.z=o*(e[a+1].z-e[a].z)),s.push(u);r.push(s),e=s}return r},between:function(t,n,r){return n<=t&&t<=r||Mt.approximately(t,n)||Mt.approximately(t,r)},approximately:function(t,n,r){return at(t-n)<=(r||1e-6)},length:function(t){var n,r,e=0,i=Mt.Tvalues.length;for(n=0;n<i;n++)r=.5*Mt.Tvalues[n]+.5,e+=Mt.Cvalues[n]*Mt.arcfn(r,t);return.5*e},map:function(t,n,r,e,i){return e+(i-e)*((t-n)/(r-n))},lerp:function(t,n,r){var e={x:n.x+t*(r.x-n.x),y:n.y+t*(r.y-n.y)};return n.z&&r.z&&(e.z=n.z+t*(r.z-n.z)),e},pointToString:function(t){var n=t.x+"/"+t.y;return void 0!==t.z&&(n+="/"+t.z),n},pointsToString:function(t){return"["+t.map(Mt.pointToString).join(", ")+"]"},copy:function(t){return JSON.parse(JSON.stringify(t))},angle:function(t,n,r){var e=n.x-t.x,i=n.y-t.y,o=r.x-t.x,u=r.y-t.y;return ht(e*u-i*o,e*o+i*u)},round:function(t,n){var r=""+t,e=r.indexOf(".");return parseFloat(r.substring(0,e+1+n))},dist:function(t,n){var r=t.x-n.x,e=t.y-n.y;return pt(r*r+e*e)},closest:function(t,n){var r,e,i=yt(2,63);return t.forEach((function(t,o){(e=Mt.dist(n,t))<i&&(i=e,r=o)})),{mdist:i,mpos:r}},abcratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var r=yt(t,n)+yt(1-t,n);return at((r-1)/r)},projectionratio:function(t,n){if(2!==n&&3!==n)return!1;if(void 0===t)t=.5;else if(0===t||1===t)return t;var r=yt(1-t,n);return r/(yt(t,n)+r)},lli8:function(t,n,r,e,i,o,u,s){var a=(t-r)*(o-s)-(n-e)*(i-u);return 0!=a&&{x:((t*e-n*r)*(i-u)-(t-r)*(i*s-o*u))/a,y:((t*e-n*r)*(o-s)-(n-e)*(i*s-o*u))/a}},lli4:function(t,n,r,e){var i=t.x,o=t.y,u=n.x,s=n.y,a=r.x,c=r.y,f=e.x,l=e.y;return Mt.lli8(i,o,u,s,a,c,f,l)},lli:function(t,n){return Mt.lli4(t,t.c,n,n.c)},makeline:function(t,n){var r=t.x,e=t.y,i=n.x,o=n.y,u=(i-r)/3,s=(o-e)/3;return new Dt(r,e,r+u,e+s,r+2*u,e+2*s,i,o)},findbbox:function(t){var n=gt,r=gt,e=bt,i=bt;return t.forEach((function(t){var o=t.bbox();n>o.x.min&&(n=o.x.min),r>o.y.min&&(r=o.y.min),e<o.x.max&&(e=o.x.max),i<o.y.max&&(i=o.y.max)})),{x:{min:n,mid:(n+e)/2,max:e,size:e-n},y:{min:r,mid:(r+i)/2,max:i,size:i-r}}},shapeintersections:function(t,n,r,e,i){if(!Mt.bboxoverlap(n,e))return[];var o=[],u=[t.startcap,t.forward,t.back,t.endcap],s=[r.startcap,r.forward,r.back,r.endcap];return u.forEach((function(n){n.virtual||s.forEach((function(e){if(!e.virtual){var u=n.intersects(e,i);u.length>0&&(u.c1=n,u.c2=e,u.s1=t,u.s2=r,o.push(u))}}))})),o},makeshape:function(t,n,r){var e=n.points.length,i=t.points.length,o=Mt.makeline(n.points[e-1],t.points[0]),u=Mt.makeline(t.points[i-1],n.points[0]),s={startcap:o,forward:t,back:n,endcap:u,bbox:Mt.findbbox([o,t,n,u])},a=Mt;return s.intersections=function(t){return a.shapeintersections(s,s.bbox,t,t.bbox,r)},s},getminmax:function(t,n,r){if(!r)return{min:0,max:0};var e,i,o=gt,u=bt;-1===r.indexOf(0)&&(r=[0].concat(r)),-1===r.indexOf(1)&&r.push(1);for(var s=0,a=r.length;s<a;s++)e=r[s],(i=t.get(e))[n]<o&&(o=i[n]),i[n]>u&&(u=i[n]);return{min:o,mid:(o+u)/2,max:u,size:u-o}},align:function(t,n){var r=n.p1.x,e=n.p1.y,i=-ht(n.p2.y-e,n.p2.x-r);return t.map((function(t){return{x:(t.x-r)*ct(i)-(t.y-e)*ft(i),y:(t.x-r)*ft(i)+(t.y-e)*ct(i)}}))},roots:function(t,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};var r=t.length-1,e=Mt.align(t,n),i=function(t){return 0<=t&&t<=1};if(2===r){if(0!==(f=(l=e[0].y)-2*(h=e[1].y)+(p=e[2].y))){var o=-pt(h*h-l*p),u=-l+h;return[-(o+u)/f,-(-o+u)/f].filter(i)}return h!==p&&0===f?[(2*h-p)/(2*h-2*p)].filter(i):[]}var s=e[0].y,a=e[1].y,c=e[2].y,f=3*a-s-3*c+e[3].y,l=3*s-6*a+3*c,h=-3*s+3*a,p=s;if(Mt.approximately(f,0)){if(Mt.approximately(l,0))return Mt.approximately(h,0)?[]:[-p/h].filter(i);var y=2*l;return[((m=pt(h*h-4*l*p))-h)/y,(-h-m)/y].filter(i)}var m,d,x=(e=(3*(h/=f)-(l/=f)*l)/3)/3,v=(m=(2*l*l*l-9*l*h+27*(p/=f))/27)/2,g=v*v+x*x*x;if(g<0){var b=-e/3,w=pt(b*b*b),M=-m/(2*w),S=lt(M<-1?-1:M>1?1:M),A=2*mt(w);return[A*ct(S/3)-l/3,A*ct((S+xt)/3)-l/3,A*ct((S+2*xt)/3)-l/3].filter(i)}if(0===g)return[2*(d=v<0?mt(-v):-mt(v))-l/3,-d-l/3].filter(i);var P=pt(g);return[(d=mt(-v+P))-mt(v+P)-l/3].filter(i)},droots:function(t){if(3===t.length){var n=t[0],r=t[1],e=t[2],i=n-2*r+e;if(0!==i){var o=-pt(r*r-n*e),u=-n+r;return[-(o+u)/i,-(-o+u)/i]}return r!==e&&0===i?[(2*r-e)/(2*(r-e))]:[]}if(2===t.length)return(n=t[0])!==(r=t[1])?[n/(n-r)]:[]},curvature:function(t,n,r){var e,i,o=Mt.derive(n),u=o[0],s=o[1],a=Mt.compute(t,u),c=Mt.compute(t,s);return r?(e=pt(yt(a.y*c.z-c.y*a.z,2)+yt(a.z*c.x-c.z*a.x,2)+yt(a.x*c.y-c.x*a.y,2)),i=yt(a.x*a.x+a.y*a.y+a.z*a.z,2/3)):(e=a.x*c.y-a.y*c.x,i=yt(a.x*a.x+a.y*a.y,2/3)),0===e||0===i?{k:0,r:0}:{k:e/i,r:i/e}},inflections:function(t){if(t.length<4)return[];var n=Mt.align(t,{p1:t[0],p2:t.slice(-1)[0]}),r=n[2].x*n[1].y,e=n[3].x*n[1].y,i=n[1].x*n[2].y,o=18*(-3*r+2*e+3*i-(l=n[3].x*n[2].y)),u=18*(3*r-e-3*i),s=18*(i-r);if(Mt.approximately(o,0)){if(!Mt.approximately(u,0)){var a=-s/u;if(0<=a&&a<=1)return[a]}return[]}var c=u*u-4*o*s,f=Math.sqrt(c),l=2*o;return Mt.approximately(l,0)?[]:[(f-u)/l,-(u+f)/l].filter((function(t){return 0<=t&&t<=1}))},bboxoverlap:function(t,n){var r,e,i,o,u,s=["x","y"],a=s.length;for(r=0;r<a;r++)if(i=t[e=s[r]].mid,o=n[e].mid,u=(t[e].size+n[e].size)/2,at(i-o)>=u)return!1;return!0},expandbox:function(t,n){n.x.min<t.x.min&&(t.x.min=n.x.min),n.y.min<t.y.min&&(t.y.min=n.y.min),n.z&&n.z.min<t.z.min&&(t.z.min=n.z.min),n.x.max>t.x.max&&(t.x.max=n.x.max),n.y.max>t.y.max&&(t.y.max=n.y.max),n.z&&n.z.max>t.z.max&&(t.z.max=n.z.max),t.x.mid=(t.x.min+t.x.max)/2,t.y.mid=(t.y.min+t.y.max)/2,t.z&&(t.z.mid=(t.z.min+t.z.max)/2),t.x.size=t.x.max-t.x.min,t.y.size=t.y.max-t.y.min,t.z&&(t.z.size=t.z.max-t.z.min)},pairiteration:function(t,n,r){var e=t.bbox(),i=n.bbox(),o=1e5,u=r||.5;if(e.x.size+e.y.size<u&&i.x.size+i.y.size<u)return[(o*(t._t1+t._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];var s=t.split(.5),a=n.split(.5),c=[{left:s.left,right:a.left},{left:s.left,right:a.right},{left:s.right,right:a.right},{left:s.right,right:a.left}];c=c.filter((function(t){return Mt.bboxoverlap(t.left.bbox(),t.right.bbox())}));var f=[];return 0===c.length?f:(c.forEach((function(t){f=f.concat(Mt.pairiteration(t.left,t.right,u))})),f=f.filter((function(t,n){return f.indexOf(t)===n})))},getccenter:function(t,n,r){var e,i=n.x-t.x,o=n.y-t.y,u=r.x-n.x,s=r.y-n.y,a=i*ct(vt)-o*ft(vt),c=i*ft(vt)+o*ct(vt),f=u*ct(vt)-s*ft(vt),l=u*ft(vt)+s*ct(vt),h=(t.x+n.x)/2,p=(t.y+n.y)/2,y=(n.x+r.x)/2,m=(n.y+r.y)/2,d=h+a,x=p+c,v=y+f,g=m+l,b=Mt.lli8(h,p,d,x,y,m,v,g),w=Mt.dist(b,t),M=ht(t.y-b.y,t.x-b.x),S=ht(n.y-b.y,n.x-b.x),A=ht(r.y-b.y,r.x-b.x);return M<A?((M>S||S>A)&&(M+=xt),M>A&&(e=A,A=M,M=e)):A<S&&S<M?(e=A,A=M,M=e):A+=xt,b.s=M,b.e=A,b.r=w,b},numberSort:function(t,n){return t-n}},St=Mt,At=function(t){this.curves=[],this._3d=!1,t&&(this.curves=t,this._3d=this.curves[0]._3d)};At.prototype={valueOf:function(){return this.toString()},toString:function(){return"["+this.curves.map((function(t){return St.pointsToString(t.points)})).join(", ")+"]"},addCurve:function(t){this.curves.push(t),this._3d=this._3d||t._3d},length:function(){return this.curves.map((function(t){return t.length()})).reduce((function(t,n){return t+n}))},curve:function(t){return this.curves[t]},bbox:function(){for(var t=this.curves,n=t[0].bbox(),r=1;r<t.length;r++)St.expandbox(n,t[r].bbox());return n},offset:function(t){var n=[];return this.curves.forEach((function(r){n=n.concat(r.offset(t))})),new At(n)}};var Pt=At;e(135),e(137),e(138);var Lt={x:!1,y:!1};function Et(t,n,r){if("Z"!==n){if("M"!==n){var e=[!1,Lt.x,Lt.y].concat(r),i=new(t.bind.apply(t,e)),o=r.slice(-2);return Lt={x:o[0],y:o[1]},i}Lt={x:r[0],y:r[1]}}}var _t=function(t,n){for(var r,e,i=normalise(n).split(" "),o=new RegExp("[MLCQZ]",""),u=[],s={C:6,Q:4,L:2,M:2};i.length;)r=i.splice(0,1)[0],o.test(r)&&(e=Et(t,r,i.splice(0,s[r]).map(parseFloat)))&&u.push(e);return new t.PolyBezier(u)};function kt(t){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Rt=Math.abs,It=Math.min,Tt=Math.max,Ot=Math.cos,jt=Math.sin,Nt=Math.acos,zt=Math.sqrt,Ct=Math.PI,Ft={x:0,y:0,z:0},Bt=function(t){var n=t&&t.forEach?t:[].slice.call(arguments),r=!1;if("object"===kt(n[0])){r=n.length;var e=[];n.forEach((function(t){["x","y","z"].forEach((function(n){void 0!==t[n]&&e.push(t[n])}))})),n=e}var i=!1,o=n.length;if(r){if(r>4){if(1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");i=!0}}else if(6!==o&&8!==o&&9!==o&&12!==o&&1!==arguments.length)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");var u=!i&&(9===o||12===o)||t&&t[0]&&void 0!==t[0].z;this._3d=u;for(var s=[],a=0,c=u?3:2;a<o;a+=c){var f={x:n[a],y:n[a+1]};u&&(f.z=n[a+2]),s.push(f)}this.order=s.length-1,this.points=s;var l=["x","y"];u&&l.push("z"),this.dims=l,this.dimlen=l.length,function(t){for(var n=t.order,r=t.points,e=St.align(r,{p1:r[0],p2:r[n]}),i=0;i<e.length;i++)if(Rt(e[i].y)>1e-4)return void(t._linear=!1);t._linear=!0}(this),this._t1=0,this._t2=1,this.update()};function qt(t,n,r,e,i){void 0===i&&(i=.5);var o=St.projectionratio(i,t),u=1-o,s={x:o*n.x+u*e.x,y:o*n.y+u*e.y},a=St.abcratio(i,t);return{A:{x:r.x+(r.x-s.x)/a,y:r.y+(r.y-s.y)/a},B:r,C:s}}Bt.SVGtoBeziers=function(t){return _t(Bt,t)},Bt.quadraticFromPoints=function(t,n,r,e){if(void 0===e&&(e=.5),0===e)return new Bt(n,n,r);if(1===e)return new Bt(t,n,n);var i=qt(2,t,n,r,e);return new Bt(t,i.A,r)},Bt.cubicFromPoints=function(t,n,r,e,i){void 0===e&&(e=.5);var o=qt(3,t,n,r,e);void 0===i&&(i=St.dist(n,o.C));var u=i*(1-e)/e,s=St.dist(t,r),a=(r.x-t.x)/s,c=(r.y-t.y)/s,f=i*a,l=i*c,h=u*a,p=u*c,y=n.x-f,m=n.y-l,d=n.x+h,x=n.y+p,v=o.A,g=v.x+(y-v.x)/(1-e),b=v.y+(m-v.y)/(1-e),w=v.x+(d-v.x)/e,M=v.y+(x-v.y)/e,S={x:t.x+(g-t.x)/e,y:t.y+(b-t.y)/e},A={x:r.x+(w-r.x)/(1-e),y:r.y+(M-r.y)/(1-e)};return new Bt(t,S,A,r)};var Ut=function(){return St};Bt.getUtils=Ut,Bt.PolyBezier=Pt,Bt.prototype={getUtils:Ut,valueOf:function(){return this.toString()},toString:function(){return St.pointsToString(this.points)},toSVG:function(t){if(this._3d)return!1;for(var n=this.points,r=["M",n[0].x,n[0].y,2===this.order?"Q":"C"],e=1,i=n.length;e<i;e++)r.push(n[e].x),r.push(n[e].y);return r.join(" ")},update:function(){this._lut=[],this.dpoints=St.derive(this.points,this._3d),this.computedirection()},computedirection:function(){var t=this.points,n=St.angle(t[0],t[this.order],t[1]);this.clockwise=n>0},length:function(){return St.length(this.derivative.bind(this))},_lut:[],getLUT:function(t){if(t=t||100,this._lut.length===t)return this._lut;this._lut=[],t--;for(var n=0;n<=t;n++)this._lut.push(this.compute(n/t));return this._lut},on:function(t,n){n=n||5;for(var r,e=this.getLUT(),i=[],o=0,u=0;u<e.length;u++)r=e[u],St.dist(r,t)<n&&(i.push(r),o+=u/e.length);return!!i.length&&o/i.length},project:function(t){var n=this.getLUT(),r=n.length-1,e=St.closest(n,t),i=e.mdist,o=e.mpos;if(0===o||o===r){var u=o/r,s=this.compute(u);return s.t=u,s.d=i,s}var a,c,f,l=(o+1)/r,h=.1/r;for(i+=1,a=u=(o-1)/r;u<l+h;u+=h)c=this.compute(u),(f=St.dist(t,c))<i&&(i=f,a=u);return(c=this.compute(a)).t=a,c.d=i,c},get:function(t){return this.compute(t)},point:function(t){return this.points[t]},compute:function(t){return St.compute(t,this.points,this._3d)},raise:function(){for(var t,n,r=this.points,e=[r[0]],i=r.length,o=1;o<i;o++)t=r[o],n=r[o-1],e[o]={x:(i-o)/i*t.x+o/i*n.x,y:(i-o)/i*t.y+o/i*n.y};return e[i]=r[i-1],new Bt(e)},derivative:function(t){var n,r,e=1-t,i=0,o=this.dpoints[0];2===this.order&&(o=[o[0],o[1],Ft],n=e,r=t),3===this.order&&(n=e*e,r=e*t*2,i=t*t);var u={x:n*o[0].x+r*o[1].x+i*o[2].x,y:n*o[0].y+r*o[1].y+i*o[2].y};return this._3d&&(u.z=n*o[0].z+r*o[1].z+i*o[2].z),u},curvature:function(t){return St.curvature(t,this.points,this._3d)},inflections:function(){return St.inflections(this.points)},normal:function(t){return this._linear?this.linearNormal():this._3d?this.__normal3(t):this.__normal2(t)},linearNormal:function(){var t=this.points[this.points.length-1],n=this.points[0],r=this.length(),e=(t.y-n.y)/r,i=(t.x-n.x)/r;return isNaN(i),{x:-e,y:i}},__normal2:function(t){var n=this.derivative(t),r=zt(n.x*n.x+n.y*n.y);return{x:-n.y/r,y:n.x/r}},__normal3:function(t){var n=this.derivative(t),r=this.derivative(t+.01),e=zt(n.x*n.x+n.y*n.y+n.z*n.z),i=zt(r.x*r.x+r.y*r.y+r.z*r.z);n.x/=e,n.y/=e,n.z/=e,r.x/=i,r.y/=i,r.z/=i;var o={x:r.y*n.z-r.z*n.y,y:r.z*n.x-r.x*n.z,z:r.x*n.y-r.y*n.x},u=zt(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=u,o.y/=u,o.z/=u;var s=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{x:s[0]*n.x+s[1]*n.y+s[2]*n.z,y:s[3]*n.x+s[4]*n.y+s[5]*n.z,z:s[6]*n.x+s[7]*n.y+s[8]*n.z}},isStub:function(){return this.length()<.001},hull:function(t){var n,r=this.points,e=[],i=[],o=0,u=0,s=0;for(i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],3===this.order&&(i[o++]=r[3]);r.length>1;){for(e=[],u=0,s=r.length-1;u<s;u++)n=St.lerp(t,r[u],r[u+1]),i[o++]=n,e.push(n);r=e}return i},split:function(t,n){if(0===t&&n)return this.split(n).left;if(1===n)return this.split(t).right;var r=this.hull(t),e={left:2===this.order?new Bt([r[0],r[3],r[5]]):new Bt([r[0],r[4],r[7],r[9]]),right:2===this.order?new Bt([r[5],r[4],r[2]]):new Bt([r[9],r[8],r[6],r[3]]),span:r};return e.left._t1=St.map(0,0,1,this._t1,this._t2),e.left._t2=St.map(t,0,1,this._t1,this._t2),e.right._t1=St.map(t,0,1,this._t1,this._t2),e.right._t2=St.map(1,0,1,this._t1,this._t2),n?(n=St.map(n,t,1,0,1),e.right.split(n).left):e},extrema:function(){var t,n,r=this.dims,e={},i=[];return r.forEach(function(r){n=function(t){return t[r]},t=this.dpoints[0].map(n),e[r]=St.droots(t),3===this.order&&(t=this.dpoints[1].map(n),e[r]=e[r].concat(St.droots(t))),e[r]=e[r].filter((function(t){return t>=0&&t<=1})),i=i.concat(e[r].sort(St.numberSort))}.bind(this)),i=i.sort(St.numberSort).filter((function(t,n){return i.indexOf(t)===n})),e.values=i,e},bbox:function(){var t=this.extrema(),n={};return this.dims.forEach(function(r){n[r]=St.getminmax(this,r,t[r])}.bind(this)),n},overlaps:function(t){var n=this.bbox(),r=t.bbox();return St.bboxoverlap(n,r)},linearOffset:function(t){var r=this.normal(0),e=this.points.map((function(e){var i={x:e.x+t*r.x,y:e.y+t*r.y};return e.z&&n.z&&(i.z=e.z+t*r.z),i}));return new Bt(e)},offset:function(t,n){if(void 0!==n){var r=this.get(t),e=this.normal(t),i={c:r,n:e,x:r.x+e.x*n,y:r.y+e.y*n};return this._3d&&(i.z=r.z+e.z*n),i}return this._linear?[this.linearOffset(t)]:this.reduce().map((function(n){return n.scale(t)}))},simple:function(){if(3===this.order){var t=St.angle(this.points[0],this.points[3],this.points[1]),n=St.angle(this.points[0],this.points[3],this.points[2]);if(t>0&&n<0||t<0&&n>0)return!1}var r=this.normal(0),e=this.normal(1),i=r.x*e.x+r.y*e.y;return this._3d&&(i+=r.z*e.z),Rt(Nt(i))<Ct/3},reduce:function(){var t,n,r=0,e=0,i=[],o=[],u=this.extrema().values;for(-1===u.indexOf(0)&&(u=[0].concat(u)),-1===u.indexOf(1)&&u.push(1),r=u[0],t=1;t<u.length;t++)e=u[t],(n=this.split(r,e))._t1=r,n._t2=e,i.push(n),r=e;return i.filter((function(t){return!t.isStub()})).forEach((function(t){for(r=0,e=0;e<=1;)for(e=r+.01;e<=1.01;e+=.01)if(!(n=t.split(r,e)).simple()&&!n._linear){if(Rt(r-(e-=.01))<.01)return[];(n=t.split(r,e))._t1=St.map(r,0,1,t._t1,t._t2),n._t2=St.map(e,0,1,t._t1,t._t2),o.push(n),r=e;break}r<1&&((n=t.split(r,1))._t1=St.map(r,0,1,t._t1,t._t2),n._t2=t._t2,o.push(n))})),o.filter((function(t){return!t.isStub()}))},scale:function(t){if(this._linear)return this.linearOffset(t);var n=this.order,r=!1;if("function"==typeof t&&(r=t),r&&2===n)return this.raise().scale(r);var e=this.clockwise,i=r?r(0):t,o=r?r(1):t,u=[this.offset(0,10),this.offset(1,10)],s=St.lli4(u[0],u[0].c,u[1],u[1].c);if(!s)throw new Error("cannot scale this curve. Try reducing it first.");var a=this.points,c=[];return[0,1].forEach(function(t){var r=c[t*n]=St.copy(a[t*n]);r.x+=(t?o:i)*u[t].n.x,r.y+=(t?o:i)*u[t].n.y}.bind(this)),r?([0,1].forEach(function(i){if(2!==this.order||!i){var o=a[i+1],u={x:o.x-s.x,y:o.y-s.y},f=r?r((i+1)/n):t;r&&!e&&(f=-f);var l=zt(u.x*u.x+u.y*u.y);u.x/=l,u.y/=l,c[i+1]={x:o.x+f*u.x,y:o.y+f*u.y}}}.bind(this)),new Bt(c)):([0,1].forEach(function(t){if(2!==this.order||!t){var r=c[t*n],e=this.derivative(t),i={x:r.x+e.x,y:r.y+e.y};c[t+1]=St.lli4(r,i,s,a[t+1])}}.bind(this)),new Bt(c))},outline:function(t,n,r,e){n=void 0===n?t:n;var i,o=this.reduce(),u=o.length,s=[],a=[],c=0,f=this.length(),l=void 0!==r&&void 0!==e;function h(t,n,r,e,i){return function(o){var u=e/r,s=(e+i)/r,a=n-t;return St.map(o,0,1,t+u*a,t+s*a)}}o.forEach((function(i){b=i.length(),l?(s.push(i.scale(h(t,r,f,c,b))),a.push(i.scale(h(-n,-e,f,c,b)))):(s.push(i.scale(t)),a.push(i.scale(-n))),c+=b})),a=a.map((function(t){return(i=t.points)[3]?t.points=[i[3],i[2],i[1],i[0]]:t.points=[i[2],i[1],i[0]],t})).reverse();var p=s[0].points[0],y=s[u-1].points[s[u-1].points.length-1],m=a[u-1].points[a[u-1].points.length-1],d=a[0].points[0],x=St.makeline(m,p),v=St.makeline(y,d),g=[x].concat(s).concat([v]).concat(a),b=g.length;return new Pt(g)},outlineshapes:function(t,n,r){n=n||t;for(var e=this.outline(t,n).curves,i=[],o=1,u=e.length;o<u/2;o++){var s=St.makeshape(e[o],e[u-o],r);s.startcap.virtual=o>1,s.endcap.virtual=o<u/2-1,i.push(s)}return i},intersects:function(t,n){return t?t.p1&&t.p2?this.lineIntersects(t):(t instanceof Bt&&(t=t.reduce()),this.curveintersects(this.reduce(),t,n)):this.selfintersects(n)},lineIntersects:function(t){var n=It(t.p1.x,t.p2.x),r=It(t.p1.y,t.p2.y),e=Tt(t.p1.x,t.p2.x),i=Tt(t.p1.y,t.p2.y),o=this;return St.roots(this.points,t).filter((function(t){var u=o.get(t);return St.between(u.x,n,e)&&St.between(u.y,r,i)}))},selfintersects:function(t){var n,r,e,i,o=this.reduce(),u=o.length-2,s=[];for(n=0;n<u;n++)e=o.slice(n,n+1),i=o.slice(n+2),r=this.curveintersects(e,i,t),s=s.concat(r);return s},curveintersects:function(t,n,r){var e=[];t.forEach((function(t){n.forEach((function(n){t.overlaps(n)&&e.push({left:t,right:n})}))}));var i=[];return e.forEach((function(t){var n=St.pairiteration(t.left,t.right,r);n.length>0&&(i=i.concat(n))})),i},arcs:function(t){t=t||.5;return this._iterate(t,[])},_error:function(t,n,r,e){var i=(e-r)/4,o=this.get(r+i),u=this.get(e-i),s=St.dist(t,n),a=St.dist(t,o),c=St.dist(t,u);return Rt(a-s)+Rt(c-s)},_iterate:function(t,n){var r,e=0,i=1;do{r=0,i=1;var o,u,s,a,c,f=this.get(e),l=!1,h=!1,p=i,y=1;do{if(h=l,a=s,p=(e+i)/2,o=this.get(p),u=this.get(i),(s=St.getccenter(f,o,u)).interval={start:e,end:i},l=this._error(s,f,e,i)<=t,(c=h&&!l)||(y=i),l){if(i>=1){if(s.interval.end=y=1,a=s,i>1){var m={x:s.x+s.r*Ot(s.e),y:s.y+s.r*jt(s.e)};s.e+=St.angle({x:s.x,y:s.y},m,this.get(1))}break}i+=(i-e)/2}else i=p}while(!c&&r++<100);if(r>=100)break;a=a||s,n.push(a),e=y}while(i<1);return n}};var Dt=Bt,Vt=function(){return(Vt=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Xt=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,s=o.length;u<s;u++,i++)e[i]=o[u];return e};function Yt(t){var n=function(t){var n=function(t){var n=[],r=[];return t.forEach((function(e,i){var o,u;o=function(t,n,r,e){var i=r.slice(),o=e.slice(),u=$t(2*t,[1,-2,2,-1],n);return i.push(u.concat(Gt(n))),i.push(Gt(n).concat(u)),o.push(0),o.push(0),[i,o]}(i,t,n,r),n=o[0],r=o[1],u=t[i].pr?function(t,n,r,e){var i=r.slice(),o=e.slice(),u=n[t],s="R"===u.pr?1.5:2*Math.PI-1.5,a=$t(2*t-1,[1,-Math.cos(s)],n),c=$t(2*t,[Math.sin(s)],n),f=$t(2*t,[-Math.sin(s)],n);return i.push(a.concat(c),f.concat(a)),o.push((1-Math.cos(s))*u.x+Math.sin(s)*u.y),o.push((1-Math.cos(s))*u.y-Math.sin(s)*u.x),[i,o]}(i,t,n,r):function(t,n,r,e){var i=r.slice(),o=e.slice(),u=$t(2*t-1,[1,1],n);return i.push(u.concat(Gt(n))),i.push(Gt(n).concat(u)),o.push(2*n[t].x),o.push(2*n[t].y),[i,o]}(i,t,n,r),n=u[0],r=u[1]})),[n,r]}(t),r=n[0],e=n[1],i=st.a.solve(r,e);return{xControlPoints:i.slice(0,i.length/2),yControlPoints:i.slice(i.length/2)}}(t),r=n.xControlPoints,e=n.yControlPoints;return t.map((function(n,i){var o=function(t,n,r,e){var i=$(t,e);return[[e[t].x,e[t].y],[n.shift(),r.shift()],[n.shift(),r.shift()],[i.x,i.y]]}(i,r,e,t);return Vt(Vt({},n),{outboundBezier:Wt(o)})}))}function Wt(t){return new(Dt.bind.apply(Dt,Xt([void 0],t.reduce((function(t,n){return t.concat(n)})))))}function Gt(t){return Array(2*t.length).fill(0)}function $t(t,n,r){for(var e=Gt(r),i=0,o=n;i<o.length;i++){var u=o[i];t>e.length-1?e[t%e.length]=u:t>=0?e[t]=u:e[e.length+t]=u,t++}return e}var Ht=function(){return(Ht=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Qt=(u.knot.strokeWidth+u.knot.borderWidth)/2;function Zt(t,n){function r(t,n){return t.reduce().map((function(t){return t.scale(n)})).reduce((function(t,n,r){return"StraightLine"===n.constructor.name?0===r?t.concat([{x:n.start[0],y:n.start[1]},{x:n.end[0],y:n.end[1]}]):t.concat([{x:n.end[0],y:n.end[1]}]):t.concat(n.getLUT(u.resolution))}),[]).map((function(t){return new o.a.Point2D(t.x,t.y)}))}return n.forEach((function(e,i){var o=$(i,n),u=r(e.outboundBezier,-Qt),s=r(e.outboundBezier,Qt);"R"===e.direction||"L"===e.pr?(t.set(e.point,Ht(Ht({},t.get(e.point)||{}),{overOutLeft:u,overOutRight:s})),t.set(o.point,Ht(Ht({},t.get(o.point)||{}),{underInLeft:u,underInRight:s}))):(t.set(e.point,Ht(Ht({},t.get(e.point)||{}),{underOutLeft:u,underOutRight:s})),t.set(o.point,Ht(Ht({},t.get(o.point)||{}),{overInLeft:u,overInRight:s})))})),t}var Kt=function(){return(Kt=Object.assign||function(t){for(var n,r=1,e=arguments.length;r<e;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)},Jt=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,s=o.length;u<s;u++,i++)e[i]=o[u];return e};function tn(t){var n=function(t){var n=[];for(;t.lines.some(_);)n.push(G(t));return n}(t).map(Yt);return{frame:t,elements:[],contours:n,overUnders:rn(n)}}function nn(t,n,r){var e=t.overInLeft.concat(t.overOutLeft),i=t.overInRight.concat(t.overOutRight),o=function(t,n,r){return"out"===r?"R"===n?t.underOutRight:t.underOutLeft:"R"===n?t.underInRight:t.underInLeft}(t,n,r),u=a(o,e)||a(o,i);u&&function(t,n,r){"out"===r?(f(t,t.slice(n.idxA+1)),t.unshift(n.intersection)):"in"===r&&(f(t,t.slice(0,n.idxA+1)),t.push(n.intersection))}(o,u,r)}function rn(t){if(t){var n=t.reduce(Zt,new Map);return t.forEach((function(t,r){t.forEach((function(t,r){var e=t.point,i=n.get(e);t.pr||(e.trimmed||(nn(i,"R","out"),nn(i,"R","in"),nn(i,"L","out"),nn(i,"L","in")),e.trimmed=!0)}))})),n}}function en(t){if(t.contours){t.frame.lines=Y(t.frame.nodes,t.frame.adjacencyList),t.frame.crossingPoints=t.frame.lines.map((function(t){return t.crossingPoint}));var n=function(t){return t.contours.reduce((function(n,r){for(var e=[],i=0;i<r.length;i++){var o=r[i],u=t.overUnders.get(o.point);if(o.pr||$(i,r).pr){if(o.pr){var s=new ot({pr:o,elements:t.elements,middleOutbound:H(i,r).outboundBezier,middleInbound:o.outboundBezier}).draw(u);e.push.apply(e,s)}}else e.push.apply(e,on(t,o,u))}return Kt(Kt({},n),{polylines:Jt(n.polylines,e)})}),{polylines:[]})}(t).polylines;return n.forEach((function(n){var r=function(t){!function(t){for(var n=0;n<t.length-4;n+=2)Sn.push(t.slice(n,n+4))}(t)}(n);t.elements&&t.elements.push(r)})),t.frame.nodes.forEach(Nn),n}}function on(t,n,r){var e=r.overOutLeft,i=r.overOutRight,o=r.underOutLeft,u=r.underOutRight;return("R"===n.direction?[e,i]:[o,u]).map((function(t){return t.reduce(l,[])}))}var un=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,s=o.length;u<s;u++,i++)e[i]=o[u];return e},sn=[],an=[],cn=[];function fn(t,n,r){var e=Array(u.webgl.circleSides).fill(0).map((function(e,i){var o=i/u.webgl.circleSides*2*Math.PI;return[t+r*Math.cos(o),n+r*Math.sin(o)]}));e.forEach((function(r,i){an.push([t,n],r,e[i-1]||e[e.length-1])}))}function ln(){if(sn=[],cn=[],an=[],m.frame&&m.frame.lines.forEach((function(t){var n,r,e,i,o,u;r=(n=t).startX,e=n.startY,i=n.endX,o=n.endY,u=w(function(t,n){return[n[0]-t[0],n[1]-t[1]]}([r,e],[i,o])),sn.push(M([r,e],S(u,2.5)),M([i,o],S(u,-2.5)),M([r,e],S(u,-2.5)),M([r,e],S(u,2.5)),M([i,o],S(u,2.5)),M([i,o],S(u,-2.5)))})),m.knot){var t=en(m.knot);t&&t.forEach((function(t){for(var n=0;n<t.length-4;n+=2)cn.push(t.slice(n,n+4))}))}return m.gridLines.forEach((function(t){var n=t.startX,r=t.startY,e=t.endX,i=t.endY;t.style;cn.push([n,r,e,i])})),m.mouseTracker&&fn.apply(void 0,un(m.mouseTracker,[2])),m.userLine&&cn.push(un([m.userLine.startNode.x,m.userLine.startNode.y],m.userLine.toCoords)),{singlePixelLines:cn,lines:sn,circles:an}}var hn,pn,yn,mn,dn,xn,vn,gn,bn=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,s=o.length;u<s;u++,i++)e[i]=o[u];return e},wn=Object.freeze({cols:u.graphCols,rows:u.graphRows,style:u.graphLine});function Mn(){return bn(Array.from(Array(m.rows+1),(function(t,n){return n})).map((function(t){var n=g([0,t]),r=n[0],e=n[1],i=g([m.columns,t]);return{startX:r,startY:e,endX:i[0],endY:i[1],style:wn.style}})),Array.from(Array(m.columns+1),(function(t,n){return n})).map((function(t){var n=g([t,0]),r=n[0],e=n[1],i=g([t,m.rows]);return{startX:r,startY:e,endX:i[0],endY:i[1],style:wn.style}})))}var Sn=[],An=[];function Pn(){!function(){var t=hn.canvas,n=window.devicePixelRatio||1,r=Math.floor(t.clientHeight*n),e=Math.floor(t.clientWidth*n);t.width===e&&t.height===r||(t.width=e,t.height=r,m.canvasHeight=r,m.canvasWidth=e);var i=hn.getUniformLocation(pn,"uCanvasWidth"),o=hn.getUniformLocation(pn,"uCanvasHeight");hn.uniform1f(i,t.width),hn.uniform1f(o,t.height),hn.viewport(0,0,hn.canvas.width,hn.canvas.height)}(),m.columns=Math.floor(m.canvasWidth/u.targetSquareSize),m.rows=Math.floor(m.canvasHeight/u.targetSquareSize),m.gridLines=Mn(),m.squareSize=Math.min(m.canvasWidth/m.columns,m.canvasHeight/m.rows),hn.clear(hn.COLOR_BUFFER_BIT);var t=ln(),n=t.singlePixelLines,r=t.lines,e=t.circles;if(n.length>0){hn.bindVertexArray(xn),hn.bindBuffer(hn.ARRAY_BUFFER,yn);var i=Ln(n);hn.bufferData(hn.ARRAY_BUFFER,i,hn.STATIC_DRAW),hn.drawArrays(hn.LINES,0,i.length/2)}if(r.length>0){hn.bindVertexArray(vn),hn.bindBuffer(hn.ARRAY_BUFFER,mn);i=Ln(r);hn.bufferData(hn.ARRAY_BUFFER,i,hn.STATIC_DRAW),hn.drawArrays(hn.TRIANGLES,0,i.length/2)}if(e.length>0){hn.bindVertexArray(gn),hn.bindBuffer(hn.ARRAY_BUFFER,dn);i=Ln(e);hn.bufferData(hn.ARRAY_BUFFER,i,hn.STATIC_DRAW),hn.drawArrays(hn.TRIANGLES,0,i.length/2)}}function Ln(t){var n=[];return t.forEach((function(t){n.push.apply(n,t)})),new Float32Array(n)}function En(t){var n=t.createVertexArray();if(null===n)throw new Error("failed to create vertex array object");return n}function _n(t){var n=t.createBuffer();if(null===n)throw new Error("failed to create buffer");return n}function kn(t,n,r,e,i,o,u,s,a,c){void 0===s&&(s=!1),void 0===a&&(a=0),void 0===c&&(c=0);var f=t.getAttribLocation(n,r);t.bindVertexArray(e),t.bindBuffer(t.ARRAY_BUFFER,i),t.enableVertexAttribArray(f),t.vertexAttribPointer(f,o,u,s,a,c)}function Rn(t){pn=function(t,n){var r=n.vertexShader,e=n.fragmentShader,i=t.createShader(t.VERTEX_SHADER);if(!i)throw new Error("failed to create vertex shader");if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("failed to compile vertex shader: "+t.getShaderInfoLog(i));var o=t.createShader(t.FRAGMENT_SHADER);if(!o)throw new Error("failed to create fragment shader");if(t.shaderSource(o,e),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS))throw new Error("failed to compile fragment shader: "+t.getShaderInfoLog(o));var u=t.createProgram();if(!u)throw new Error("failed to create GLSL program");if(t.attachShader(u,i),t.attachShader(u,o),t.linkProgram(u),!t.getProgramParameter(u,t.LINK_STATUS))throw new Error("GLSL program failed to link: "+t.getProgramInfoLog(u));return u}(hn=t,{vertexShader:"#version 300 es\n\nin vec4 vPosition;\nuniform float uCanvasWidth;\nuniform float uCanvasHeight;\n\n\nvoid main() {\n    float translation_delta = -1.0;\n    mat2 scale = mat2(\n        2.0 / uCanvasWidth, 0.0,\n        0.0, 2.0 / uCanvasHeight\n    );\n    gl_PointSize = 1.0;\n    vec2 scaled_position =  scale * vPosition.xy;\n    vec2 pos = scaled_position + translation_delta;\n    gl_Position = vec4(pos.x, -pos.y, 0, 1.0);\n}\n",fragmentShader:"#version 300 es\n\nprecision highp float;\nout vec4 outColor;\n\nvoid main() {\n    outColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}\n"}),hn.clearColor(1,1,1,1),hn.useProgram(pn),xn=En(hn),vn=En(hn),gn=En(hn),mn=_n(hn),yn=_n(hn),dn=_n(hn),kn(hn,pn,"vPosition",xn,yn,2,hn.FLOAT),kn(hn,pn,"vPosition",vn,mn,2,hn.FLOAT),kn(hn,pn,"vPosition",gn,dn,2,hn.FLOAT)}var In,Tn,On=function(){for(var t=0,n=0,r=arguments.length;n<r;n++)t+=arguments[n].length;var e=Array(t),i=0;for(n=0;n<r;n++)for(var o=arguments[n],u=0,s=o.length;u<s;u++,i++)e[i]=o[u];return e},jn=!0;function Nn(t){!function(t,n,r){var e=Array(u.webgl.circleSides).fill(0).map((function(e,i){var o=i/u.webgl.circleSides*2*Math.PI;return[t+r*Math.cos(o),n+r*Math.sin(o)]}));e.forEach((function(r,i){An.push([t,n],r,e[i-1]||e[e.length-1])}))}(t.x,t.y,u.nodeStyle.radius)}function zn(){jn&&(m.knot&&en(m.knot),Pn(),jn=!1),requestAnimationFrame(zn)}var Cn={knots:[],mode:"add-grid",mouseIsDown:!1,setupWebglContext:function(){var t=document.getElementById("webgl-surface");if(!(t instanceof HTMLCanvasElement))throw new Error("no canvas for webgl");var n,r=t.getContext("webgl2");if(!((n=r)instanceof WebGL2RenderingContext&&n.canvas instanceof HTMLCanvasElement))throw new Error("failed to get webgl context");Rn(r)},handleMouseDown:function(t){switch(this.mouseIsDown=!0,this.mode){case"add-grid":this.startDrawingGrid(t);break;case"add-line":this.startDrawingLine(d(t));break;case"add-node":this.placeNode(t)}},handleMouseUp:function(t){if(t.target instanceof Element&&"BUTTON"!==t.target.tagName)switch(this.mouseIsDown=!1,this.mode){case"add-grid":m.frame&&this.createKnot();break;case"add-line":this.finishDrawingLine(t)}},handleMouseMove:function(t){var n;if(m.mouseTracker=d(t),jn=!0,this.mouseIsDown)switch(this.mode){case"add-grid":this.dragFrame(t);break;case"add-line":(null===(n=m.userLine)||void 0===n?void 0:n.startNode)&&this.drawUserLine(m.userLine.startNode,d(t))}},addMouseListeners:function(){var t=document.getElementById("webgl-wrapper");t&&(t.addEventListener("mousedown",this.handleMouseDown.bind(this),!1),t.addEventListener("mousemove",this.handleMouseMove.bind(this),!1)),window.addEventListener("mouseup",this.handleMouseUp.bind(this),!1)},startDrawLoop:function(){requestAnimationFrame(zn)},createKnot:function(){var t=tn(m.frame);m.knot=t,this.knots.push(t),jn=!0},addNode:function(t){var n=this.singleNodeFrame(t);n.lines=Y(n.nodes,n.adjacencyList),n.crossingPoints=n.lines.map((function(t){return t.crossingPoint}));var r=tn(n);en(r),this.knots.push(r)},singleNodeFrame:function(t){return{nodes:[new P({x:t[0],y:t[1],gridSystem:y.square})],adjacencyList:[[]]}},placeNode:function(t){var n=d(t).map((function(t){var n=t-.5*u.maxStrokeWidth();return Math.round(n/u.squareHeight)})),r=g(n);this.isNodeOverlapping(r)||this.addNode(n)},isNodeOverlapping:function(t){return this.knots.some((function(n){return X.apply(void 0,On(t,[n.frame.nodes]))}))},updateFrame:function(){m.frame=B(In,Tn),jn=!0},startDrawingGrid:function(t){In=v(t),Tn=In,x(In,this.updateFrame.bind(this))},dragFrame:function(t){b(Tn,Tn=v(t))||x(Tn,function(){var t=m.frame;t&&(t.lines=[]),m.frame=B(In,Tn),t.nodes.forEach(Nn)}.bind(this))},drawUserLine:function(t,n){m.userLine={startNode:t,toCoords:n}},newLineIsValid:function(t,n){var r=m.frame;return n&&n!==t&&!U(t,n,r.lines)},finishDrawingLine:function(t){var n=m.userLine.startNode;m.userLine=null;var r=d(t),e=this.nodeAt(r);n&&e&&this.newLineIsValid(n,e)&&this.makeNewLine(n,e)},makeNewLine:function(t,n){var r,e,i,o,u=m.knot,s=this.findKnotWith(t),a=this.findKnotWith(n);s&&a&&s!==a?this.mergeKnots(s,a,t,n):(e=t,i=n,(o=(r=u).frame).adjacencyList=D(e,i,o.nodes,o.adjacencyList),o.lines=Y(o.nodes,o.adjacencyList),o.crossingPoints=o.lines.map((function(t){return t.crossingPoint})),Object.assign(r,tn(o)),en(r))},mergeKnots:function(t,n,r,e){var i=function(t,n,r,e){var i,o,u,s,a,c=(i=t.frame,o=n.frame,u=i.nodes.length,s=i.nodes.concat(o.nodes),a=o.adjacencyList.map((function(t){return t.map((function(t){return t+u}))})),{nodes:s,adjacencyList:i.adjacencyList.concat(a)});c.adjacencyList=D(r,e,c.nodes,c.adjacencyList),c.lines=Y(c.nodes,c.adjacencyList),c.crossingPoints=c.lines.map((function(t){return t.crossingPoint})),c.nodes.forEach(Nn);var f=tn(c);return en(f),f.elements=t.elements.concat(n.elements),f}(t,n,r,e);m.knot=i,m.frame=i.frame,this.knots.push(i)},nodeAt:function(t){var n;return this.knots.some((function(r){return!!(n=q(t,r.frame.nodes))})),n||null},findKnotWith:function(t){return this.knots.find((function(n){return n.frame.nodes.includes(t)}))||null},startDrawingLine:function(t){var n=this.nodeAt(t);if(n){var r=this.findKnotWith(n);r&&(m.knot=r,m.frame=r.frame,this.drawUserLine(n,t))}}};function Fn(t){var n,r=document.getElementById(t);if(!r)throw new Error("button not present in the DOM");r.addEventListener("click",(n=t,function(){return Cn.mode=n}),!1)}document.addEventListener("DOMContentLoaded",(function(){Cn.setupWebglContext(),Cn.addMouseListeners(),Cn.startDrawLoop(),A.forEach(Fn)}),!1)}]);